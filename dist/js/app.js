(function(e){function t(t){for(var i,a,l=t[0],r=t[1],d=t[2],c=0,u=[];c<l.length;c++)a=l[c],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&u.push(n[a][0]),n[a]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);p&&p(t);while(u.length)u.shift()();return o.push.apply(o,d||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,a=1;a<s.length;a++){var l=s[a];0!==n[l]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},a={app:0},n={app:0},o=[];function l(e){return r.p+"js/"+({}[e]||e)+".js"}function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(e){var t=[],s={"chunk-1ac876bb":1,"chunk-358346e4":1,"chunk-50e43dff":1,"chunk-528738e0":1,"chunk-63c68468":1,"chunk-6af1dab0":1};a[e]?t.push(a[e]):0!==a[e]&&s[e]&&t.push(a[e]=new Promise((function(t,s){for(var i="css/"+({}[e]||e)+".css",n=r.p+i,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var d=o[l],c=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===i||c===n))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){d=u[l],c=d.getAttribute("data-href");if(c===i||c===n)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||n,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[e],p.parentNode.removeChild(p),s(o)},p.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){a[e]=0})));var i=n[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,s){i=n[e]=[t,s]}));t.push(i[2]=o);var d,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=l(e);var u=new Error;d=function(t){c.onerror=c.onload=null,clearTimeout(p);var s=n[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,s[1](u)}n[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:c})}),12e4);c.onerror=c.onload=d,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var p=c;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"04e0":function(e,t,s){},"0514":function(e,t,s){},"081e":function(e,t,s){"use strict";t["a"]={props:{options:{type:Array,default:()=>[]},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},data(){return{internalValue:"",isLoading:!1,apiOptions:null}},watch:{url(){this.setIncomingValue(this.vModelValue)},vModelValue(e,t){e!==t&&this.setIncomingValue(e,t)}},computed:{computedOptions(){return this.apiOptions||this.options&&this.options.length&&this.options||this.schema&&this.schema.options||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.options||[]},internalOptions(){return this.computedOptions},dataUrl(){return this.url},filteredProps(){const e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e},isAjax(){return!!this.dataUrl}},methods:{setIncomingValue(e,t){e!=t&&(Array.isArray(e)?this.internalValue=this.computedOptions&&this.computedOptions.filter(t=>{const s="string"===typeof t?t:t[this.trackBy];return e.indexOf(s)>-1}):(this.internalValue=this.computedOptions&&this.computedOptions.find(t=>{const s="string"===typeof t?t:t[this.trackBy];return s==e}),!this.internalValue&&this.url&&this.loadRemoteEntities(e)))},updateSelected(e){if(this.internalValue=e,e&&"string"!==typeof e&&"number"!==typeof e)if(Array.isArray(e)){const t=e.map(e=>e[this.trackBy]);this.$emit("input",t)}else this.$emit("input",e[this.trackBy]);else this.$emit("input",e)},loadRemoteEntities(e){if(this.dataUrl){this.isLoading=!0;const t=this.$http.get(this.dataUrl,{params:{listOfValues:this.fieldOptions.queryParams&&this.fieldOptions.queryParams.listOfValues||!1,search:e}});return t.then(e=>{this.apiOptions=this.apiResponseConfig&&this.apiResponseConfig.dataPath?_.get(e,this.apiResponseConfig.dataPath):e.data.body,this.isLoading=!1}).catch(e=>{console.error(e),this.isLoading=!1}),t}return Promise.resolve()}},created(){},mounted(){this.setIncomingValue(this.vModelValue)}}},"0976":function(e,t,s){"use strict";var i=s("9c0b"),a=s.n(i);a.a},"09b8":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aw-list aw-listing"},[s("div",{staticClass:"float-left col-6 pl-0"},[e._t("list-header-left"),e.segmentFieldDefinitionComputed?s("div",{staticClass:"card aw-segment-table-wrapper"},[s("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange}})],1):e._e()],2),s("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("list-header-right")],2),s("div",{staticClass:"card aw-list-card aw-list-component awesome-list"},[e.showHeader?s("div",{staticClass:"card-header",class:"aw-list-header "+(e.opts.headerStyle?"colored-header bg-"+e.opts.headerStyle:"")},[s("h3",{staticClass:"mb-0"},[e._t("aw-list-title",(function(){return[e._v(e._s(e.titleComputed))]})),e.actions&&e.actions.refresh?s("button",{staticClass:"btn btn-simple btn-sm",on:{click:function(t){return e.getItems()}}},[s("i",{staticClass:"fa fa-refresh",class:e.isRefreshing?" fa-spin text-primary":"text-muted"})]):e._e(),s("div",{staticClass:"btn-group float-right aw-list-buttons"},[e._t("top-actions"),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions.filter&&e.actions.advancedFiltering?s("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[s("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.filters"))+" "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+" ")]):e._e(),e.actions&&e.actions.changeItemsPerRow?[s("button",{staticClass:"btn btn-sm btn-sm",class:1===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setListMode()}}},[s("i",{class:"fa fa-list"})]),s("button",{staticClass:"btn btn-sm",class:2===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setMediumGridMode()}}},[s("i",{class:"fa fa-th-large"})]),s("button",{staticClass:"btn btn-sm",class:3===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setGridMode()}}},[s("i",{class:"fa fa-th"})])]:e._e(),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions&&(e.actions.export||e.actions.import)?s("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[s("button",{staticClass:"btn btn-simple dropdown-toggle btn-sm",attrs:{slot:"reference",type:"button"},slot:"reference"},[e._v(" "+e._s(e.$t("AwesomeTable.more"))+" ")]),s("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("table-top-more-actions"),e.actions&&e.actions.export?s("button",{staticClass:"btn  btn-sm btn-success btn-simple btn-block",on:{click:e.exportCallBack}},[s("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("common.buttons.excel"))+" ")]):e._e(),s("button",{staticClass:"btn btn-sm  btn-default btn-simple btn-block",on:{click:e.exportCurrentArrayToExcel}},[s("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("common.buttons.excel-currentpage"))+" ")])],2)]):e._e()],1)],2)],2)],2),s("p",{staticClass:"card-category"},[e._t("list-subtitle")],2),s("div",{},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[e.displayAwFilter?s("awesome-filter",{staticClass:"pl-0  ",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e.actions.filter?s("awesome-filter",{attrs:{"display-filters":"",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e()],1),s("div",{staticClass:"col-sm-12 offset-md-6 col-md-6"},[e.actions.search?s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Rechercher"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()])])])]):e._e(),s("div",{staticClass:"card-body"},[e._paginatedItems?s("div",{staticClass:"list-responsive",class:e.styles.listWrapperClasses},[e._l(e._paginatedItems,(function(t,i){return[s("div",{key:i,staticClass:"pointer d-flex ",class:e.itemWrapperClasses,on:{click:function(s){return e.handleItemClick(s,t)}}},[e._t("list-item",(function(){return[s("div",{staticClass:"card mb-3 aw-list-item flex-fill",class:e.itemClasses,style:{"flex-direction":e.itemsPerRow<2?"row":"column",height:e._itemHeight}},[e.imageField?s("img",{staticClass:"card-img-top",class:e.imageClasses,style:e.imageStyles,attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),s("div",{staticClass:"card-body"},[e.getItemProperty(t,e.titleField)?s("h4",{staticClass:"card-title aw-list-item-title",domProps:{innerHTML:e._s(e.getItemProperty(t,e.titleField))}}):e._e(),e.getItemProperty(t,e.subtitleField)?s("h6",{staticClass:"card-title aw-list-item-subtitle",domProps:{innerHTML:e._s(e.getItemProperty(t,e.subtitleField))}}):e._e(),!e._useClassicLayout&&e._modelDisplayField&&t[e._modelDisplayField]?s("h3",{staticClass:"card-title aw-list-item-title"},[e._v(" "+e._s(t[e._modelDisplayField]))]):e._e(),e.getItemProperty(t,e.descriptionField)?s("p",{staticClass:"card-text aw-list-item-description"},[s("AwesomeDisplay",e._b({attrs:{value:e.getItemProperty(t,e.descriptionField)}},"AwesomeDisplay",e.getField(e.descriptionField),!1))],1):e._e(),e.columns&&e.columns.length&&!e._useClassicLayout?e._l(e.getAllowedFields(t),(function(t,i){return s("div",{key:i},[s("small",{staticClass:"aw-list-item-field-label text-info"},[e._v(e._s(e.getField(i).label||i))]),s("br"),s("AwesomeDisplay",e._b({attrs:{value:t,relation:e.getField(i).relation,"relation-label":e.getField(i).relationLabel,"relation-url":e.getField(i).relationUrl,"relation-key":e.getField(i).relationKey}},"AwesomeDisplay",e.getField(i),!1))],1)})):e._e(),e.actions.itemButton?s("div",{staticClass:"aw-list-item-action pl-3 pr-3"},[s("button",{staticClass:"btn btn-primary btn-sm ",class:e.itemsPerRow>1?"btn-block":"",on:{click:function(s){return e.handleItemButtonClick(s,t)}}},[e._v(" "+e._s(e.$t("AwesomeList.buttons.itemAction"))+" ")])]):e._e()],2)])]}),{item:t,"itemsPerRow:":"itemsPerRow",index:i})],2)]}))],2):e._e(),void 0==e.actions.pagination||e.actions.pagination?s("hr"):e._e(),void 0==e.actions.pagination||e.actions.pagination?s("nav",{staticClass:"text-center"},[s("paginate",{attrs:{"page-count":e._pageCount,"page-range":3,"margin-pages":2,"click-handler":e.onPaginationChange,"prev-text":"<< ","next-text":" >>","container-class":"pagination","page-class":"page-item","prev-class":"page-item","page-link-class":"page-link","prev-link-class":"page-link","next-link-class":"page-link"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e()])])])},a=[],n=s("97d1"),o=s.n(n),l=s("f2a3"),r=s.n(l),d=s("60bb"),c=s.n(d),u=s("99b5"),p=s("5a3e"),h=s("5d5e"),m=s("6c53"),f=s("cae3"),g=s("3ac4"),b=s("0dce"),y=s("5598"),v=s("32a2"),C={name:"AwesomeList",components:{Paginate:r.a,AwesomeDisplay:b["a"],AwesomeFilter:y["a"],popper:o.a,AwesomeSegments:v["a"]},mixins:[p["a"],u["a"],h["a"],m["a"],f["a"],g["a"]],props:{columns:{type:Array,default:()=>[]},perRow:{type:Number,default:3},perPage:{type:Number,default:6},useGridSystem:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},gridModeItemHeight:{type:[Number,String],default:void 0},listModeItemHeight:{type:[Number,String],default:void 0},imageField:{type:String,description:"The field to use for the image"},titleField:{type:String,description:"The field to use for the title"},subtitleField:{type:String,description:"The field to use for the subtitle"},descriptionField:{type:String,description:"The field to use for the description"},displayFields:{type:Array,description:"The fields to display on the card"},translations:{type:Object,default:()=>({"AwesomeList.buttons.increase":"More items per row","AwesomeList.buttons.decrease":"Less items per row","AwesomeList.buttons.refresh":"Refresh","AwesomeList.buttons.itemAction":"Open"})},styles:{type:Object,default:()=>({})},imageClasses:{type:[Object,String],default:"",description:"classes to put around the image"},itemClasses:{type:[Object,String],default:"shadow",description:"classes to put around the item"},imageStyles:{type:[Object,String],default:"",description:"styles to put around the image"},actions:{type:Object,default:()=>({itemButton:!0,refresh:!0,changeItemsPerRow:!0,pagination:!0})},defaultOptions:{type:Object,default:()=>({fixedHeader:!1,maxHeight:"",pagination:!0,customInlineActions:[],customBulkActions:[]})},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."}},data(){return{itemsPerRow:3,page:0,data:[],advancedFilters:[],search:"",displayAwFilter:!1}},computed:{titleComputed(){return!1===this.title?"":this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.pluralName?this.$te(this._model.pluralName)?this.$t(this._model.pluralName):c.a.startCase(this._model.pluralName):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):c.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):c.a.startCase(this._model.name):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):c.a.startCase(this.identity):""},_itemHeight(){const e=1===this.itemsPerRow?this.listModeItemHeight:this.gridModeItemHeight;return e?c.a.isString(e)?e:e+"px":"auto"},_pageCount(){const e=parseInt(this.serverParams.perPage)||this.perPage;return e&&this.totalCount?Math.ceil(this.totalCount/e):0},itemWrapperClasses(){if(!this.useGridSystem)return"";switch(this.itemsPerRow){case 0:case 1:default:return"col-12";case 2:return"col-6";case 3:return"col-4";case 4:return"col-3";case 5:case 6:return"col-2";case 12:return"col-1"}},_paginatedItems:{get(){const e=this.serverParams&&this.serverParams.page?this.serverParams.page:1,t=parseInt(this.serverParams.perPage)||this.perPage,s=(e-1)*t;return this.data?"remote"===this.mode?this.data:this.localSearch(this.data,this.search).slice(s,s+t):[]},set(e){console.warn(e)}},_useClassicLayout(){return this.imageField||this.titleField||this.subtitleField||this.descriptionField},advancedFiltersCount(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated(){return y["a"].methods.parseFilter(this.advancedFilters,{dispatch:!1})},_modelDisplayField(){return this._model&&this._model.displayField?this._model.displayField:this.primaryKey?this.primaryKey:""},_model(){return this.model||this.getModelFromStore(this.identity)}},watch:{perRow:"resetItemsPerRow",rows:"refreshLocalData",search(e){this.onSearch({searchTerm:e})}},created(){},beforeMount(){},mounted(){this.perRow&&this.resetItemsPerRow()},beforeDestroy(){},methods:{getAllowedFields(e){let t={};return Object.keys(e).forEach(s=>{this.columns.forEach(i=>{i.field===s&&(t=Object.assign(t,c.a.pick(e,[s])))})}),t},getField(e){const t=c.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},getFieldType(e){const t=c.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},resetItemsPerRow(){this.itemsPerRow=this.perRow},increaseItemsPerRow(e){this.itemsPerRow+=e},decreaseItemsPerRow(e){this.itemsPerRow-=e},setGridMode(){this.itemsPerRow=3},setListMode(){this.itemsPerRow=1},setMediumGridMode(){this.itemsPerRow=2},handleItemClick(e,t){this.$emit("itemClicked",t)},handleItemButtonClick(e,t){this.$emit("itemButtonClicked",t)},onPaginationChange(e){this.serverParams.page=e,"remote"===this.mode&&this.getItems()},advancedFiltering(e,t){this.updateParams({advancedFilters:c.a.cloneDeep(t),parsedAdvancedFilters:c.a.cloneDeep(e),page:0}),this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},toggleFilter(){this.filterable=!this.filterable,this.filterable||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0})),this.columns=this.columns.map(e=>(e.filterOptions&&(e.filterOptions.enabled=this.filterable),e))},localSearch(e,t){return e.filter(e=>{if(!this.search)return!0;try{return JSON.stringify(Object.values(e)).match(new RegExp(this.search,"i"))}catch(t){console.warn("err",t)}return!0})}}},w=C,_=(s("fc75"),s("2877")),O=Object(_["a"])(w,i,a,!1,null,null,null);t["a"]=O.exports},"0dce":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return"image"===e.$props.type?s("display-image",e._b({staticClass:"aw-display",attrs:{src:e.$props.value}},"display-image",e.$props,!1)):"boolean"===e.$props.type?s("display-boolean",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-boolean",e.$props,!1)):"url"===e.$props.type?s("display-url",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-url",e.$props,!1)):"html"===e.$props.type?s("display-html",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-html",e.$props,!1)):"object"===e.$props.type?s("display-object",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-object",e.$props,!1)):"checkbox"===e.$props.type?s("display-checkbox",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-checkbox",e.$props,!1)):"date"===e.$props.type||"datetime"===e.$props.type?s("display-date",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-date",e.$props,!1)):"relation"===e.$props.type?s("display-relation",e._b({staticClass:"aw-display",attrs:{relation:e.relation,relationKey:e.relationKey,relationUrl:e.relationUrl,relationLabel:e.relationLabel,value:e.$props.value}},"display-relation",e.$props,!1)):e.$props.component?s(e.$props.component,e._b({tag:"div",staticClass:"aw-display aw-display-custom",attrs:{value:e.$props.value}},"div",e.$props,!1)):s("display-default",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-default",e.$props,!1))},a=[],n={props:{options:{},value:[String,Boolean,Array,Object,Number,Date,Function],type:{type:String,values:["image","boolean","url","html","object","array","date","relation","checkbox"]},src:String,row:Array,format:[String,Function],inputFormat:String,field:String,component:[String,Object],relation:String,relationUrl:String,relationLabel:String,relationKey:String,displayField:String,multiple:Boolean,storePath:String,store:Array,displayLabelCache:{type:Object,default:()=>null},onClickUrl:[String,Function],tag:{type:[String,Object],default:"div"},prefix:String,suffix:String,styles:String,classes:String,imageClasses:[String,Array,Object],imageStyles:[String,Array,Object],isSafe:{type:Boolean,default:!1},embed:{type:Boolean,default:!1,description:"Embed the target content into an iframe"}},data(){return{}},methods:{clickOnItem(e){this.$emit("on-awesome-display-clicked",e)}}},o=s("11fc"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._b({class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.src?s("div",{staticClass:"pointer"},[s("img",{staticClass:"aw-display-image-img",class:e.$props.imageClasses,style:e.$props.imageStyles,attrs:{src:e.$props.src,alt:"image"}}),e.value?s("div",{staticClass:"image-actions"},[s("button",{staticClass:"btn btn-sm p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openImageInTab(e.$props.src)}}},[s("i",{staticClass:"fa fa-external-link"})])]):e._e()]):e._e()])},r=[],d={name:"DisplayImage",mixins:[n],methods:{openImageInTab(e){window.open(e,"_blank")}}},c=d,u=(s("d768"),s("2877")),p=Object(u["a"])(c,l,r,!1,null,null,null),h=p.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles,attrs:{"data-value":e.$props.value}},"div",e.$props,!1),[s("i",{staticClass:"fa",class:{"fa-check text-success":e.$props.value,"fa-times text-danger":!e.$props.value&&void 0!==e.$props.value}})])},f=[],g={name:"DisplayBoolean",mixins:[n]},b=g,y=Object(u["a"])(b,m,f,!1,null,null,null),v=y.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._b({staticClass:"aw-display-date pointer",class:e.$props.classes,domProps:{innerHTML:e._s(e.computedDate)}},"div",e.$props,!1))},w=[],_=s("5a0c"),O=s.n(_);const $=s("f906");O.a.extend($);var F={name:"DisplayDate",mixins:[n],computed:{computedFormat(){if(this.format)return this.format;switch(this.type){case"datetime":return"DD/MM/YYYY <br/> hh:mm";case"date":return"DD/MM/YYYY";case"time":return"hh:mm";default:return""}},computedDate(){if(!this.value)return"...";let e;e="undefined"!==typeof this.inputFormat?O()(this.value,this.inputFormat).toDate():new Date(this.value);let t=O()(e).format(this.computedFormat);return t.replace(/<(?!br\s*\/?)[^>]+>/g,"")}}},A=F,x=(s("854c"),Object(u["a"])(A,C,w,!1,null,null,null)),k=x.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.value?s("a",{staticClass:"ajax-table-href ",class:e.embed?"pull-right":"",attrs:{href:e.$props.value,target:"_blank"}},[e.embed?e._e():s("span",[e._v(" "+e._s(e.$props.value)+" ")]),s("i",{staticClass:"fa fa-external-link"})]):e._e(),e.embed?s("iframe",e._b({staticClass:"aw-display-iframe ",class:e.$props.classes,attrs:{value:"",src:e.$props.value,frameborder:"0"}},"iframe",e.$props,!1)):e._e()])},P=[],I={name:"DisplayUrl",mixins:[n]},R=I,T=Object(u["a"])(R,S,P,!1,null,null,null),L=T.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isSafe?s("div",e._b({staticClass:"pointer",class:e.$props.classes,style:e.$props.styles,domProps:{innerHTML:e._s(e.$props.value)}},"div",e.$props,!1)):e._e(),e.isSafe?e._e():s("iframe",e._b({staticClass:"aw-display-iframe",class:e.$props.classes,style:e.$props.styles,attrs:{value:"",srcdoc:e.$props.value,frameborder:"0"}},"iframe",e.$props,!1))])},M=[],j={name:"DisplayHtml",mixins:[n]},N=j,E=(s("bf71"),Object(u["a"])(N,D,M,!1,null,null,null)),V=E.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pointer text-avoid-overflow aw-display-object",class:e.$props.wrapperClasses,style:e.$props.wrapperStyles,attrs:{value:e.$props.value,field:e.$props.field}},[s("div",{class:e.$props.classes,style:e.$props.styles},[e._useArrayMode||e.multiple?[e._l(e.$props.value,(function(t,i){return[s("div",{key:i,staticClass:"badge badge-info aw-display-object-item mr-1"},[[e._v(" "+e._s(e.getValue(t))+" ")],e._valueIsArray?e._e():[s("label",[e._v(e._s(i)+":")]),s("label",{},[e._v(e._s(t))]),e._v(" | ")]],2)]}))]:[e._v(" "+e._s(e._value)+" ")]],2)])},q=[],U=s("3ac4"),K={name:"DisplayObject",mixins:[n,U["a"]],computed:{_valueIsArray(){return Array.isArray(this.value)},_useArrayMode(){return this.multiple||this._valueIsArray},_value(){return this.getValue(this.value)}},methods:{getValue(e){const t=this.displayField&&void 0!==e?e[this.displayField]:e;return this.format&&this.format.includes("{{")?this.templateParser(this.format,{value:t,currentItem:e}):t}}},H=K,G=Object(u["a"])(H,B,q,!1,null,null,null),Y=G.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._b({staticClass:"text-avoid-overflow aw-display-relation"},"div",e.$props,!1),[e._values&&e._values.length?[e._l(e._values,(function(t){return[s("div",{key:t,attrs:{title:e.getLabel(t)+" ("+t+")",tooltip:t}},[t?s("span",{staticClass:"badge badge-info pointer",on:{click:e.onClick}},[e._v(" "+e._s(e.getLabel(t))+" ")]):e._e(),t?s("span",{staticClass:"copy-link",on:{click:function(s){return e.copy(t)}}},[e._v("   "),s("i",{staticClass:"fa fa-clone text-info"})]):e._e(),t&&!e.onClickUrl?s("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.relation)+"/"+t}},[e._v("   "),s("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),t&&e.onClickUrl&&e.isFunction(e.onClickUrl)?s("div",{staticClass:"external-link",on:{click:function(s){return e.onClickUrl(t)}}},[e._v("   "),s("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),t&&e.onClickUrl&&!e.isFunction(e.onClickUrl)?s("router-link",{staticClass:"external-link",attrs:{to:e.onClickUrl+"/"+t}},[e._v("   "),s("i",{staticClass:"fa fa-external-link text-info"})]):e._e()],1)]}))]:s("div",[e._v(" ... ")])],2)},W=[],Q=s("60bb"),J=s.n(Q),Z=s("99b5"),X=s("5a3e"),ee={name:"DisplayRelation",mixins:[n,o["a"],Z["a"],X["a"]],computed:{_relationUrl(){return this.relationUrl||this.relation},_relationLabel(){return this.relationLabel||"label"},_label(){return this.storePath||this.store?this.getStoreLabel(this.value):this.getApiLabel(this.value)},_displayLabelCache(){return this.displayLabelCache||this.awComponentsConfig.displayLabelsCache||this.internalCache||{}},_values(){return this.$props.value?Array.isArray(this.$props.value)?this.$props.value:[this.$props.value]:this.$props.value}},mounted(){this.relationUrl&&this.value&&this.$awEventBus&&this.$awEventBus.$on(`displayRelation-${this.relationUrl}-${this.value}`,this.updateComponent)},beforeDestroy(){this.$awEventBus&&this.$awEventBus.$off(`displayRelation-${this.relationUrl}-${this.value}`,this.updateComponent)},data(){return{internalCache:{},timeoutId:null}},methods:{onClick(){this.timeoutId?(clearTimeout(this.timeoutId),this.timeoutId=null,this.goToRelation(this.value)):this.timeoutId=setTimeout(()=>{this.timeoutId=null},200)},kebabCase:J.a.kebabCase,isFunction:J.a.isFunction,getLabel(e){return this.storePath||this.store?this.getStoreLabel(e):this.getApiLabel(e)},goToRelation(e){if(e&&this.onClickUrl)return J.a.isFunction(this.onClickUrl)?this.onClickUrl(e):this.$router.push(this.onClickUrl+"/"+e);e&&this.$router.push("/app/"+this.kebabCase(this.relation)+"/"+e)},formatLabel(e,t=null){let s=t||this._relationLabel,i="";return i=s.indexOf("{{")>-1?this.templateParser(s,e):J.a.get(e,s,""),i},getStoreLabel(e){if(!e)return;if(this._displayLabelCache[e]&&this._displayLabelCache[e]!==e)return this._displayLabelCache[e];if(!this.store&&!(this.storePath&&this.$store&&J.a.get(this.$store.state,this.storePath)))return;const t=this.store?this.store:this.$store&&J.a.get(this.$store.state,this.storePath);if(!t)return;const s=t&&t.find(t=>t[this.relationKey]===e);if(!s)return;const i=s[this.relationLabel]||this.templateParser(this.relationLabel,s);return i&&this.$set(this._displayLabelCache,e,i),i||e},getApiLabel(e){if(!this.relationUrl&&e&&this.relationLabel){const t=J.a.isObject(e)&&this.relationLabel?e[this.relationLabel]||this.templatingMixin(this.relationLabel,e):null;if(t)return t}const t=`${this.relationUrl}/${e}`;return e&&this._displayLabelCache[t]||(this.$set(this._displayLabelCache,t,e),this.$http.get(t).then(s=>{const i=this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?J.a.get(s,this.apiResponseConfig.dataPath):s.data;s.data.totalCount&&(this.totalCount=s.data.totalCount);const a=""+this.formatLabel(i,this.relationLabel);return a?this.$set(this._displayLabelCache,t,a):this.$set(this._displayLabelCache,t,e),this.$awEventBus&&this.$awEventBus.$emit(`displayRelation-${this.relationUrl}-${this.value}`),this.$forceUpdate(),a}).catch(s=>{console.warn("getApiLabel result",this.relationLabel,s.message),this.$set(this._displayLabelCache,t,e)})),this._displayLabelCache[t]},copyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},copy(e){this.copyToClipboard(""+this.getLabel(e)),this.$awNotify&&this.$awNotify(this.$te("awesome-display.value-copied")?this.$t("awesome-display.value-copied"):"Value copied")},updateComponent(){this.$forceUpdate()}}},te=ee,se=(s("5694"),Object(u["a"])(te,z,W,!1,null,null,null)),ie=se.exports,ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._b({staticClass:"pointer text-avoid-overflow",class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[!0===e.$props.value?s("label",[s("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",checked:"",disabled:""}})]):s("label",[s("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",disabled:""}})])])},ne=[],oe={name:"DisplayCheckbox",mixins:[n]},le=oe,re=Object(u["a"])(le,ae,ne,!1,null,null,null),de=re.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.tag,e._b({tag:"div",class:e.$props.class+" aw-display-field ajax-table-col-"+e.$props.field+" ajax-table-col-value-"+e.valueClass+" "+e.$props.classes,style:e.$props.styles,on:{click:function(t){return e.$emit("clicked",e.$props)}}},"div",e.$props,!1),[e._v(" "+e._s(e.prefix||"")+e._s(e.valueDisplay)+e._s(e.suffix||"")+" ")])},ue=[],pe={name:"DisplayDefault",mixins:[n],computed:{valueDisplay(){return void 0!==this.value&&null!==this.value?this.value:"..."},valueClass(){return this.$props.value&&this.$props.value&&Object(Q["isString"])(this.$props.value)?this.$props.value.replace(/(<([^>]+)>)/gi,"").replace(/ /g,""):""}}},he=pe,me=Object(u["a"])(he,ce,ue,!1,null,null,null),fe=me.exports,ge={name:"AwesomeDisplay",mixins:[n,o["a"]],components:{DisplayCheckbox:de,DisplayBoolean:v,DisplayImage:h,DisplayUrl:L,DisplayHtml:V,DisplayObject:Y,DisplayRelation:ie,DisplayDefault:fe,DisplayDate:k},methods:{onClick(e){this.clickOnItem(e)}}},be=ge,ye=Object(u["a"])(be,i,a,!1,null,null,null);t["a"]=ye.exports},"0f45":function(e,t,s){},1138:function(e,t,s){"use strict";var i=s("ccb7"),a=s.n(i);a.a},"11fc":function(e,t,s){"use strict";var i=s("60bb"),a=s.n(i),n=s("3ac4");t["a"]={mixins:[n["a"]],props:{primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey?this.awComponentsConfig.primaryKey:"id"}},url:{type:[String,Function],default:""},apiUrl:{type:[String,Function],default:""},apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:()=>({dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",filtersOperator:"",sortField:"sort",searchField:"search"})},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data.body",totalCountPath:"data.totalCount"})},apiQueryParams:{type:Object,default:()=>{},note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestPermanentBodyParams:{type:Object,default:()=>({}),description:"Object of data that will always be merged in the request sent to the server"},apiRequestPermanentQueryParams:{type:Object,default:()=>({}),description:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:()=>({})},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:()=>({})}},mounted(){this.url&&console.warn("Url is @deprecated. Please use api url instead.")},computed:{params(){return console.info("BC this.params is deprecated, use this.apiQueryParams instead"),this.apiQueryParams},opts(){return a.a.merge(this.defaultOptions,this.options)},_url(){const e=this.apiUrl||this.url||this.getApiUrl("apiUrl")||this.getApiUrl("url");return"function"===typeof e?e({parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items}):e&&e.includes("{{")?this.templateParseUrl(e,{...this.selectedItem,parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items}):e},_translatedServerParams(){const e={};return Object.keys(this.serverParams||{}).forEach(t=>{const s=this.apiRequestConfig[t+"Field"]||t;e[s]=this.serverParams[t]}),e},_selectedItemUrl(){let e;return this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost"+this._url),e=`${e.pathname}/${this.selectedItem[this.primaryKey]}${e.search}`):e=`${this._url}/${this.selectedItem[this.primaryKey]}`,e}},created(){if(!this.$http)try{const e=s("cebe");this.$http=e}catch(e){}},methods:{getData(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?a.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?a.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},mergeSelectedItemWithRequestProps(){this.apiRequestPermanentBodyParams&&(this.selectedItem=a.a.merge(this.selectedItem,this.apiRequestPermanentBodyParams))},getApiUrl(e){return this[e]||this.mergedOptions&&this.mergedOptions[e]||this.options&&this.options[e]||this._model&&this._model[e]||this.field&&this.field.url||this.field&&this.field.fieldoptions.url}}}},"13ff":function(e,t,s){},1893:function(e,t,s){"use strict";var i=s("fbbe"),a=s.n(i);a.a},"1a0a":function(e,t,s){},"1a83":function(e,t,s){"use strict";var i=s("b549"),a=s.n(i);a.a},"1b62":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("60bb"),a=s.n(i);const n={methods:{getSegmentLabel(e){if(!e)return"";let t=e.title||e.label;return t||("string"===typeof e&&e.indexOf("|")>-1?e.split("|")[1]:a.a.startCase(e.field||e.name||a.a.isString(e)?e:this.getSegmentKey(e)))},getSegmentKey(e){if(!e)return"";let t=e.model||e.field||e.key||e.id;return t||("string"===typeof e&&e.indexOf("|")>-1?e.split("|")[0]:e)}}}},"1c05":function(e,t,s){"use strict";var i={};s.r(i),s.d(i,"fieldCheckbox",(function(){return H})),s.d(i,"fieldChecklist",(function(){return J})),s.d(i,"fieldInput",(function(){return ae})),s.d(i,"fieldLabel",(function(){return ge})),s.d(i,"fieldRadios",(function(){return _e})),s.d(i,"fieldSelect",(function(){return ke})),s.d(i,"fieldSubmit",(function(){return Le})),s.d(i,"fieldTextArea",(function(){return Ve})),s.d(i,"fieldUpload",(function(){return Ge})),s.d(i,"fieldCleave",(function(){return Ze})),s.d(i,"fieldDateTimePicker",(function(){return ot})),s.d(i,"fieldGoogleAddress",(function(){return pt})),s.d(i,"fieldImage",(function(){return yt})),s.d(i,"fieldNoUiSlider",(function(){return $t})),s.d(i,"fieldPikaday",(function(){return Pt})),s.d(i,"fieldStaticMap",(function(){return Mt})),s.d(i,"fieldSwitch",(function(){return qt})),s.d(i,"fieldVueMultiSelect",(function(){return zt})),s.d(i,"fieldNumber",(function(){return ce}));var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!=e.schema?s("div",{staticClass:"vue-form-generator"},[s("form-group",{class:e.styleClasses,attrs:{tag:e.tag,fields:e.fields,group:e.group,model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){var i=t.group,a=t.groupLegend;return[e._t("group-legend",(function(){return[a?s("legend",{staticClass:"aw-form-group-legend"},[s("span",{domProps:{innerHTML:e._s(a)}})]):e._e()]}),{group:i,groupLegend:a})]}},{key:"group-help",fn:function(t){var i=t.group;return[e._t("group-help",(function(){return[i.help?s("span",{staticClass:"help"},[s("i",{staticClass:"icon"}),s("div",{staticClass:"helpText",domProps:{innerHTML:e._s(i.help)}})]):e._e()]}),{group:i})]}},{key:"element",fn:function(t){return[s("form-element",{attrs:{field:t.field,model:t.model,options:t.options,errors:t.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"label",fn:function(t){var i=t.field,a=t.getValueFromOption;return[e._t("label",(function(){return[s("span",{domProps:{innerHTML:e._s(i.label)}})]}),{field:i,getValueFromOption:a})]}},{key:"help",fn:function(t){var i=t.field,a=t.getValueFromOption;return[e._t("help",(function(){return[i.help?s("span",{staticClass:"help"},[s("i",{staticClass:"icon"}),s("div",{staticClass:"helpText",domProps:{innerHTML:e._s(i.help)}})]):e._e()]}),{field:i,getValueFromOption:a})]}},{key:"hint",fn:function(t){var i=t.field,a=t.getValueFromOption;return[e._t("hint",(function(){return[s("div",{staticClass:"hint",domProps:{innerHTML:e._s(a(i,"hint",void 0))}})]}),{field:i,getValueFromOption:a})]}},{key:"errors",fn:function(t){var i=t.childErrors,a=t.field,n=t.getValueFromOption;return[e._t("errors",(function(){return[s("div",{staticClass:"errors help-block"},e._l(i,(function(t,i){return s("span",{key:i,domProps:{innerHTML:e._s(e.translate(t))}})})),0)]}),{errors:i,field:a,getValueFromOption:n})]}}],null,!0)})]}}],null,!0)})],1):e._e()},n=[],o=s("8bbf"),l=s.n(o),r=s("60bb"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.fields&&e.groupIsVisible?s(e.tag,{ref:"group",tag:"fieldset",class:[e.groupRowClasses,e.validationClass]},[e._t("group-legend",null,{group:e.group,groupLegend:e.groupLegend}),e._t("group-help",null,{group:e.group}),s("div",{staticClass:"row m-0",staticStyle:{flex:"1"}},[e._l(e.fields,(function(t,i){return[e.fieldVisible(t)?["group"===t.type?[s("div",{key:i,class:t.cols?"col-"+t.cols:""},[s("div",{staticClass:"wrapper",class:t.wrapperClasses},[s("form-group",{attrs:{fields:t.fields,group:t,tag:e.getGroupTag(t),model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){return[e._t("group-legend",null,{group:t.group,groupLegend:t.groupLegend})]}},{key:"group-help",fn:function(t){return[e._t("group-help",null,{group:t.group})]}},{key:"element",fn:function(t){return[e._t("element",null,{field:t.field,model:t.model,options:t.options,errors:t.errors,eventBus:t.eventBus})]}}],null,!0)})],1)])]:[e._t("element",null,{field:t,model:e.model,options:e.options,errors:e.errors,eventBus:e.eventBus})]]:e._e()]}))],2)],2):e._e()},c=[],u={methods:{getStyleClasses(e,t){let s=e.styleClasses;return Object(r["isArray"])(s)?s.forEach(e=>{t[e]=!0}):Object(r["isString"])(s)&&(t[s]=!0),t}}},p={name:"form-group",mixins:[u],props:{fields:{type:Array,default(){return[]}},group:{type:Object,default(){return{}}},tag:{type:String,default:"fieldset",validator(e){return e.length>0}},model:{type:Object,default(){return{}}},options:{type:Object,default(){return{}}},errors:{type:Array,default(){return[]}},eventBus:{type:Object,default(){return{}}}},data(){return{validationClass:{}}},watch:{},computed:{groupLegend(){return this.group&&this.group.legend?this.group.legend:""},groupRowClasses(){let e={"field-group":!0};return Object(r["isNil"])(this.group)||(e=this.getStyleClasses(this.group,e)),e},groupIsVisible(){return this.group&&this.group.visible&&Object(r["isFunction"])(this.group.visible)?this.group.visible.call(this,this.model,this.group,this):!!Object(r["isNil"])(this.group.visible)||this.group.visible}},methods:{fieldVisible(e){return Object(r["isFunction"])(e.visible)?e.visible.call(this,this.model,e,this):!!Object(r["isNil"])(e.visible)||e.visible},getGroupTag(e){return Object(r["isNil"])(e.tag)?this.tag:e.tag}},created(){this.eventBus.$on("field-validated",()=>{this.$nextTick(()=>{let e=null!==this.$refs.group.querySelector(".form-element."+Object(r["get"])(this.options,"validationErrorClass","error"));this.validationClass={[Object(r["get"])(this.options,"validationErrorClass","error")]:e,[Object(r["get"])(this.options,"validationSuccessClass","valid")]:!e}})})}},h=p,m=s("2877"),f=Object(m["a"])(h,d,c,!1,null,null,null),g=f.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-element",class:[e.fieldRowClasses]},[s("div",{staticClass:"form-inner-div",class:e.field.innerClasses},[e.fieldTypeHasLabel?s("label",{class:e.field.labelClasses,attrs:{for:e.fieldID}},[e._t("label",null,{field:e.field,getValueFromOption:e.getValueFromOption}),e._t("help",null,{field:e.field,getValueFromOption:e.getValueFromOption})],2):e._e(),e.isViewMode?[s("awesome-display",e._b({attrs:{type:e.viewFieldType,value:e.fieldValue,relation:e.field.displayOptions.relation,"relation-url":e.field.displayOptions.relationUrl,"relation-key":e.field.displayOptions.relationKey,"relation-label":e.field.displayOptions.relationLabel}},"awesome-display",e.field.displayOptions,!1))]:s("div",{staticClass:"field-content"},[s("div",{staticClass:"field-wrap"},[s(e.fieldType,{ref:"child",tag:"component",attrs:{model:e.model,schema:e.field,"form-options":e.options,"event-bus":e.eventBus,"field-i-d":e.fieldID},on:{"field-touched":e.onFieldTouched,"errors-updated":e.onChildValidated}}),e.buttonsAreVisible?s("div",{staticClass:"buttons"},e._l(e.field.buttons,(function(t,i){return s("button",{key:i,class:t.classes,domProps:{textContent:e._s(t.label)},on:{click:function(s){return e.buttonClickHandler(t,e.field,s)}}})})),0):e._e()],1),e.fieldHasHint?[e._t("hint",null,{field:e.field,getValueFromOption:e.getValueFromOption})]:e._e(),e.fieldHasErrors?[e._t("errors",null,{childErrors:e.childErrors,field:e.field,getValueFromOption:e.getValueFromOption})]:e._e()],2)],2)])},y=[],v=s("8449"),C=s("0dce"),w={name:"form-element",mixins:[u],components:{AwesomeDisplay:C["a"]},props:{model:{type:Object,default(){return{}}},options:{type:Object,default(){return{}}},field:{type:Object,required:!0},errors:{type:Array,default(){return[]}},eventBus:{type:Object,default(){return{}}}},mounted(){this.model&&"object"===typeof this.model&&this.field.value},data(){return{childErrors:[],childTouched:!1}},computed:{fieldID(){const e=Object(r["get"])(this.options,"fieldIdPrefix","");return Object(v["slugifyFormID"])(this.field,e)},fieldType(){return"field-"+(this.field&&this.field.type?this.field.type:"input")},viewFieldType(){return this.field.displayOptions&&this.field.displayOptions.type?this.field.displayOptions.type:this.field.fieldOptions.relation?"relation":this.field.fieldOptions.inputType},fieldTypeHasLabel(){if(Object(r["isNil"])(this.field.label))return!1;let e=this.getValueFromOption(this.field,"fieldOptions"),t="input"===this.field.type&&!Object(r["isNil"])(e),s=t?e.inputType:this.field.type;const i=["button","submit","reset"];return!i.includes(s)},fieldHasHint(){return!Object(r["isNil"])(this.field.hint)},fieldHasErrors(){return this.childErrors.length>0},fieldRowClasses(){let e={[Object(r["get"])(this.options,"validationErrorClass","error")]:this.fieldHasErrors,[Object(r["get"])(this.options,"validationSuccessClass","valid")]:!this.fieldHasErrors&&this.childTouched,[Object(r["get"])(this.options,"validationCleanClass","clean")]:!this.fieldHasErrors&&!this.childTouched,disabled:this.getValueFromOption(this.field,"disabled"),readonly:this.getValueFromOption(this.field,"readonly"),featured:this.getValueFromOption(this.field,"featured"),required:this.getValueFromOption(this.field,"required")};return e=this.getStyleClasses(this.field,e),Object(r["isNil"])(this.field.type)||(e["field-"+this.field.type]=!0),e},buttonsAreVisible(){return Object(r["isArray"])(this.field.buttons)&&this.field.buttons.length>0},isViewMode(){return"view"===this.field.mode},fieldValue(){return Object(r["get"])(this.model,this.field.model)}},methods:{getValueFromOption(e,t,s=!1){return Object(r["isFunction"])(e[t])?e[t].call(this,this.model,e,this):Object(r["isNil"])(e[t])?s:e[t]},buttonClickHandler(e,t,s){return e.onclick.call(this,this.model,t,s,this)},onFieldTouched(){this.childTouched=!0},onChildValidated(e){this.childErrors=e}}},_=w,O=(s("0976"),Object(m["a"])(_,b,y,!1,null,null,null)),F=O.exports,A={name:"form-generator",components:{formGroup:g,formElement:F},props:{schema:{type:Object,default(){return{}}},model:{type:Object,default(){return{}}},isGroupVisible(e){return Object(r["isFunction"])(e.visible)?e.visible.call(this,this.model,e,this):!!Object(r["isNil"])(e.visible)||e.visible},options:{type:Object,default(){return{validateAfterLoad:!1,validateAsync:!1,validateAfterChanged:!1,validationErrorClass:"error",validationSuccessClass:""}}},isNewModel:{type:Boolean,default:!1},tag:{type:String,default:"fieldset",validator(e){return e.length>0}}},data(){const e=new l.a;return{eventBus:e,totalNumberOfFields:0,errors:[]}},computed:{fields(){return this.schema&&this.schema.fields?(this.schema.mode&&this.injectFieldMode(this.schema.fields),this.schema.fields):{}},group(){return this.schema&&this.schema.group?this.schema.group:{}},styleClasses(){return this.schema&&this.schema.styleClasses?this.schema.styleClasses:{}}},watch:{model:{handler(e,t){t!==e&&null!=e&&this.$nextTick(()=>{!0===this.options.validateAfterLoad&&!0!==this.isNewModel?this.validate().then(()=>{},()=>{}):this.child&&this.child.clearValidationErrors&&this.clearValidationErrors()})},immediate:()=>!0}},methods:{translate(...e){return this.$te,this.$te(...e)?this.$t(...e):e&&e[0]},fillErrors(e,t,s){Object(r["isArray"])(e)&&e.length>0&&e.forEach(e=>{t.push({uid:s,error:e})})},onFieldValidated(e,t,s){this.errors=this.errors.filter(e=>e.uid!==s),this.fillErrors(t,this.errors,s);let i=0===this.errors.length;this.$emit("validated",i,this.errors,this)},onModelUpdated(e,t){this.$emit("model-updated",e,t)},validate(){return new Promise((e,t)=>{this.clearValidationErrors();let s=0,i=[];this.eventBus.$on("field-deregistering",()=>{this.eventBus.$emit("fields-validation-terminated",i),t(i)});const a=(n,o,l)=>{if(s++,this.fillErrors(o,i,l),s===this.totalNumberOfFields){this.eventBus.$off("field-validated",a),Object(r["get"])(this.options,"validateAfterChanged",!1)&&this.eventBus.$on("field-validated",this.onFieldValidated),this.errors=i;let s=0===i.length;this.$emit("validated",s,i,this),this.eventBus.$emit("fields-validation-terminated",i),s?e():t(i)}};Object(r["get"])(this.options,"validateAfterChanged",!1)&&this.eventBus.$off("field-validated",this.onFieldValidated),this.eventBus.$on("field-validated",a),this.eventBus.$emit("validate-fields",this)})},clearValidationErrors(){this.errors.splice(0),this.eventBus.$emit("clear-validation-errors",this.clearValidationErrors)},injectFieldMode(e){this.schema.mode&&e.forEach(e=>{e.mode=this.schema.mode,e.fields&&this.injectFieldMode(e.fields)})}},created(){Object(r["get"])(this.options,"validateAfterChanged",!1)&&this.eventBus.$on("field-validated",this.onFieldValidated),this.eventBus.$on("model-updated",this.onModelUpdated),this.eventBus.$on("fields-validation-trigger",()=>this.validate().then(()=>{},()=>{})),this.eventBus.$on("field-registering",()=>{this.totalNumberOfFields=this.totalNumberOfFields+1}),this.eventBus.$on("field-deregistering",()=>{this.totalNumberOfFields=this.totalNumberOfFields-1})},beforeDestroy(){this.eventBus.$off("field-validated"),this.eventBus.$off("model-updated"),this.eventBus.$off("fields-validation-trigger"),this.eventBus.$off("field-registering"),this.eventBus.$off("field-deregistering")}},x=A,k=(s("84af"),Object(m["a"])(x,a,n,!1,null,null,null)),S=k.exports,P=s("5a0c"),I=s.n(P);let R={fieldIsRequired:"This field is required!",invalidFormat:"Invalid format!",numberTooSmall:"The number is too small! Minimum: {0}",numberTooBig:"The number is too big! Maximum: {0}",invalidNumber:"Invalid number",invalidInteger:"The value is not an integer",textTooSmall:"The length of text is too small! Current: {0}, Minimum: {1}",textTooBig:"The length of text is too big! Current: {0}, Maximum: {1}",thisNotText:"This is not a text!",thisNotArray:"This is not an array!",selectMinItems:"Select minimum {0} items!",selectMaxItems:"Select maximum {0} items!",invalidDate:"Invalid date!",dateIsEarly:"The date is too early! Current: {0}, Minimum: {1}",dateIsLate:"The date is too late! Current: {0}, Maximum: {1}",invalidEmail:"Invalid e-mail address!",invalidURL:"Invalid URL!",invalidCard:"Invalid card format!",invalidCardNumber:"Invalid card number!",invalidTextContainNumber:"Invalid text! Cannot contains numbers or special characters",invalidTextContainSpec:"Invalid text! Cannot contains special characters"};function T(e,t,s=R){return Object(r["isNil"])(e)||""===e?t?[L(s.fieldIsRequired)]:[]:null}function L(e){if(null!=e&&arguments.length>1)for(let t=1;t<arguments.length;t++)e=e.replace("{"+(t-1)+"}",arguments[t]);return e}const D={resources:R,required(e,t,s,i=R){return T(e,t.required,i)},number(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=[];return Object(r["isNumber"])(e)?(!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.min)&&e<t.fieldOptions.min&&n.push(L(i.numberTooSmall,t.fieldOptions.min)),!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.max)&&e>t.fieldOptions.max&&n.push(L(i.numberTooBig,t.fieldOptions.max))):n.push(L(i.invalidNumber)),n},integer(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=D.number(e,t,s,i);return Object(r["isInteger"])(e)||n.push(L(i.invalidInteger)),n},double(e,t,s,i=R){let a=T(e,t.required,i);return null!=a?a:!Object(r["isNumber"])(e)||isNaN(e)?[L(i.invalidNumber)]:void 0},string(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=[];return Object(r["isString"])(e)?(!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.min)&&e.length<t.fieldOptions.min&&n.push(L(i.textTooSmall,e.length,t.fieldOptions.min)),!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.max)&&e.length>t.fieldOptions.max&&n.push(L(i.textTooBig,e.length,t.fieldOptions.max))):n.push(L(i.thisNotText)),n},array(e,t,s,i=R){if(t.required){if(!Object(r["isArray"])(e))return[L(i.thisNotArray)];if(0===e.length)return[L(i.fieldIsRequired)]}if(!Object(r["isNil"])(e)){if(!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.min)&&e.length<t.fieldOptions.min)return[L(i.selectMinItems,t.fieldOptions.min)];if(!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.max)&&e.length>t.fieldOptions.max)return[L(i.selectMaxItems,t.fieldOptions.max)]}},date(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=new Date(e);if(!n)return[L(i.invalidDate)];let o=[];if(!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.min)){let e=new Date(t.fieldOptions.min);n.valueOf()<e.valueOf()&&o.push(L(i.dateIsEarly,I.a.format(n),I.a.format(e)))}if(!Object(r["isNil"])(t.fieldOptions)&&!Object(r["isNil"])(t.fieldOptions.max)){let e=new Date(t.fieldOptions.max);n.valueOf()>e.valueOf()&&o.push(L(i.dateIsLate,I.a.format(n),I.a.format(e)))}return o},regexp(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;if(!Object(r["isNil"])(t.pattern)){let s=new RegExp(t.pattern);if(!s.test(e))return[L(i.invalidFormat)]}},email(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)?void 0:[L(i.invalidEmail)]},url(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return n.test(e)?void 0:[L(i.invalidURL)]},creditCard(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;const n=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,o=e.replace(/[^0-9]+/g,"");if(!n.test(o))return[L(i.invalidCard)];let l,r,d,c=0;for(let u=o.length-1;u>=0;u--)l=o.substring(u,u+1),r=parseInt(l,10),d?(r*=2,c+=r>=10?r%10+1:r):c+=r,d=!d;return c%10===0&&o?void 0:[L(i.invalidCardNumber)]},alpha(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=/^[a-zA-Z]*$/;return n.test(e)?void 0:[L(i.invalidTextContainNumber)]},alphaNumeric(e,t,s,i=R){let a=T(e,t.required,i);if(null!=a)return a;let n=/^[a-zA-Z0-9]*$/;return n.test(e)?void 0:[L(i.invalidTextContainSpec)]}};Object.keys(D).forEach(e=>{const t=D[e];Object(r["isFunction"])(t)&&(t.locale=e=>(s,i,a)=>t(s,i,a,Object(r["defaults"])(e,R)))});var M=D,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{id:e.fieldID,type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,required:e.required},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var s=e.value,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);i.checked?o<0&&(e.value=s.concat([n])):o>-1&&(e.value=s.slice(0,o).concat(s.slice(o+1)))}else e.value=a}}})},N=[];const E=e=>Object(r["isString"])(e)?null!=M[e]?M[e]:(console.warn(`'${e}' is not a validator function!`),null):e;function V(e,t,s){let i=Object(r["get"])(s.context,"schema.attributes",{}),a=t.value||"input";Object(r["isString"])(a)&&(i=Object(r["get"])(i,a)||i),Object(r["forEach"])(i,(t,s)=>{e.setAttribute(s,t)})}var B={props:{model:{type:Object},schema:{type:Object},formOptions:{type:Object},eventBus:{type:Object},fieldID:{type:String}},data(){const e=Object(r["uniqueId"])(this.fieldID+"_");return{fieldUID:e,touched:!1,errors:[],debouncedValidateFunc:null,debouncedFormatFunction:null}},directives:{attributes:{bind:V,updated:V,componentUpdated:V}},computed:{value:{cache:!1,get(){let e;return e=Object(r["isFunction"])(Object(r["get"])(this.schema,"get"))?this.schema.get(this.model):Object(r["get"])(this.model,this.schema.model),this.formatValueToField(e)},set(e){this.touch();let t=this.value;e=this.formatValueToModel(e),Object(r["isFunction"])(e)?e(e,t):this.updateModelValue(e,t)}},disabled(){return this.getValueFromOption(this.schema,"disabled")},fieldClasses(){return this.getValueFromOption(this.schema,"fieldClasses",[])},fieldOptions(){return this.getValueFromOption(this.schema,"fieldOptions",{})},inputName(){return this.getValueFromOption(this.schema,"inputName","")},placeholder(){return this.getValueFromOption(this.schema,"placeholder","")},readonly(){return this.getValueFromOption(this.schema,"readonly")},required(){return this.getValueFromOption(this.schema,"required")},values(){return this.getValueFromOption(this.schema,"values",[])}},watch:{errors:{handler(e){this.$emit("errors-updated",e)}}},methods:{getValueFromOption(e,t,s){return Object(r["isFunction"])(this.$parent.getValueFromOption)?this.$parent.getValueFromOption(e,t,s):Object(r["isNil"])(e[t])?s:e[t]},validate(){this.touch(),this.clearValidationErrors();let e=Object(r["get"])(this.formOptions,"validateAsync",!1),t=[];if(this.schema.validator&&!0!==this.readonly&&!0!==this.schema.readonly&&!0!==this.disabled){let s=[];Object(r["isArray"])(this.schema.validator)?this.schema.validator.forEach(e=>{s.push(E(e).bind(this))}):s.push(E(this.schema.validator).bind(this)),s.forEach(s=>{if(e)t.push(s(this.value,this.schema,this.model));else{let e=s(this.value,this.schema,this.model);e&&Object(r["isFunction"])(e.then)?e.then(e=>{e&&(this.errors=this.errors.concat(e))}):e&&(t=t.concat(e))}})}let s=e=>{let t=[];e.forEach(e=>{Object(r["isArray"])(e)&&e.length>0?t=t.concat(e):Object(r["isString"])(e)&&t.push(e)}),Object(r["isFunction"])(this.schema.onValidated)&&this.schema.onValidated.call(this,this.model,t,this.schema);let s=0===t.length;return this.errors=t,this.eventBus&&this.eventBus.$emit("field-validated",s,t,this.fieldUID),t};return e?Promise.all(t).then(s).catch(e=>{console.warn("Problem during field validation",e)}):s(t)},debouncedValidate(){Object(r["isFunction"])(this.debouncedValidateFunc)||(this.debouncedValidateFunc=Object(r["debounce"])(this.validate.bind(this),Object(r["get"])(this.formOptions,"validateDebounceTime",500))),this.debouncedValidateFunc()},updateModelValue(e,t){let s=!1;Object(r["isFunction"])(this.schema.set)?(this.schema.set(this.model,e),s=!0):this.schema.model&&(this.setModelValueByPath(this.schema.model,e),s=!0),s&&(Object(r["isFunction"])(this.schema.onChanged)&&this.schema.onChanged.call(this,this.model,e,t,this.schema),Object(r["get"])(this.formOptions,"validateAfterChanged",!1)&&(Object(r["get"])(this.formOptions,"validateDebounceTime",500)>0?this.debouncedValidate():this.validate()))},clearValidationErrors(){this.errors.splice(0)},setModelValueByPath(e,t){let s=e.replace(/\[(\w+)\]/g,".$1");s=s.replace(/^\./,"");let i=this.model;const a=s.split(".");let n=0;const o=a.length;while(n<o){let e=a[n];if(!(n<o-1))return void this.$root.$set(i,e,t);i&&void 0!==i[e]&&null!==i[e]||this.$root.$set(i,e,{}),i=i[e],++n}},formatValueToField(e){return e},formatValueToModel(e){return e},touch(){this.touched||(this.touched=!0,this.$emit("field-touched"))}},created(){this.eventBus&&(this.eventBus.$on("clear-validation-errors",this.clearValidationErrors),this.eventBus.$on("validate-fields",this.validate),this.eventBus.$emit("field-registering"))},mounted(){const e=function(e,t){return t.filter((function(t){return e.indexOf(t)<0}))},t=["type","model","id","inputName","label","placeholder","hint","help","featured","visible","disabled","required","readonly","validator","styleClasses","labelClasses","fieldClasses","fieldOptions","values","buttons","attributes","get","set","onChanged","onValidated"];if(this.schema){let s=Object.keys(this.schema),i=e(t,s);i.length}},beforeDestroy(){this.eventBus&&(this.eventBus.$off("clear-validation-errors",this.clearValidationErrors),this.eventBus.$off("validate-fields",this.validate),this.eventBus.$emit("field-deregistering",this))}},q={name:"field-checkbox",mixins:[B]},U=q,K=(s("762a"),Object(m["a"])(U,j,N,!1,null,null,null)),H=K.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[e.useListBox?s("div",{staticClass:"listbox form-control",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return s("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[s("label",[s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(s){return e.onChanged(s,t)}}}),e._v(e._s(e.getItemName(t))+" ")])])})),0):e._e(),e.useListBox?e._e():s("div",{staticClass:"combobox form-control",attrs:{disabled:e.disabled}},[s("div",{staticClass:"mainRow",class:{expanded:e.comboExpanded},on:{click:e.onExpandCombo}},[s("div",{staticClass:"info"},[e._v(e._s(e.selectedCount)+" selected")]),s("div",{staticClass:"arrow"})]),s("div",{staticClass:"dropList"},[e.comboExpanded?e._l(e.items,(function(t){return s("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[s("label",[s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(s){return e.onChanged(s,t)}}}),e._v(" "+e._s(e.getItemName(t))+" ")])])})):e._e()],2)])])},Y=[],z={name:"field-checklist",mixins:[B],data(){return{comboExpanded:!1}},computed:{items(){let e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},selectedCount(){return this.value?this.value.length:0},useListBox(){return this.fieldOptions.listBox}},methods:{getInputName(e){return this.inputName&&this.inputName.length>0?Object(v["slugify"])(this.inputName+"_"+this.getItemValue(e)):Object(v["slugify"])(this.getItemValue(e))},getItemValue(e){if(Object(r["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["value"])return e[this.fieldOptions.value];if("undefined"!==typeof e["value"])return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},getItemName(e){if(Object(r["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["name"])return e[this.fieldOptions.name];if("undefined"!==typeof e["name"])return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},isItemChecked(e){return this.value&&-1!==this.value.indexOf(this.getItemValue(e))},onChanged(e,t){let s=e.target.checked;if(!Object(r["isNil"])(this.value)&&Array.isArray(this.value)||(this.value=[]),s){const e=Object(r["clone"])(this.value);e.push(this.getItemValue(t)),this.value=e}else{const e=Object(r["clone"])(this.value);e.splice(this.value.indexOf(this.getItemValue(t)),1),this.value=e}},onExpandCombo(){this.comboExpanded=!this.comboExpanded}}},W=z,Q=(s("c2e9"),Object(m["a"])(W,G,Y,!1,null,null,null)),J=Q.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{accept:e.fieldOptions.accept,alt:e.fieldOptions.alt,autocomplete:e.fieldOptions.autocomplete,dirname:e.fieldOptions.dirname,disabled:e.disabled,files:e.fieldOptions.files,formaction:e.fieldOptions.formaction,formenctype:e.fieldOptions.formenctype,formmethod:e.fieldOptions.formmethod,formnovalidate:e.fieldOptions.formnovalidate,formtarget:e.fieldOptions.formtarget,height:e.fieldOptions.height,id:e.fieldID,list:e.fieldOptions.list,max:e.fieldOptions.max,maxlength:e.fieldOptions.maxlength,min:e.fieldOptions.min,minlength:e.fieldOptions.minlength,multiple:e.fieldOptions.multiple,name:e.inputName,pattern:e.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,size:e.fieldOptions.size,src:e.fieldOptions.src,step:e.fieldOptions.step,type:e.inputType,width:e.fieldOptions.width},domProps:{checked:e.fieldOptions.checked,value:e.value},on:{blur:e.onBlur,change:function(t){e.schema.onChange},input:e.onInput}}),"color"===e.inputType||"range"===e.inputType?s("span",{staticClass:"helper",domProps:{textContent:e._s(e.value)}}):e._e()])},X=[];const ee={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD hh:mm:ss","datetime-local":"YYYY-MM-DDThh:mm:ss"};var te={name:"field-input",mixins:[B],computed:{inputType(){return"string"===typeof this.fieldOptions.inputType?this.fieldOptions.inputType.toLowerCase():(console.warn("Missing inputType",this.fieldOptions,this.fieldOptions.inputType),"")}},methods:{formatValueToModel(e){if(null!=e)switch(this.inputType){case"date":case"datetime":case"datetime-local":case"number":case"range":return(t,s)=>{this.debouncedFormatFunc(e,s)}}return e},formatDatetimeToModel(e,t){let s=ee[this.inputType],i=I.a.parse(e,s);!1!==i&&(e=this.schema.format?I.a.format(i,this.schema.format):i.valueOf()),this.updateModelValue(e,t)},formatNumberToModel(e,t){Object(r["isNumber"])(e)||(e=NaN),this.updateModelValue(e,t)},onInput(e){let t=e.target.value;switch(this.inputType){case"number":case"range":Object(r["isNumber"])(parseFloat(e.target.value))&&(t=parseFloat(e.target.value));break}this.value=t},onBlur(){Object(r["isFunction"])(this.debouncedFormatFunc)&&this.debouncedFormatFunc.flush()}},mounted(){switch(this.inputType){case"number":case"range":this.debouncedFormatFunc=Object(r["debounce"])((e,t)=>{this.formatNumberToModel(e,t)},parseInt(Object(r["get"])(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1});break;case"date":case"datetime":case"datetime-local":this.debouncedFormatFunc=Object(r["debounce"])((e,t)=>{this.formatDatetimeToModel(e,t)},parseInt(Object(r["get"])(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1});break}},created(){"file"===this.inputType&&console.warn('The "file" type in input field is deprecated. Use "file" field instead.')}},se=te,ie=(s("1138"),Object(m["a"])(se,Z,X,!1,null,null,null)),ae=ie.exports,ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fieldInput",e._b({attrs:{type:"number"}},"fieldInput",e.$props,!1))},oe=[],le={name:"field-number",mixins:[B],components:{fieldInput:ae},computed:{},methods:{},mounted(){this.schema.fieldOptions&&!this.schema.fieldOptions.inputType&&(this.schema.fieldOptions.inputType="number")},created(){}},re=le,de=Object(m["a"])(re,ne,oe,!1,null,null,null),ce=de.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],class:e.fieldClasses,attrs:{id:e.fieldID},domProps:{textContent:e._s(e.value)}})},pe=[],he={name:"field-label",mixins:[B]},me=he,fe=(s("b2ae"),Object(m["a"])(me,ue,pe,!1,null,null,null)),ge=fe.exports,be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"radio-list",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return s("label",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],key:e.getItemValue(t),class:{"is-checked":e.isItemChecked(t)}},[s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,name:e.id,readonly:e.readonly,required:e.required,type:"radio"},domProps:{checked:e.isItemChecked(t),value:e.getItemValue(t)},on:{click:function(s){return e.onSelection(t)}}}),e._v(e._s(e.getItemName(t))+" ")])})),0)},ye=[],ve={name:"field-radios",mixins:[B],computed:{items(){let e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},id(){return this.schema.model}},methods:{getItemValue(e){if(Object(r["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["value"])return e[this.fieldOptions.value];if("undefined"!==typeof e["value"])return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},getItemName(e){if(Object(r["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["name"])return e[this.fieldOptions.name];if("undefined"!==typeof e["name"])return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},onSelection(e){this.value=this.getItemValue(e)},isItemChecked(e){let t=this.getItemValue(e);return t===this.value}}},Ce=ve,we=(s("c08b"),Object(m["a"])(Ce,be,ye,!1,null,null,null)),_e=we.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled||e.readonly,readonly:e.readonly,name:e.inputName,id:e.fieldID,multiple:e.schema.multiple||e.schema.multi},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?s:s[0]}}},[e.fieldOptions.hideNoneSelectedText?e._e():s("option",{attrs:{disabled:e.schema.required},domProps:{value:null}},[e._v(" "+e._s(e.fieldOptions.noneSelectedText||"<Nothing selected>")+" ")]),e._l(e.items,(function(t){return[t&&t.group?s("optgroup",{key:e.getItemValue(t),attrs:{label:e.getGroupName(t)}},[t.ops?e._l(t.ops,(function(t){return s("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])})):e._e()],2):e._e(),t.group?e._e():s("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])]}))],2)},$e=[],Fe={name:"field-select",mixins:[B],computed:{items(){let e=this.schema.values;return"function"==typeof e?this.groupValues(e.apply(this,[this.model,this.schema])):this.groupValues(e)}},methods:{formatValueToField(e){return Object(r["isNil"])(e)?null:e},groupValues(e){let t=[],s={};return e.filter(e=>e).forEach(e=>{s=null,e&&e.group&&Object(r["isObject"])(e)?(s=Object(r["find"])(t,t=>t.group===e.group),s?s.ops.push({id:e.id,name:e.name}):(s={group:"",ops:[]},s.group=e.group,s.ops.push({id:e.id,name:e.name}),t.push(s))):t.push(e)}),t},getGroupName(e){if(e&&e.group)return e.group;throw"Group name is missing! https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"},getItemValue(e){if(Object(r["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["value"])return e[this.fieldOptions.value];if("undefined"!==typeof e["id"])return e.id;throw"`id` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e},getItemName(e){if(Object(r["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["name"])return e[this.fieldOptions.name];if("undefined"!==typeof e["name"])return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e}}},Ae=Fe,xe=Object(m["a"])(Ae,Oe,$e,!1,null,null,null),ke=xe.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{id:e.fieldID,type:"submit",name:e.inputName,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.fieldOptions.buttonText},on:{click:e.onClick}})},Pe=[],Ie={name:"field-submit",mixins:[B],methods:{onClick(e){!0===this.fieldOptions.validateBeforeSubmit?(e.preventDefault(),this.eventBus.$emit("fields-validation-trigger"),this.eventBus.$on("fields-validation-terminated",t=>{!Object(r["isEmpty"])(t)&&Object(r["isFunction"])(this.fieldOptions.onValidationError)?this.fieldOptions.onValidationError(this.model,this.schema,t,e):Object(r["isFunction"])(this.fieldOptions.onSubmit)&&this.fieldOptions.onSubmit(this.model,this.schema,e)})):Object(r["isFunction"])(this.fieldOptions.onSubmit)&&this.fieldOptions.onSubmit(this.model,this.schema,e)}}},Re=Ie,Te=(s("fc4c"),Object(m["a"])(Re,Se,Pe,!1,null,null,null)),Le=Te.exports,De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("textarea",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,maxlength:e.fieldOptions.max,minlength:e.fieldOptions.min,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.required,rows:e.fieldOptions.rows||2},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})},Me=[],je={name:"field-textArea",mixins:[B]},Ne=je,Ee=Object(m["a"])(Ne,De,Me,!1,null,null,null),Ve=Ee.exports,Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",attrs:{accept:e.fieldOptions.accept,disabled:e.disabled,id:e.fieldID,multiple:e.fieldOptions.multiple,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,type:"file"},on:{change:e.onChange}})])},qe=[],Ue={name:"field-upload",mixins:[B],methods:{onChange(e){Object(r["isFunction"])(this.fieldOptions.onChanged)&&this.fieldOptions.onChanged.call(this,this.model,this.schema,e,this)}}},Ke=Ue,He=(s("9eaf"),Object(m["a"])(Ke,Be,qe,!1,null,null,null)),Ge=He.exports,Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,id:e.fieldID},domProps:{value:e.value}})},ze=[],We={name:"field-cleave",mixins:[B],data(){return{cleave:null}},mounted(){this.$nextTick((function(){window.Cleave?(this.cleave=new window.Cleave(this.$el,Object(r["defaults"])(this.fieldOptions,{creditCard:!1,phone:!1,phoneRegionCode:"AU",date:!1,datePattern:["d","m","Y"],numeral:!1,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:".",blocks:[],delimiter:" ",prefix:null,numericOnly:!1,uppercase:!1,lowercase:!1,maxLength:0})),this.cleave.properties&&this.cleave.properties.hasOwnProperty("result")?this.$watch("cleave.properties.result",()=>{this.value=this.cleave.properties.result}):this.$el.addEventListener("input",this.inputChange)):console.warn("Cleave is missing. Please download from https://github.com/nosir/cleave.js/ and load the script in the HTML head section!")}))},methods:{inputChange(){this.value=this.$el.value}},beforeDestroy(){this.cleave&&(this.cleave.destroy(),this.$el.removeEventListener("input",this.inputChange))}},Qe=We,Je=Object(m["a"])(Qe,Ye,ze,!1,null,null,null),Ze=Je.exports,Xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group date"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,id:e.fieldID},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._m(0)])},et=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"input-group-addon"},[s("span",{staticClass:"glyphicon glyphicon-calendar"})])}];let tt="YYYY-MM-DD hh:mm:ss";var st={getDefaultInputFormat(){return tt},getDateFormat(){return"undefined"!==typeof this.fieldOptions.format?this.fieldOptions.format:this.getDefaultInputFormat()},formatValueToField(e){if(null!=e){let t;return t="undefined"!==typeof this.fieldOptions.format?I.a.parse(e,this.fieldOptions.format):new Date(e),I.a.format(t,this.getDateFormat())}return e},formatValueToModel(e){if(null!=e){let t=I.a.parse(e,this.getDateFormat());e="undefined"!==typeof this.fieldOptions.format?I.a.format(t,this.fieldOptions.format):t.valueOf()}return e}},it={name:"field-dateTimePicker",mixins:[B],methods:{...st},mounted(){this.$nextTick(()=>{if(window.$&&window.$.fn.datetimepicker){let e=this.$el.querySelector(".form-control");$(this.$el).datetimepicker(Object(r["defaults"])(this.fieldOptions,{format:this.getDefaultInputFormat()})).on("dp.change",()=>{this.value=e.value})}else console.warn("Bootstrap datetimepicker library is missing. Please download from https://eonasdan.github.io/bootstrap-datetimepicker/ and load the script and CSS in the HTML head section!")})},beforeDestroy(){window.$&&window.$.fn.datetimepicker&&$(this.$el).data("DateTimePicker").destroy()}},at=it,nt=Object(m["a"])(at,Xe,et,!1,null,null,null),ot=nt.exports,lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,debounce:"500",id:e.fieldID},domProps:{value:e.value},on:{focus:function(t){return e.geolocate()},input:function(t){t.target.composing||(e.value=t.target.value)}}})},rt=[],dt={name:"field-googleAddress",mixins:[B],data(){return{autocomplete:"",inputs:{street_number:"long_name",route:"long_name",country:"long_name",administrative_area_level_1:"long_name",administrative_area_level_2:"long_name",locality:"long_name",postal_code:"short_name"}}},mounted(){this.$nextTick(()=>{window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Autocomplete?(this.autocomplete=new google.maps.places.Autocomplete(this.$el,{types:["geocode"]}),this.autocomplete.addListener("place_changed",this.pipeAddress)):console.warn("Google Maps API is missing. Please add https://maps.googleapis.com/maps/api/js?key=YOUR_KEY&libraries=places script in the HTML head section!")})},methods:{pipeAddress(){let e=this.autocomplete.getPlace();if(e){this.value=e.formatted_address;let t={};if(void 0!==e.address_components)for(let s=0;s<e.address_components.length;s++){let i=e.address_components[s].types[0];this.inputs[i]&&(t[i]=e.address_components[s][this.inputs[i]])}Object(r["isFunction"])(this.fieldOptions.onPlaceChanged)&&this.fieldOptions.onPlaceChanged(this.value,t,e,this.model,this.schema)}},geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let t={lat:e.coords.latitude,lng:e.coords.longitude},s=new window.google.maps.Circle({center:t,radius:e.coords.accuracy});this.autocomplete.setBounds(s.getBounds())})}}},ct=dt,ut=Object(m["a"])(ct,lt,rt,!1,null,null,null),pt=ut.exports,ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper"},[s("input",{directives:[{name:"show",rawName:"v-show",value:!0!==e.fieldOptions.hideInput,expression:"fieldOptions.hideInput !== true"},{name:"model",rawName:"v-model",value:e.wrappedValue,expression:"wrappedValue"}],staticClass:"form-control link",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly},domProps:{value:e.wrappedValue},on:{input:function(t){t.target.composing||(e.wrappedValue=t.target.value)}}}),!1!==e.fieldOptions.browse?s("input",{staticClass:"form-control file",attrs:{type:"file",disabled:e.disabled,name:e.inputName},on:{change:e.fileChanged}}):e._e(),s("div",{staticClass:"preview",style:e.previewStyle},[s("div",{staticClass:"remove",attrs:{title:"Remove image"},on:{click:e.remove}})])])},mt=[],ft={name:"field-image",mixins:[B],computed:{previewStyle(){return!1!==this.fieldOptions.preview?{display:"block","background-image":null!=this.value?"url("+this.value+")":"none"}:{display:"none"}},wrappedValue:{get(){return this.value&&0===this.value.indexOf("data")?"<inline base64 image>":this.value},set(e){e&&0===e.indexOf("http")&&(this.value=e)}}},watch:{model(){let e=this.$el.querySelector("input.file");e&&(e.value="")}},methods:{remove(){this.value=""},fileChanged(e){let t=new FileReader;t.onload=e=>{this.value=e.target.result},e.target.files&&e.target.files.length>0&&t.readAsDataURL(e.target.files[0])}}},gt=ft,bt=(s("1a83"),Object(m["a"])(gt,ht,mt,!1,null,null,null)),yt=bt.exports,vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slider",class:{"contain-pips":e.containPips,"contain-tooltip":e.containTooltip},attrs:{disabled:e.disabled}})},Ct=[],wt={name:"field-noUiSlider",mixins:[B],data(){return{slider:null}},watch:{model:function(){window.noUiSlider&&this.slider&&this.slider.noUiSlider&&this.slider.noUiSlider.set(this.value)}},computed:{containPips(){return"undefined"!==typeof this.fieldOptions.pips},containTooltip(){return"undefined"!==typeof this.fieldOptions.tooltips}},methods:{onChange(e){Object(r["isArray"])(e)?this.value=[parseFloat(e[0]),parseFloat(e[1])]:this.value=parseFloat(e)},formatValueToField(e){null!==this.slider&&"undefined"!==typeof this.slider.noUiSlider&&this.slider.noUiSlider.set(e)},formatValueToModel(e){if("undefined"!==typeof this.slider.noUiSlider)return e instanceof Array?[Number(e[0]),Number(e[1])]:Number(e)},getStartValue(){return null!=this.value?this.value:"undefined"!==typeof this.fieldOptions.double?[this.fieldOptions.min,this.fieldOptions.min]:this.fieldOptions.min}},mounted(){this.$nextTick(()=>{window.noUiSlider?(this.slider=this.$el,window.noUiSlider.create(this.slider,Object(r["defaults"])(this.fieldOptions||{},{start:this.getStartValue(),range:{min:this.fieldOptions.min,max:this.fieldOptions.max}})),this.slider.noUiSlider.on("change",this.onChange.bind(this))):console.warn("noUiSlider is missing. Please download from https://github.com/leongersen/noUiSlider and load the script and CSS in the HTML head section!")})},beforeDestroy(){this.slider&&this.slider.noUiSlider.off("change")}},_t=wt,Ot=(s("5c25"),Object(m["a"])(_t,vt,Ct,!1,null,null,null)),$t=Ot.exports,Ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})},At=[],xt={name:"field-pikaday",mixins:[B],data(){return{picker:null}},methods:{...st},mounted(){this.$nextTick(()=>{window.Pikaday?this.picker=new window.Pikaday(Object(r["defaults"])(this.fieldOptions,{field:this.$el,onSelect:()=>{this.value=this.picker.toString()}})):console.warn("Pikaday is missing. Please download from https://github.com/dbushell/Pikaday/ and load the script and CSS in the HTML head section!")})},beforeDestroy(){this.picker&&this.picker.destroy()}},kt=xt,St=Object(m["a"])(kt,Ft,At,!1,null,null,null),Pt=St.exports,It=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("img",{attrs:{src:e.mapLink}})},Rt=[],Tt={name:"field-staticmap",mixins:[B],computed:{mapLink(){if(this.value){let e,t,s=Object(r["defaults"])(this.fieldOptions,{lat:"lat",lng:"lng",zoom:8,sizeX:640,sizeY:640});e=this.value[s.lat],t=this.value[s.lng];let i=`http://maps.googleapis.com/maps/api/staticmap?center=${e},${t}&zoom=${s.zoom}&size=${s.sizeX}x${s.sizeY}`,a=["scale","format","maptype","language","region","markers","path","visible","style","key","signature"];for(let n of a)"undefined"!==typeof s[n]&&(i+=`&${n}=${s[n]}`);if(e&&t)return i}return""}}},Lt=Tt,Dt=(s("b934"),Object(m["a"])(Lt,It,Rt,!1,null,null,null)),Mt=Dt.exports,jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,id:e.fieldID},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var s=e.value,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);i.checked?o<0&&(e.value=s.concat([n])):o>-1&&(e.value=s.slice(0,o).concat(s.slice(o+1)))}else e.value=a}}}),s("span",{staticClass:"label",attrs:{"data-on":e.fieldOptions.textOn||"On","data-off":e.fieldOptions.textOff||"Off",for:e.fieldID}}),s("span",{staticClass:"handle"})])},Nt=[],Et={name:"field-switch",mixins:[B],methods:{formatValueToField(e){return null!=e&&this.fieldOptions.valueOn?e===this.fieldOptions.valueOn:e},formatValueToModel(e){return null!=e&&this.fieldOptions.valueOn?e?this.fieldOptions.valueOn:this.fieldOptions.valueOff:e}}},Vt=Et,Bt=(s("e0d4"),Object(m["a"])(Vt,jt,Nt,!1,null,null,null)),qt=Bt.exports,Ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("multiselect",{attrs:{id:e.fieldOptions.id,options:e.options,value:e.value,multiple:e.fieldOptions.multiple,"track-by":e.fieldOptions.trackBy||null,label:e.fieldOptions.label||null,searchable:e.fieldOptions.searchable,"clear-on-select":e.fieldOptions.clearOnSelect,"hide-selected":e.fieldOptions.hideSelected,placeholder:e.placeholder,"allow-empty":e.fieldOptions.allowEmpty,"reset-after":e.fieldOptions.resetAfter,"close-on-select":e.fieldOptions.closeOnSelect,"custom-label":e.customLabel,taggable:e.fieldOptions.taggable,"tag-placeholder":e.fieldOptions.tagPlaceholder,max:e.fieldOptions.max||null,"options-limit":e.fieldOptions.optionsLimit,"group-values":e.fieldOptions.groupValues,"group-label":e.fieldOptions.groupLabel,"block-keys":e.fieldOptions.blockKeys,"internal-search":e.fieldOptions.internalSearch,"select-label":e.fieldOptions.selectLabel,"selected-label":e.fieldOptions.selectedLabel,"deselect-label":e.fieldOptions.deselectLabel,"show-labels":e.fieldOptions.showLabels,limit:e.fieldOptions.limit,"limit-text":e.fieldOptions.limitText,loading:e.fieldOptions.loading,disabled:e.disabled,"max-height":e.fieldOptions.maxHeight,"show-pointer":e.fieldOptions.showPointer,"option-height":e.fieldOptions.optionHeight},on:{input:e.updateSelected,select:e.onSelect,remove:e.onRemove,"search-change":e.onSearchChange,tag:e.addTag,open:e.onOpen,close:e.onClose}},[s("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v(" "+e._s(e.fieldOptions.noResult)+" ")])])},Kt=[],Ht={name:"field-vueMultiSelect",mixins:[B],computed:{options(){let e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},customLabel(){return"undefined"!==typeof this.fieldOptions.customLabel&&"function"===typeof this.fieldOptions.customLabel?this.fieldOptions.customLabel:void 0}},methods:{updateSelected(e){this.value=e},addTag(e,t){let s=this.fieldOptions.onNewTag;"function"==typeof s&&s(e,t,this.options,this.value)},onSearchChange(e,t){let s=this.fieldOptions.onSearch;"function"==typeof s&&s(e,t,this.options)},onSelect(){},onRemove(){},onOpen(){},onClose(){}},created(){this.$root.$options.components["multiselect"]||console.error("'vue-multiselect' is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},Gt=Ht,Yt=Object(m["a"])(Gt,Ut,Kt,!1,null,null,null),zt=Yt.exports;const Wt=(e,t={})=>{if(t.fields&&t.fields.forEach(t=>{"undefined"!==typeof t.name&&e.component(t.name,t)}),t.validators)for(let s in t.validators)({}).hasOwnProperty.call(t.validators,s)&&(M[s]=t.validators[s]);e.component("VueFormGenerator",S)},Qt={component:S,schema:v,validators:M,abstractField:B,fieldsLoader:i,install:Wt};t["a"]=Qt},"1c82":function(e,t,s){"use strict";var i=s("7fb5"),a=s.n(i);a.a},"1caf":function(e,t,s){},"26d5":function(e){e.exports=JSON.parse('{"AwesomeDefault":{"messages":{"are_you_sure":"Are you sure ?","wont_be_able_recover":"This action cannot be reverted","successfullyCreated":"Successfully created.","successfullyModified":"Successfully modified.","successfullyImported":"successfullyImported","no_data_imported":"no_data_imported","not_imported":"not_imported","all":"Tous"}},"AwesomeKanban":{"labels":{"addList":"Add a list","add":"Add","listName":"List name","removeList":"Remove list","noData":"No fields selected","unsorted":"Un sorted"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeFilter":{"labels":{"filterData":"Filter data","filterValue":"Filter value","fields":"Fields","filters":"Filters","values":"Values","activeFilter":"Active Filters","addFilter":"Add filter","from":"From","clear":"--Vider--","to":"To"},"filters":{"equals":"Equals (=)","not-equals":"Not equals(<>)","greater-than":"Greater than (>)","greater-or-equals":"Greater or equals (>=)","lesser-than":"Lesser than (<)","lesser-or-equals":"Lesser or equals (<=)","between":"Between","not-between":"Not Between","contains":"Contains","not-contains":"Does not contains","starts-with":"Starts with","ends-with":"Ends with","is-null":"is null","is-not-null":"is not null","is-defined":"is defined","is-not-defined":"is not defined","in":"is in"}},"AwesomeTable":{"buttons":{"filters":"Filters","refresh":"Refresh","excel":"Exporter tout","excel-currentpage":"Export data","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":{"toggle":"Toggle columns filters","activate":"Activate les filtres","deactivate":"Disable les filtres"},"clear-state":"Reset table configuration"},"next":"next","prev":"prev","rows_per_page":"Rows per page","of":"of","page":"page","all":"all","empty":"empty","searchInput":"Search","more":"Plus d\'actions","actions":"Actions","configuration":"Configuration","automatique-refresh":"Refresh automatically","columns":"Columns","createFirstItem":"Click here to create your first item","bulk":{"row-select":"row(s) selected","clear":"clear","delete":"delete","edit":"edit"}},"AwesomeCrud":{"labels":{"manageTitle":"Manage","createNew":"Add","view":"View","edit":"Edit","add_a":"Add a(n)"},"buttons":{"yes_delete_it":"Yes i confirm","view":"Open","cancel":"Cancel","close":"Close","edit":"Edit","save":"Save","delete":"Delete","bulkEdit":"Multiple Edit","openEditLayoutMode":"Edit Layout","closeEditLayoutMode":"Close editor","resetLayout":"Reset the layout","exportLayout":"Export the layout"},"messages":{"successfullyModified":"Successfully modified."}},"dateRangePicker":{"applyLabel":"Apply","cancelLabel":"Cancel","weekLabel":"W","customRangeLabel":"Custom Range"},"AwesomeList":{"labels":{"noData":"No fields selected"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeLayout":{"messages":{"emptyBlockBeforeDelete":"you must empty the block before you can delete it."}},"Notifications":{"messages":{"are_you_sure":"Are you sure ?"},"buttons":{"yes":"Yes","cancel":"Cancel","close":"Close"}}}')},2781:function(e,t,s){"use strict";s.r(t);var i=function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"content aw-form",class:"aw-form-"+t.identity},[i("div",{},[i("div",{staticClass:"row mr-0 ml-0"},[i("div",{staticClass:"col-12",class:"page"===t.displayMode?"p-0":""},[i("div",{staticClass:"text-left"},[i("div",{staticClass:"AwesomeForm",class:(e={modal:t._shouldHaveModalClasses,slide:t._shouldHaveSlideClasses,fade:"fade"===t.displayMode||"modal"===t.displayMode||"fullscreen"===t.displayMode,"page  fade":"page"===t.displayMode,show:this.show},e["display-mode-"+t.displayMode]=!0,e),attrs:{id:t.identity+"FormModal",tabindex:"-1",role:"dialog"}},[i("div",{class:{"modal-dialog":"page"!==t.displayMode,"modal-dialog-centered":"page"!==t.displayMode,"modal-dialog-scrollable":"page"!==t.displayMode,"modal-nested":t._isNested,"modal-full-height":t._shouldHaveSlideClasses,"modal-fullscreen":"fullscreen"===t.displayMode,"modal-lg":"modal"===t.displayMode||"fade"===t.displayMode},attrs:{role:"document"}},["create"===t.mode?i("div",{staticClass:"modal-content"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.createItem()}}},[t.shouldDisplayHeaderCpt?i("div",{staticClass:"modal-header bg-primary text-white"},[i("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("create-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t._useCustomLayout&&t.actions.editLayout?i("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[i("i",{staticClass:"fa fa-th-large"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+" ")]):t._e(),t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[i("i",{staticClass:"fa fa-download"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[i("i",{staticClass:"fa fa-eraser"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[i("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+" ")]):t._e()]):t._e(),!t.standalone&&!t._isEmbedded||t._actions.close?i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[i("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e()]):t._e(),i("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t._useCustomLayout?i("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,"fields-list":t._getFieldsList,layout:t.layout},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[i("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}},{key:"fields",fn:function(e){return[i("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}}],null,!1,3779691753)}):t._e(),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[i("VueFormGenerator",{ref:"form",attrs:{schema:t.createFormSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.createFormSchema=e}}})]:t._e()]}),{selectedItem:t.selectedItem}),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),!t._isEmbedded&&t.displayFooter?i("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[i("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+" ")]),i("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.save"))+" ")])]}))],2):t._e()])]):t._e(),"edit"===t.mode||"view"===t.mode||t._isANestedDetailView?i("div",{staticClass:"modal-content"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.editItem()}}},[t.shouldDisplayHeaderCpt?i("div",{staticClass:"modal-header bg-primary text-white"},["view"===t.mode||"edit"===t.mode?i("h5",{staticClass:"text-left modal-title mt-0"},[t._t(t.mode+"-form-title",(function(){return[t._v(t._s(t.$t("view"===t.mode?"":"AwesomeCrud.labels.edit"))+" "+t._s(t._name)+" "),i("b",[t._v(t._s(t._editItemTile))])]}),{item:t.selectedItem})],2):t._e(),t.customTopActions?i("div",{staticClass:"btn-group m-0 aw-form-header-actions"},[i("AwesomeActionList",{attrs:{actions:t.customTopActions,item:t.selectedItem,parent:t.parent,location:"top"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})],1):t._e(),t._useCustomLayout&&t.actions.editLayout?i("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[i("i",{staticClass:"fa fa-th-large"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+" ")]):t._e(),t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[i("i",{staticClass:"fa fa-download"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[i("i",{staticClass:"fa fa-eraser"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?i("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[i("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+" ")]):t._e()]):t._e(),t.editLayoutMode||"edit"!==t.mode&&"view"!==t.mode&&!t._isANestedDetailView?t._e():[t.actions.formPagination&&(t.hasPrevious||t.hasNext)?i("div",{staticClass:"ml-1 aw-form-pagination"},[i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn btn-light btn-sm float-left btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasPrevious,type:"button"},on:{click:function(e){t.hasPrevious&&t.$awEmit("aw-select-previous-item")}}},[i("i",{staticClass:"fa fa-chevron-circle-left"})]),i("button",{staticClass:"btn btn-light btn-sm float-right btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasNext,type:"button"},on:{click:function(e){t.hasNext&&t.$awEmit("aw-select-next-item")}}},[i("i",{staticClass:"fa fa-chevron-circle-right"})])])]):t._e()],!t.standalone&&!t._isEmbedded||t._actions.close?i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.cancel}},[i("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e()],2):t._e(),i("div",{staticClass:"modal-body",class:{"modal-body-nested":t._isANestedDetailView,"view-mode":"view"===t.mode}},[t.nestedModels&&t.nestedModels.length&&"create"!==t.mode&&"list"!==t.nestedLayoutMode?i("ul",{staticClass:"nav nav-tabs mt-0"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link pointer",class:{active:"general"===t.activeNestedTab},attrs:{"data-toggle":"tab"},on:{click:function(e){t.activeNestedTab="general"}}},[t._v(" "+t._s(t.$te("app.labels."+t.identity)?t.$te("app.labels."+t.identity):t.startCase(t.name||t.title||t.identity))+" ")])]),t._l(t.nestedModels,(function(e,s){return[e&&e.identity?i("li",{key:s,staticClass:"nav-item nested-model-tab-link"},[i("a",{staticClass:"nav-link pointer",class:{active:t.activeNestedTab===e.identity},attrs:{"data-toggle":"tab"},on:{click:function(s){t.activeNestedTab=e&&e.identity||"general"}}},[e.icon?i("i",{class:e.icon}):t._e(),t._v(" "+t._s(t.$t(e.namePlural||e.title||e.identity))+" ")])]):t._e()]}))],2):t._e(),t._t("edit-form",(function(){return[i("div",{staticClass:"tab-content",class:{row:"sidebar"===t.nestedLayoutMode}},[t._useCustomLayout?i("div",{staticClass:"row"},[t._useCustomLayout?i("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,layout:t.layout,"fields-list":t._getFieldsList},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[i("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}},{key:"fields",fn:function(e){return[i("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}}],null,!1,3779691753)}):t._e()],1):t._e(),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[i("div",{staticClass:"tab-pane nested-tab fade",class:{"active show":!t.activeNestedTab||"general"===t.activeNestedTab||"list"===t.nestedLayoutMode,"card p-5 ":"list"===t.nestedLayoutMode}},[i("VueFormGenerator",{ref:"form",attrs:{schema:t._formSchemaGrouped,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t._formSchemaGrouped=e}}})],1)]:t._e(),t.nestedModels&&t.nestedModels.length&&("view"===t.mode||"edit"===t.mode)&&t.selectedItem?[t._l(t.nestedModels,(function(e){return[e&&e.identity?i("div",{key:e.$id,staticClass:"tab-pane nested-tab fade",class:{"active show in":t.activeNestedTab===e.identity||"list"===t.nestedLayoutMode}},["list"===t.nestedLayoutMode?[i("h5",{staticClass:"nested-model-title mt-5 text-primary font-italic mb-0",on:{click:function(s){t.getNestedActions(e).collapse&&(t.nestedModelsCollapseState[e.identity]=!t.nestedModelsCollapseState[e.identity])}}},[t._v(" "+t._s(t.getNestedTabsTitle(e))+" "),i("i",{staticClass:"fa",class:t.nestedModelsCollapseState[e.identity]?"fa-caret-right":"fa-caret-down"})]),i("hr",{staticClass:"mt-0"})]:t._e(),i(e&&e.component?e.component:t.AwesomeCrud,t._b({tag:"div",staticClass:"aw-crud-nested-model nested-list",class:t.getNestedActions(e).collapse&&"list"===t.nestedLayoutMode?t.nestedModelsCollapseState[e.identity]?"collapse":"collapse show":"",attrs:{id:"list-collapse-"+e.identity,parent:t.selectedItem,parentIdentity:t.model&&t.model.identity||t.identity,useRouterMode:!1,"crud-needs-refresh":t.nestedElementsNeedRefresh,"needs-refresh":t.nestedElementsNeedRefresh},on:{"input:needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"input:nested-crud-needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"update:nestedElementsNeedRefresh":function(e){return t.nestedElementsNeedRefresh=e}}},"div",e,!1),[i("div",{attrs:{slot:"crud-title"},slot:"crud-title"})])],2):t._e()]}))]:t._e()],2)]}),{selectedItem:t.selectedItem}),t._t("after-edit-form",null,{selectedItem:t.selectedItem})],2),!t._isEmbedded&&t.displayFooter?i("div",{staticClass:"modal-footer"},[t._t("edit-modal-footer",(function(){return[t.standalone?t._e():i("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+" ")]),t.customInlineActions?[i("AwesomeActionList",{attrs:{actions:t.customInlineActions,item:t.selectedItem,location:"inline"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})]:t._e(),t.actions.delete&&!t._mergedOptions.noActions?i("button",{staticClass:"btn btn-danger btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteFunction(t.selectedItem)}}},[i("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.delete"))+" ")]):t._e(),"edit"===t.mode?i("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.save"))+" ")]):t._e(),"view"===t.mode&&t.actions.edit&&!t._mergedOptions.noActions?i("button",{staticClass:"btn btn-info btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.editFunction(t.selectedItem)}}},[i("i",{staticClass:"fa fa-pencil"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.edit"))+" ")]):t._e(),"view"!==t.mode||t.standalone?t._e():i("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.close"))+" ")])]}))],2):t._e()])]):t._e(),"bulkEdit"===t.mode?i("div",{staticClass:"modal-content"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.bulkEditItems()}}},[i("div",{staticClass:"modal-header bg-primary text-white"},[i("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("bulk-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t.standalone||t._isEmbedded?t._e():i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cancel()}}},[i("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t.formSchema&&t.formSchema.fields?[i("VueFormGenerator",{ref:"form",attrs:{schema:t.formSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.formSchema=e}}})]:t._e()]}),{selectedItem:t.selectedItem}),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),t._isEmbedded?t._e():i("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[i("button",{staticClass:"btn btn-default btn-main-style mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+" ")]),i("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.save"))+" ")])]}))],2)])]):t._e()])])]),t._shouldShowBackdrop?i("div",{staticClass:"modal-backdrop backdrop-custom show",class:"display-mode-"+t.displayMode,staticStyle:{background:"#111"},attrs:{id:t.identity+"Backdrop"}}):t._e()])])])])},a=[],n=s("60bb"),o=s("3dd1"),l=s.n(o),r=s("d2cf"),d=s("99b5"),c=s("11fc"),u=s("b679"),p=s("6c53"),h=s("cae3"),m=s("5a3e"),f=s("383c"),g=(s("dac4"),s("beb7")),b=s("8fd7"),y=s("7aa9"),v=s("8449");const C={mode:"local",url:null,columns:null,createPath:null,viewPath:null,editPath:null,bulkEditPath:null,queryParams:{},stats:!1,autoRefresh:!1,responseField:"body",useCustomLayout:!1};var w={name:"AwesomeForm",introduction:"A component to forms from a json schema",model:{prop:"item",event:"change"},components:{AwesomeCrud:g["a"],AwesomeLayout:b["a"],AwesomeActionList:y["a"]},mixins:[m["a"],d["a"],c["a"],u["a"],p["a"],r["a"],h["a"]],props:{item:{type:Object,required:!1},bulkItems:{type:Array,required:!1},title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},identity:{type:String,required:!0},modelName:{type:String,required:!1},standalone:{type:Boolean,required:!1,default:!0,description:"Defines whether the component is used as part of another parent component\n        (usually AwesomeCrud) or alone. Some actions won't have the same behavior"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},needsRefresh:{type:[Boolean,String],default:!1,note:"Define whether the content of the table list should be refreshed"},nestedSchemas:{type:Array,required:!1,default:()=>[],note:"@deprecated, use nested models"},nestedModels:{type:Array,required:!1,default:()=>[],note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,note:"The model identity of the parent."},nestedDisplayMode:{type:String,required:!1,default:"list",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"},translations:{type:Object,required:!1,default:()=>({AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel",close:"Close"}}}),note:"Translation labels to use when vue-i18n is not present"},mode:{type:String,required:!0,values:["create","edit","view","bulkEdit"],validator:e=>-1!==["create","edit","view","bulkEdit"].indexOf(e),description:"Define what mode should the form be used in (create| edit | view | bulkEdit "},displayMode:{type:String,required:!1,default:"sidebar",node:"Manages the way the form is displayed. This field is relevant mostly when using Awesome form as part of AwesomeCrud.\n\n        'modal': Display as a modal\n        'fade': (legacy)  Display as a modal\n        'slide': (legacy)  Display as right size side menu\n        'sidebar':   Display as right size side menu\n        'sidebar-right':   Display as right size side menu\n        'sidebar-left':  Display as Left size side menu\n        'fullscreen':   Display as a full screen component\n        'page':   Display as an in page component\n      ",values:["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"],validator:e=>-1!==["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"].indexOf(e)},useSimpleCreateForm:{type:Boolean,required:!1,default:!1,node:"If true then the create form will display only required attributes"},options:{type:Object,default:()=>C},actions:{type:Object,default:()=>f["a"],note:"actions active in this instance"},customInlineActions:{type:Array,default:()=>[],note:"custom action in footer and in awTable row"},customTopActions:{type:Array,default:()=>[],note:"custom top actions"},layout:{type:[Array,Object],note:"Layout of the form",default:()=>[]},editLayoutMode:{type:Boolean},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},updateRouter:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url. @Deprecated, use `useRouterMode` instead."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},displayHeader:{type:Boolean,default:!0,node:"Controls if the header of the modal or the page should be displayed"},displayFooter:{type:Boolean,default:!0,node:"Controls if the footer of the modal or the page should be displayed"},hasNext:{type:Boolean,default:!1,note:"Controls if the next button should be displayed"},hasPrevious:{type:Boolean,default:!1,note:"Controls if the previous button should be displayed"},useCustomLayout:{type:Boolean,default:!1,note:"If the form layout can be changed"},displayFields:{type:Array,note:"The fields that should be displayed in the form"}},data(){return{AwesomeCrud:g["a"],$modal:null,parentPath:"",selectedItem:{},isRefreshing:!1,nestedElementsNeedRefresh:!1,show:!1,showBackDrop:!1,mergedOptions:{},innerNestedModels:[],activeNestedTab:"general",formOptions:{validayeAsync:!0,validateAfterLoad:!1,validateAfterChanged:!0},nestedModelsCollapseState:{}}},computed:{_title(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):Object(n["startCase"])(this._model.singularName):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):Object(n["startCase"])(this.identity):""},_titlePlural(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):Object(n["startCase"])(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te(`app.labels.${this.identity}s`)?this.$t(`app.labels.${this.identity}s`):Object(n["startCase"])(this.identity+"s"):""},_name(){const e=this.name||this._model&&this._model.name;if(e){if(this.$te(e)){const t=this.$t(e);if("string"===typeof t)return t}return Object(n["startCase"])(e)}return this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):Object(n["startCase"])(this.identity):""},_namePlural(){const e=this.namePlural||this._model&&this._model.namePlural;return e?this.$te(e)?this.$t(e):Object(n["startCase"])(e):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):Object(n["startCase"])(this.identity):""},_selectedItemUrl(){let e;return this.selectedItem&&this.selectedItem[this.primaryKey]?(this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost"+this._url),e=`${e.pathname}/${this.selectedItem[this.primaryKey]}${e.search}`):e=`${this._url}/${this.selectedItem[this.primaryKey]}`,e):this._url?this._url:void 0},_model(){return this.model||this.getModelFromStore(this.identity)},_mergedOptions(){let e=Object(n["merge"])({},C,this.options,this._model?this._model.options:{});return this.options!==C&&(console.warn("options are diffrent from the basics",this.options),e=Object(n["merge"])(e,this.options)),this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=Object(n["merge"])(this.mergedOptions.queryParams||this.$route.query.filters)),e.exportUrl||(e.exportUrl=this._url+"/export"),e.importUrl||(e.importUrl=this._url+"/import"),e||{}},formSchema(){if(!this._schema)return[];const e=this.parseSchema(this._schema);return e.styleClasses="row",e.mode=this.mode,e.fields&&(e.fields=e.fields.filter(e=>!this.displayFields||this.displayFields.includes(e.model)).map(t=>(t.styleClasses&&-1!==t.styleClasses.indexOf("col-")||(t.styleClasses=(t.styleClasses||"")+" col-12"),"bulkEdit"===e.mode&&(t.required=!1),t))),e},simpleFormSchema(){let e=this.formSchema.fields.filter(e=>e.required);return e.length||(e=this.formSchema.fields),{...this.formSchema,fields:e}},createFormSchema(){return this.useSimpleCreateForm?this.simpleFormSchema:this._formSchemaGrouped},_actions(){return Object(n["merge"])({},f["a"],this.actions||this._mergedOptions&&this._mergedOptions.actions)},_formSchemaGrouped(){return this.layout&&Array.isArray(this.layout)&&this.layout.length?{...this.formSchema,type:"group",fields:this.layout.map(e=>({...e,type:"group",legend:e.legend||e.title,wrapperClasses:""+(e.wrapperClasses||""),cols:e.cols,styleClasses:""+(e.classes||e.styleClasses||""),headerClasses:""+(e.headerClasses||""),styles:""+(e.styles||""),fields:this.formSchema.fields.filter(t=>e.fields.includes(t.model))}))}:this.formSchema},_useCustomLayout(){return!(!this.useCustomLayout||!this.layout)},_editItemTile(){if(!this.selectedItem)return"";if(this._model&&this._model.displayField){const e=this.getItemProperty(this.selectedItem,this._model.displayField);return e||(this.selectedItem[this.primaryKey]||"")}return this.selectedItem[this.primaryKey]?this.selectedItem[this.primaryKey]:""},_schema(){return this.schema||this._model&&this._model.schema},_shouldShowBackdrop(){return-1===["page","fullscreen","sideform"].indexOf(this.displayMode)&&this.show},_shouldHaveModalClasses(){return["fade","modal","fullscreen","sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_shouldHaveSlideClasses(){return["sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_getFieldsList(){const e=[];return this.formSchema.fields.forEach(t=>{let s=!1;this.layout&&Array.isArray(this.layout)&&this.layout.forEach(e=>{Object(n["includes"])(e.fields,t.model)&&(s=!0)}),s||e.push(t.model)}),e},shouldDisplayHeaderCpt(){return!["page","sidebar","sideform"].includes(this.displayMode)||this.displayHeader}},watch:{name:"loadModel",identity:"loadModel",model:"loadModel",mode:"onModeChanged",options:"mergeOptions",item:"refreshComponent",needsRefresh:"refreshComponent",selectedItem:"onChange"},created(){if(!this.$http)try{const e=s("cebe");this.$http=e}catch(e){}},mounted(){if(this.openModalDebounced=Object(n["debounce"])(this.openModal,300,{leading:!0}),this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.modelName&&(this.identity=this.modelName),this.nestedModels.forEach(e=>{this.$set(this.nestedModelsCollapseState,e.identity,!!e.initiallyCollapsed)}),this.item&&(this.selectedItem=this.item),this.loadModel(),"create"===this.mode&&(this.selectedItem=Object(v["createDefaultObject"])(this.formSchema),this.selectedItem=Object(n["merge"])(this.selectedItem,this.item)),this.nestedElementsNeedRefresh=!0,setTimeout(()=>{this.nestedElementsNeedRefresh=!1},100),this.$route&&this.useRouterMode){const e=this.$route.matched[this.$route.matched.length-1];if("create"===this.$route.params.id||"new"===this.$route.params.id||this.$route.path.endsWith("/new"))return"create"!==this.$route.params.id&&"new"!==this.$route.params.id||delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n["merge"])(this.selectedItem,this.$route.query.item)),void this.$awEmit("create",this.selectedItem,{reset:!1});if(this.$route.params.id){if("bulkEdit"===this.$route.params.id)return delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n["merge"])(this.selectedItem,this.$route.query.item)),void this.$awEmit("bulkEdit",this.selectedItem,{reset:!1});this.parentPath=e.path.replace("/edit","").replace("/:id","")}else this.parentPath=e.path}const e=this.mode+"Function";if(!this[e])throw new Error("no_action_available_for_mode_"+this.mode);this[e](this.selectedItem)},beforeRouteEnter(e,t,s){s(e=>{e.closeModal()})},beforeRouteLeave(e,t,s){s(e=>{e.closeModal()})},beforeDestroy(){document.body.classList.remove("modal-open")},methods:{$alert:l.a,startCase:n["startCase"],upperFirst:e=>Object(n["upperFirst"])(e),refreshComponent(e,t){e&&!1!==e&&(this.identity&&this.loadModel(),this.nestedElementsNeedRefresh=!0,setTimeout(()=>{this.nestedElementsNeedRefresh=!1,this.$emit("update:crudNeedsRefresh",!1),this.$emit("update:needsRefresh",!1),this.$emit("input:crudNeedsRefresh",!1),this.$emit("input:needsRefresh",!1)},100))},onTableRefresh(){this.statsNeedsRefresh=!0},onModeChanged(e,t){"create"===e&&(this.selectedItem=Object(v["createDefaultObject"])(this.formSchema)),this.loadModel()},mergeOptions(){this.options&&this.options.deletePermitted&&this.actions.delete&&this.$store&&this.$store.state&&!this.options.deletePermitted.some(e=>this.$store.state.user.roles.indexOf(e.toUpperCase())>=0)&&(this.actions.delete=!1),this.mergedOptions=Object(n["merge"])({},C,this.mergedOptions,this.options),this.$route&&this.$route.query&&this.$route.query.filters&&(this.mergedOptions.queryParams=Object(n["merge"])(this.mergedOptions.queryParams||this.$route.query.filters))},loadModel(){this.mergeOptions(),setTimeout(()=>{this.openModalDebounced()},100),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl=this._url+"/export"),this.mergedOptions.importUrl||(this.mergedOptions.importUrl=this._url+"/import"),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),"bulkEdit"===this.mode||"create"===this.mode?this.selectedItem={}||Object(v["createDefaultObject"])(this.formSchema):this.selectedItem=this.item,this._selectedItemUrl&&(this.item&&this.item[this.primaryKey]||this._selectedItemUrl)&&this.$http.get(""+this._selectedItemUrl).then(e=>{const t=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?Object(n["get"])(e,this.apiResponseConfig.dataPath):e.data;this.selectedItem=t,this.$awEmit("itemFetched",this.selectedItem),this.$awEmit("item-fetched",{component:"aw-form",context:this,item:Object(n["cloneDeep"])(t),identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent})}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1,this.$awEmit("input:needs-refresh",!1)})},getShemaForFields(e){if(!e||!e.length)return;const t=this.formSchema.fields.filter(t=>e.indexOf(t.model)>-1);return{...this.formSchema,fields:t}},openModalDebounced:()=>{},openModal(){switch(this.displayMode){case"modal":case"fade":document.body.classList.add("modal-open");break;case"slide":case"sidebar":case"sidebar-right":case"sidebar-left":case"fullscreen":document.body.classList.add("modal-open");break}this.show=!0,this.showBackdrop=!0},closeModal(){this.standalone||(this.parentPath&&this.useRouterMode,this.selectedItem={},setTimeout(()=>{this.show=!1,this.showBackdrop=!1},100),document.body.classList.remove("modal-open"))},cancel(){this.$awEmit("cancel",this.selectedItem||this.item,{context:this.mode})},close(){this.$awEmit("closeRequested",this.selectedItem&&this.selectedItem.id?this.selectedItem:this.item,{context:this.mode}),this.closeModal()},goToEditPage(e){if(!this._mergedOptions.editPath)return this.useRouterMode&&this.$router.push(`${this.parentPath}/${e[this.primaryKey]}/edit`),void this.editFunction(e);this.$router.push(this._mergedOptions.editPath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]))},goToViewPage(e){if(!this._mergedOptions.viewPath)return this.useRouterMode&&this.$router.push({},null,`${this.parentPath}/${e[this.primaryKey]}`),this.activeNestedTab="general",void this.viewFunction(e);this.$router.push(this._mergedOptions.viewPath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]))},async createItem(){if(!this._url)return this.$emit("save",this.selectedItem),this.$emit("change",this.selectedItem),!1;if(this.$refs.form){let t=this.$refs.form.validate();if(t.then)try{t=await t}catch(e){t=e}if(t&&t.length>0)return void this.$awEmit("validation-errors",{errors:t})}else console.warn("Unable to find the reference to the schema form on ",this.$route.path);return this.mergeSelectedItemWithRequestProps(),this.$awEmit("before-create",{component:"aw-form",context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent}),this.$http.post(this._url,this.selectedItem).then(e=>{this.selectedItem=Object(n["get"])(e,this.apiResponseConfig.dataPath),this.$awEmit("item-created",{component:"aw-form",context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent}),this.$awNotify({title:this.$t("AwesomeDefault.messages.successfullyCreated",{title:this.type}),type:"success"}),this.nestedElementsNeedRefresh=!0,this.$forceUpdate(),this.close(),this.$awEmit("itemCreated",this.selectedItem,{context:this.mode})}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1,this.nestedElementsNeedRefresh=!1})},async bulkEditItems(){if(!this._url)return console.warn("AWESOMECRUD ERROR:: No url for submitting"),!1;if(this.$refs.form){let t=this.$refs.form.validate();if(t.then)try{t=await t}catch(e){t=e}if(t&&t.length>0)return void this.$awEmit("validation-errors",{errors:t})}else console.warn("Unable to find the reference to the schema form on ",this.$route.path);this.bulkItems.forEach(e=>{e[this.primaryKey]&&(e=Object(n["merge"])(e,this.selectedItem),this.$awEmit("itemsBulkEdited",e))}),this.close()},async editItem(){if(!this._url)return this.$emit("save",this.selectedItem),this.$emit("change",this.selectedItem),!1;if(!this.selectedItem[this.primaryKey])return console.warn("AWESOMECRUD ERROR:: No primary key on this item",this.selectedItem,this.primaryKey),!1;if(this.$refs.form){let t=this.$refs.form.validate();if(t.then)try{t=await t}catch(e){t=e}if(t&&t.length>0)return void this.$awEmit("validation-errors",{errors:t})}return this.mergeSelectedItemWithRequestProps(),this.$awEventBus&&this.$awEventBus.$emit("before-update",{context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent}),this._selectedItemUrl?(this.$http.put(""+this._selectedItemUrl,this.selectedItem).then(e=>{this.$awEmit("item-edited",{data:e.data}),this.$awNotify({title:this.$t("AwesomeDefault.messages.successfullyModified",{title:this.type}),type:"success"}),this.nestedElementsNeedRefresh=!0,this.$forceUpdate(),this.$awEmit("itemEdited",this.selectedItem,{context:this.mode}),this.close()}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1,this.nestedElementsNeedRefresh=!1}),!1):void 0},createFunction(e){this.$awEmit("create",e)},editFunction(e){this.activeNestedTab="general",this.$awEmit("edit",e)},viewFunction(e){this.$awEmit("view",e)},nestedViewFunction(e){this.$awEmit("nestedView",e),this.openModalDebounced()},deleteFunction(e){this.$awEmit("delete",e)},bulkEditFunction(e){this.$awEmit("bulkEdit",e)},getNestedItem(){this.mode="view",this._selectedItemUrl&&this.$http.get(""+this._selectedItemUrl).then(e=>{this.selectedItem=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?Object(n["get"])(e,this.apiResponseConfig.dataPath):e.data.body,this.$awEmit("itemFfetched",this.selectedItem),this.$awEmit("item-fetched",{component:"aw-form",context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent})}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},customAction(e){const{action:t}=e;return this.$awEmit(this.identity+"-custom-action",t),t&&t.action&&t.action(e,this)},listUpdated(e){this.$awEmit("list-updated",e),this.$awEmit(this.identity+"-list-updated",e)},renderSidebar(){},renderTabs(){},renderColumns(e){return e},renderGroup(){},renderForm(e={component:"VueFormGenerator",props:{}}){},openEditLayoutMode(){this.$awEmit("open-edit-layout-mode")},closeEditLayoutMode(){this.$awEmit("close-edit-layout-mode")},resetLayout(){const e={i:`awesomeForm-${this.identity}-${Date.now()}`,x:0,y:0,w:12,h:6,maxW:12,minH:2,legend:this.identity,fields:this.formSchema.fields.map(e=>e.model)};this.$awEmit("layout-resetted",[e])},exportLayout(){this.$export(this.layout)},onLayoutUpdated(e){this.$awEmit("layout-updated",e)},onLayoutFieldsUpdated(e){this.$awEmit("layout-fields-updated",e)},getNestedTabsTitle(e){return e.name?e.name:e.title?e.title:this.$te("awForm.labels.tabs."+e.identity)?this.$t("awForm.labels.tabs."+e.identity):this.startCase(e.identity)},getNestedActions(e){return Object(n["merge"])({},f["a"],e.actions)},onChange(e){this.$emit("change",e)}}},_=w,O=(s("4a2c"),s("2877")),$=Object(O["a"])(_,i,a,!1,null,"7b8cf085",null);t["default"]=$.exports},"289a":function(e,t){e.exports=vuedraggable},"2e65":function(e,t,s){"use strict";var i=s("8de2"),a=s.n(i);a.a},"32a2":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aw-table-segments bg-white"},[s("ul",{staticClass:"nav nav-pills"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:e.selectedSegment&&""!==e.selectedSegment&&"ALL"!==e.selectedSegment?"":"active",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.onClickOnSegment("ALL")}}},[e._v(e._s(e.$t("AwesomeDefault.messages.all")))])]),e._l(e._segmentsList,(function(t,i){return s("li",{key:i,staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:e.getSegmentKey(t)===e.selectedSegment?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(s){return e.onClickOnSegment(t)}}},[e._v(e._s(e.getSegmentLabel(t)))])])}))],2)])},a=[],n=s("60bb"),o=s.n(n),l=s("5a3e"),r=s("cae3"),d=s("eab4"),c=s("3ac4"),u=s("1b62"),p={name:"AwesomeSegments",components:{},mixins:[d["a"],l["a"],r["a"],c["a"],u["a"]],props:{field:{type:[Object,String],default:()=>null},title:{type:[String,Boolean],default:""},name:{type:String,default:""},namePlural:{type:String,default:""},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path"},translations:{type:Object,default:()=>({"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty"})},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."}},data(){return{totalCount:0,isRefreshing:!1,selectedSegment:"ALL",segmentOptions:[]}},computed:{_segmentsList(){const e=o.a.get(this.field,"fieldOptions.filterDropdownItems")||o.a.get(this.field,"enum")||o.a.get(this.field,"fieldOptions.values")||o.a.get(this.field,"fieldOptions.option");return e&&e.length?e:this.segmentOptions},dataUrl(){let e=this.url||this.field.relationUrl;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,{...this.$props.model,currentItem:this.$props.model,context:this})),e||""}},watch:{_segmentsList(){this.$emit("segment-list-changed",this._segmentsList)}},created(){this.$t||(this.$t=e=>this.translations[e]||e,this.$te=e=>!!this.translations[e])},beforeMount(){},mounted(){this.field&&this.field.relation&&this.preloadFn()},beforeDestroy(){},methods:{onClickOnSegment(e){if(!e)return"";this.selectedSegment=this.getSegmentKey(e),this.$emit("aw-segment-changed",this.selectedSegment,e),this.$emit("change",{segmentField:this.field.field||this.field.model,segmentValue:this.getSegmentKey(e)})},preloadFn(){this.dataUrl&&this.$http.get(`${this.dataUrl}${-1===this.dataUrl.indexOf("?")?"?":"&"}$perPage=100'`,{params:{...o.a.get(this.field,"fieldOptions.queryParams")}}).then(e=>{this.segmentOptions=this.getData(e)}).finally(()=>{this.isDataReady=!0})},getData(e){const t=this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?o.a.get(e,this.apiResponseConfig.dataPath):e.data;if(Array.isArray(t))return t.map(e=>this.field.relationKey?{label:e[this.field.relationLabel],id:e[this.field.relationKey]}:e)}}},h=p,m=s("2877"),f=Object(m["a"])(h,i,a,!1,null,null,null);t["a"]=f.exports},"33a0":function(e,t){e.exports=vue2-daterange-picker},"35fa":function(e,t,s){},"383c":function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return a}));const i={noActions:!1,search:!0,filter:!0,create:!1,edit:!0,view:!0,delete:!0,export:!1,exportLocal:!1,import:!1,dateFilter:!0,refresh:!0,autoRefresh:!0,advancedFiltering:!0,columnsFilters:!0,bulkDelete:!0,bulkEdit:!0,itemsPerRow:!0,editLayout:!0,collapse:!0,formPagination:!0,changDisplayMode:!0},a={scrollSensitivity:200,animation:200,moveList:!1,moveCard:!0,fields:{title:"",subtitle:"",image:"",description:"",labels:"",users:""},splittingField:"",splittingValues:null,customListActions:[],sortField:"",sortOrder:"asc"}},"398f":function(e,t,s){},"3a6c":function(e,t,s){},"3ac4":function(e,t,s){"use strict";var i=s("60bb"),a=s.n(i),n={props:{rolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.rolesStorePath||"user.roles"},note:"Location of the array in the vuex state that contains all the roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"},extendedRolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.extendedRolesStorePath||"extendedRolesStorePath"},note:"Location of the array in the vuex state that contains all the extended roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"}},methods:{userIs(e,t=null){t=this.$store||t;const s=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return s&&Array.isArray(s)&&s.indexOf(e)>-1},userHasRole(e,t=null){t=this.$store||t;const s=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return s&&Array.isArray(s)&&s.indexOf(e)>-1}}},o=s("5a0c"),l=s.n(o);const r=s("f906");l.a.extend(r);t["a"]={props:{},mixins:[n],methods:{contextDataMerger(e=null){return Object(i["merge"])({parent:this.parent,context:this,currentItem:this.selectedItem||e,items:this.items,$state:this.$store&&this.$store.state,userHasRole:this.userHasRole,componentMode:this.mode||this.displayMode,moment:l.a},e)},templateParser(e,t){t=this.contextDataMerger(t),i["templateSettings"].interpolate=/{{([\s\S]+?)}}/g;const s=Object(i["template"])(e);return s(t)},templateParseText(e,t){try{return this.templateParser(e,t)}catch(s){return console.warn("[templateParserText]",s.message,t),e}},templateParseUrl(e,t){try{return this.templateParser(e,t)}catch(s){return console.warn("[templateParser]",s.message),e}},templateParseBoolean(e,t=null){try{if(!e||-1===e.indexOf("{{"))return e;const s=this.templateParser(e,t);return"1"===s||"true"===s||(0===s||"0"===s||"false"===s||console.warn("[VAC] boolean templates must revolve to a boolean result.",s,"was returned for template",e),!1)}catch(s){return console.warn("[templateParseBoolean]",s.message),!1}},templateParseFunc(e,t=null){try{return e&&"function"===typeof e?(t=this.contextDataMerger(t),e(t)):e}catch(s){return console.warn("[templateParseFunc]",s.message),e}},templateParseConditionalField(e,t=null){return"boolean"==typeof e?e:Object(i["isString"])(e)?this.templateParseBoolean(e,t):Object(i["isFunction"])(e)?!!this.templateParseFunc(e,t):e},getItemProperty(e,t){if(!e)return"";if(t&&t.indexOf("{{")>-1&&t.indexOf("}}")>-1){let s=this.templateParseText(t,{...e,currentItem:e});return s}return a.a.get(e,t)},parseUrl(e,t){return this.templateParseUrl(e,{...this.selectedItem,parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items,...t})}}}},"3b48":function(e,t,s){},4212:function(e,t){e.exports=chartist},"4a2c":function(e,t,s){"use strict";var i=s("a957"),a=s.n(i);a.a},5017:function(e,t,s){},"517e":function(e,t,s){},"519a":function(e,t,s){"use strict";var i=s("e75c"),a=s.n(i);a.a},"51ac":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aw-kanban aw-listing"},[s("div",{staticClass:"float-left col-6 pl-0"},[e._t("kanban-header-left"),s("div",{directives:[{name:"show",rawName:"v-show",value:e.segmentFieldDefinitionComputed,expression:"segmentFieldDefinitionComputed"}],staticClass:"card aw-segment-table-wrapper d-none"},[s("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange,"segment-list-changed":e.onSegmentListChanged}})],1)],2),s("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("kanban-header-right",(function(){return[s("button",{staticClass:"btn btn-primary",staticStyle:{visibility:"hidden"}},[e._v(" ")])]}))],2),s("div",{staticClass:"card aw-kanban-card"},[s("div",{staticClass:"d-block"},[s("div",{staticClass:"card-header"},[s("h4",{staticClass:"text-left"},[e._t("aw-kanban-title",(function(){return[e._v(e._s(e.titleComputed))]})),e.displayAwFilter?s("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),s("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}),s("div",{staticClass:"btn-group btn-group-sm float-right awesome-list-buttons"},[e.isRefreshing?s("div",{staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-2x fa-fw",staticStyle:{color:"#888","margin-left":"10px"}})]):e._e(),e._t("top-actions"),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions.filter&&e.actions.advancedFiltering?s("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[s("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.filters"))+" "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+" ")]):e._e(),e.actions&&e.actions.refresh?s("button",{staticClass:"btn btn-simple btn-sm p-0",on:{click:function(t){return e.getItems()}}},[s("i",{class:"fa fa-refresh"+(e.isRefreshing?" fa-spin":"")}),e._v(" "+e._s(e.$t("AwesomeKanban.buttons.refresh"))+" ")]):e._e()])],2)],2)])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"awesome-kanban"},[s("Draggable",{staticClass:"draggable-list",attrs:{list:e.localLists,group:"lists",animation:e.options.animation,"ghost-class":"moving-list","scroll-sensitivity":e.options.scrollSensitivity,disabled:!e.options.moveList},on:{change:e.listChanged}},e._l(e.localLists,(function(t,i){return s("KanbanList",{key:i,attrs:{id:t.id,title:t.title,items:t.content,fields:e.options.fields,columns:e.columns,showColumns:e.options.showColumns,group:"card",animation:e.options.animation,"scroll-sensitivity":e.options.scrollSensitivity,disabled:!e.options.moveCard,"custom-list-actions":e.actions.customListActions,imageField:e.imageField,titleField:e.titleField,subtitleField:e.subtitleField,descriptionField:e.descriptionField,usersField:e.usersField,labelsField:e.labelsField,"display-labels-cache":e.displayLabelsCache},on:{"remove-list":e.onRemoveList,customListAction:e.onCustomListAction,change:e.onCardChanged,cardRemoved:e.onCardRemoved,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked,cardMoved:e.onCardMoved}})})),1),e.actions&&e.actions.addKanbanList?s("div",{staticClass:"card add-list",on:{click:function(t){return t.stopPropagation(),e.editForm.apply(null,arguments)}}},[s("div",{staticClass:"card-body"},[e.isAddingList?e._e():s("div",{staticClass:"card-text"},[s("i",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.$t("AwesomeKanban.labels.addList"))+" ")]),e.isAddingList?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newListName,expression:"newListName"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.$t("AwesomeKanban.labels.listName")},domProps:{value:e.newListName},on:{input:function(t){t.target.composing||(e.newListName=t.target.value)}}}),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{disabled:!e.newListName},on:{click:function(t){return t.stopPropagation(),e.addList.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("AwesomeKanban.labels.add"))+" ")]),s("button",{staticClass:"btn btn-xs btn-simple btn-primary",on:{click:function(t){return t.stopPropagation(),e.clearForm.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-times"})])]):e._e()])]):e._e()],1)])])])},a=[],n=s("60bb"),o=s.n(n),l=s("5a3e"),r=s("5d5e"),d=s("99b5"),c=s("6c53"),u={props:{imageField:{type:String,default:""},titleField:{type:String,default:""},subtitleField:{type:String,default:""},descriptionField:{type:String,default:""},usersField:{type:String,default:""},labelsField:{type:String,default:""}}},p=s("5598");const h=s("60bb");var m={computed:{advancedFiltersCount(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated(){return p["a"].methods.parseFilter(this.advancedFilters,{dispatch:!1})}},methods:{advancedFiltering(e,t){this.updateParams({advancedFilters:h.cloneDeep(t),parsedAdvancedFilters:h.cloneDeep(e),page:0}),this.optionsComputed&&!this.optionsComputed.autoSearch||this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},permanentFiltering(e,t){this.updateParams({parsedAdvancedFilters:h.cloneDeep(e),page:0,permanent:!0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("permanent-filter",{filters:e}),this.$awEmit("filter",{filters:this.serverParams.filters})}}},f=s("1b62"),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list"},[s("div",{staticClass:"list-content"},[s("div",{staticClass:"list-header"},[s("div",{staticClass:"list-title"},[e._v(" "+e._s(e.title)+" ")]),s("div",{staticClass:"list-actions"},[s("div",{staticClass:"dropdown column"},[e._m(0),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"filter"}},[e._l(e.customListActions,(function(t,i){return[s("a",{key:i,staticClass:"dropdown-item",class:t.class,attrs:{href:"javascript:void(0)",id:t.name+"-"+i,"data-title":t.title||t.label,"data-tooltip":t.title||t.label},on:{click:function(s){return e.$emit("customListAction",{action:t,items:e.items,location:"",id:t.name+"-"+i})}}},[t.icon?s("i",{class:t.icon}):e._e(),s("span",{domProps:{innerHTML:e._s(t.label?e.$t(t.label):"")}})])]})),e.customListActions.length?s("div",{staticClass:"dropdown-divider"}):e._e(),s("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.removeList.apply(null,arguments)}}},[e._v(e._s(e.$t("AwesomeKanban.labels.removeList")))])],2)])])]),s("div",{staticClass:"list-cards"},[s("Draggable",{staticClass:"draggable-card",attrs:{list:e.items,group:e.group,animation:e.animation,"ghost-class":"moving-card","scroll-sensitivity":e.scrollSensitivity},on:{change:e.cardChanged}},e._l(e.items,(function(t,i){return s("div",{key:i,staticClass:"card",on:{click:function(s){return e.cardClicked(t)}}},[e.imageField&&e.getItemProperty(t,e.imageField)?s("img",{staticClass:"card-img-top",attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),s("div",{staticClass:"card-body"},[e.usersField&&e.getItemProperty(t,e.usersField)?[s("div",{staticClass:"pull-right"},e._l(e.getItemUsers(t,e.usersField),(function(e,t){return s("img",{key:t,staticClass:"kanban-user-img",attrs:{alt:e.label,title:e.label,src:e.src||e}})})),0)]:e._e(),e.getItemProperty(t,e.titleField)?s("h5",{staticClass:"card-title text-truncate"},[e._v(" "+e._s(e.getItemProperty(t,e.titleField))+" ")]):e._e(),e.getItemProperty(t,e.subtitleField)?s("h6",{staticClass:"card-subtitle mb-2 text-muted text-truncate"},[e._v(" "+e._s(e.getItemProperty(t,e.subtitleField))+" ")]):e._e(),e.getItemProperty(t,e.descriptionField)?s("p",{staticClass:"card-text"},[e._v(" "+e._s(e.getItemProperty(t,e.descriptionField))+" ")]):e._e(),e.getItemProperty(t,e.labelsField)?s("div",{staticClass:"pull-right"},e._l(e.getItemProperty(t,e.labelsField),(function(t){return s("small",{key:t,staticClass:"badge badge-primary"},[e._v(e._s(t))])})),0):e._e(),e.columns&&e.columns.length&&(!e.hasFormattingData||e.displayColumnsInCards)?e._l(e.getAllowedData(t),(function(t,i){return s("div",{key:i},[e._v(" "+e._s(i)+" : "),s("AwesomeDisplay",{attrs:{type:e.getField(i).type,value:t,relation:e.getField(i).relation,"relation-label":e.getField(i).relationLabel,"relation-url":e.getField(i).relationUrl,"relation-key":e.getField(i).relationKey,"display-label-cache":e.displayLabelsCache}})],1)})):e._e(),e.hasFormattingData||e.displayColumnsInCards?e._e():s("p",{staticClass:"card-text"},[e._v(" "+e._s(e.$t("AwesomeKanban.labels.noData"))+" ")])],2)])})),0)],1)])])},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-ellipsis-h"})])}],y=s("8bbf"),v=s.n(y),C=s("3ac4"),w=s("0dce"),_={name:"KanbanList",components:{AwesomeDisplay:w["a"]},mixins:[l["a"],u,C["a"]],props:{id:{type:String,required:!0},title:{type:[String,Boolean],default:"Title"},items:{type:Array,default:()=>[]},group:{type:String,default:"default"},animation:{type:Number,default:200},scrollSensitivity:{type:Number,default:150},columns:{type:Array,default:()=>[]},customListActions:{type:Array,default:()=>[]},displayLabelsCache:{type:Object,default:()=>({})},displayColumnsInCards:{type:Boolean,default:!1}},created(){this.$root.$options.components["Draggable"]||v.a.options.components["Draggable"]||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!")},data:()=>({}),methods:{removeList(){this.$emit("remove-list",{id:this.id,title:this.title})},cardChanged(e){this.$emit("change",e,{id:this.id,title:this.title},this.items),e&&(e.added&&this.$emit("cardAdded",e.added,{id:this.id,title:this.title},this.items),e.removed&&this.$emit("cardRemoved",e.removed,{id:this.id,title:this.title},this.items),e.moved&&this.$emit("cardMoved",e.moved,{id:this.id,title:this.title},this.items))},getAllowedData(e){let t={};return Object.keys(e).forEach(s=>{this.columns.forEach(i=>{i.field===s&&(t=Object.assign(t,o.a.pick(e,[s])))})}),t},getField(e){const t=o.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},cardClicked(e){this.$emit("cardClicked",e)},getItemUsers(e,t){const s=this.getItemProperty(e,t);return"string"===typeof s?[s]:s}},computed:{hasFormattingData(){return this.titleField||this.imageField||this.subtitleField||this.descriptionField||this.labelsField}}},O=_,$=(s("b192"),s("2877")),F=Object($["a"])(O,g,b,!1,null,"ee120344",null),A=F.exports,x=s("32a2"),k=s("383c"),S={name:"AwesomeKanban",components:{KanbanList:A,AwesomeSegments:x["a"],AwesomeFilter:p["a"]},mixins:[l["a"],d["a"],r["a"],c["a"],u,f["a"],m],props:{splittingField:{type:[String,Object]},sortField:{type:[String,Object]},sortOrder:{type:String,default:"asc",validator:e=>["asc","desc"].includes(e)},splittingValues:{type:Array},lists:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},options:{type:Object,default:()=>k["b"]},actions:{type:Object,default:()=>({refresh:!0,addList:!0})},displayOrphansList:{type:Boolean,default:!0},displayColumnsInCards:{type:Boolean,default:!1}},data:()=>({localLists:[],isAddingList:!1,newListName:"",isRefreshing:!1,displayLabelsCache:{},splittingFieldApiValues:[],displayAwFilter:!1}),created(){this.$root.$options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!"),this.reorderListItemsDebounced=o.a.debounce(this.reorderListItems,200)},mounted(){this.handleLists()},computed:{_model(){return this.model||this.getModelFromStore(this.identity)},titleComputed(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.pluralName?this.$te(this._model.pluralName)?this.$t(this._model.pluralName):o.a.startCase(this._model.pluralName):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):o.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):o.a.startCase(this._model.name):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):""},splittingValuesComputed(){return this.splittingValues&&Array.isArray(this.splittingValues)&&this.splittingValues.length?this.splittingValues:this.splittingFieldApiValues},segmentFieldDefinitionComputed(){if(!this.splittingField)return"";if(this.columns){const e=this.columns.find(e=>e.field===this.splittingField);if(e)return e}return""}},watch:{lists(){this.handleLists()},data(){this.handleLists()},splittingField(){this.handleLists()},splittingValuesComputed(){this.handleLists()},"options.sortField"(){this.orderCardInLists()},"options.sortOrder"(){this.orderCardInLists()}},methods:{addList(){this.newListName&&(o.a.some(this.localLists,{title:this.newListName})||(this.localLists.push({id:this.newListName,title:this.newListName,content:[]}),this.newListName="",this.isAddingList=!1))},clearForm(){this.isAddingList=!1,this.newListName=""},editForm(){this.isAddingList=!0},onRemoveList(e){this.localLists=o.a.filter(this.localLists,t=>t.title!==e),this.$emit("removeList",e)},listChanged(e){this.$emit("listChanged",e)},onCardChanged(e,t,s){this.$emit("cardChanged",e,t,s),this.reorderListItemsDebounced(s)},onCardRemoved(e,t){this.$emit("cardRemoved",e,t)},onCardAdded(e,t,s){this.$emit("cardAdded",e,t,s),this.changeItemSplittingValue(e,t,s)},onCardMoved(e,t){this.$emit("cardAdded",e,t)},onCardClicked(e){this.$emit("cardClicked",e)},handleLists(){if(this.lists&&this.lists.length)this.localLists=o.a.cloneDeep(this.lists);else if(this.data&&Array.isArray(this.data)){const e=this.displayOrphansList?[{id:"unsorted",title:this.$t("AwesomeKanban.labels.unsorted"),content:o.a.cloneDeep(this.data)}]:[];this.localLists=o.a.cloneDeep(e)}this.filterLists(),this.orderCardInLists()},filterLists(){this.splittingField&&this.splittingValuesComputed&&Array.isArray(this.splittingValuesComputed)&&this.splittingValuesComputed.forEach(e=>{let t=e,s=e.toString();"object"===typeof e&&(t=this.segmentFieldDefinitionComputed.relation&&e[this.segmentFieldDefinitionComputed.relationKey]||e.id||e,s=this.segmentFieldDefinitionComputed.relation&&e[this.segmentFieldDefinitionComputed.relationLabel]||e.label||e);let i=[];this.localLists.forEach(e=>{i.push(o.a.filter(e.content,[this.splittingField,t])),o.a.remove(e.content,e=>e[this.splittingField]===t)}),i=o.a.flatten([...i]),o.a.some(this.localLists,{id:t,title:s})||this.localLists.push({id:t,title:s,content:i})})},orderCardInLists(){const e=this.sortOrder?this.sortOrder.toLowerCase():"asc";this.sortField&&this.localLists.forEach(t=>{t.content.length>1&&(t.content=o.a.orderBy(t.content,e=>e[this.sortField],[e]))})},onCustomListAction(e){this.$emit("customListAction",e)},getSegmentValues(e){return e&&(e.fieldOptions&&e.fieldOptions.filterDropdownItems||e.enum||e.fieldOptions.values||e.fieldOptions.options)},async changeItemSplittingValue({element:e,newIndex:t},s,i){e[this.splittingField]="unsorted"===s.id||void 0===s.id?null:s.id,this.sortField&&delete e[this.sortField];const a=this._url.split("?");a[0]=`${a[0]}/${e[this.primaryKey]}`,await this.$http.put(a.join("?"),e)},async reorderListItems(e){if(this.sortField&&e){const t=e.map((e,t)=>{const s=this._url.split("?");return delete e[this.splittingField],s[0]=`${s[0]}/${e[this.primaryKey]}`,this.$http.put(s.join("?"),{...e,[this.sortField]:t})});await Promise.all(t)}},onSegmentListChanged(e){this.splittingFieldApiValues=e}}},P=S,I=(s("1893"),Object($["a"])(P,i,a,!1,null,null,null));t["a"]=I.exports},5264:function(e,t,s){"use strict";var i=s("bf7a"),a=s.n(i);a.a},5598:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"awesome-filter"},[e.editFilters?s("div",{staticClass:"filtering"},[s("h6",{staticClass:"card-subtitle text-muted mb-2"},[e._v(e._s(e.$t("AwesomeFilter.labels.filterData")))]),s("form",{staticClass:"container",on:{submit:function(t){return t.preventDefault(),e.addFilter()}}},[s("div",{staticClass:"dropdown column  pl-0"},[s("select",{ref:"filterField",staticClass:"form-control btn-outline-primary",attrs:{placeholder:Object.keys(e.currentField).length?e.currentField.label:e.$t("AwesomeFilter.labels.fields")},on:{change:e.selectFilter}},[s("option",{staticClass:"text-primary",attrs:{value:""},on:{click:function(t){t.preventDefault(),e.currentField={}}}},[e._v(e._s(e.$t("AwesomeFilter.labels.fields")))]),s("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._l(e._filterableFields,(function(t,i){return s("option",{key:i,domProps:{value:t.field},on:{click:function(s){e.currentField=t}}},[e._v(" "+e._s(t.label)+" ")])}))],2)]),s("awesome-filter-operator",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"in-popper":""},on:{"update:currentFilter":function(t){e.currentOperator=t},"update:current-filter":function(t){e.currentOperator=t}}}),s("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t}}}),s("div",{staticClass:"awesome-filter-add-block pt-1 "},[s("button",{staticClass:"btn btn-primary btn-block chip-button",attrs:{disabled:!Object.keys(e.currentField).length,type:"button"},on:{click:function(t){return t.preventDefault(),e.addFilter()}}},[s("i",{staticClass:"fa fa-save"})])])],1)]):e._e(),e.permanentFilter||e.permanentInput?s("div",[s("div",{staticClass:"chip-groups"},[s("div",{staticClass:"chip chip-primary dark chip-permanent"},[s("div",{staticClass:"chip-content"},[s("span",{staticClass:"form-control"},[e._v(e._s(e.fieldLabel||e.field))]),s("awesome-filter-operator",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"permanent-input":e.permanentInput},on:{"update:currentFilter":function(t){e.currentOperator=t},"update:current-filter":function(t){e.currentOperator=t}}}),s("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue,"permanent-input":e.permanentInput},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t}}})],1)])])]):e._e(),e.displayFilters&&e.advancedFilters&&e.advancedFilters.length?s("div",{staticClass:"active-filter"},[s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v(e._s(e.$t("AwesomeFilter.labels.activeFilter")))]),s("div",{staticClass:"chip-groups"},e._l(e.advancedFilters,(function(t,i){return s("div",{key:i,staticClass:"chip chip-primary bg-primary dark"},[s("div",{staticClass:"chip-content"},[s("span",{staticClass:"form-control"},[e._v(e._s(t.field?t.field.label:""))]),s("strong",{staticClass:"ml-2 mr-2"},[e._v(" "+e._s(t.filter?t.filter.shortText||t.filter.text:"")+" ")]),"object"===typeof t.value?s("div",e._l(t.value,(function(t,i){return s("span",{key:i},[e._v(" "+e._s(t)+" ")])})),0):s("div",[e._v(e._s(t.value))]),s("button",{staticClass:"btn text-muted",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.removeFilter(t)}}},[s("i",{staticClass:"fa fa-times-circle"})])])])})),0)]):e._e()])},a=[],n=s("60bb"),o=s.n(n),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropdown column awesome-filter-operator"},[s("select",{staticClass:"btn form-control btn-outline-primary",class:{"font-weight-bold":e._filterSelected},attrs:{disabled:!(e.currentField&&e.currentField.field)||e.permanentInput},on:{change:e.updateFilter}},[s("option",{staticClass:"dropdown-item",attrs:{disabled:""}},[e._v(e._s(e.$t("AwesomeFilter.labels.filters")))]),s("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._l(e._getFilters,(function(t){return s("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(e.formatLabel(t)))])}))],2)])},r=[],d=s("5a3e"),c={name:"AwesomeFilterOperator",mixins:[d["a"]],props:{currentField:{type:Object,required:!0},currentFilter:{type:Object,required:!0},permanentInput:{type:Boolean},inPopper:{type:Boolean}},data:()=>({filters:[],rules:{text:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],object:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],datetime:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isNotDefined"],number:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],integer:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],relation:["$eq","$ne","$in","$isNull","$isNotNull","$isDefined","$isNotDefined"],boolean:["$eq","$ne","$isNull","$isNotNull","$isDefined","$isNotDefined"]}}),methods:{updateFilter(e){let t={};e.target.value&&(t=this.filters.find(t=>t.value===e.target.value)),this.$emit("update:current-filter",t)},formatLabel(e){return this.currentFilter&&e.value===this.currentFilter.value&&e.shortText||e.text}},computed:{_getFilters(){if(this.currentField&&Object.keys(this.currentField).length){const e=o.a.filter(this.filters,e=>{if(o.a.includes(this.rules[this.currentField.type],e.value))return e});if(e.length)return e}return this.filters},_filterSelected(){return this.currentFilter&&Object.keys(this.currentFilter).length>0}},mounted(){this.filters=[{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},{shortText:"",text:this.$t("AwesomeFilter.filters.in"),value:"$in"},{shortText:"!=",text:this.$t("AwesomeFilter.filters.not-equals"),value:"$ne"},{shortText:">",text:this.$t("AwesomeFilter.filters.greater-than"),value:"$gt"},{shortText:">=",text:this.$t("AwesomeFilter.filters.greater-or-equals"),value:"$gte"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-than"),value:"$lt"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-or-equals"),value:"$lte"},{text:this.$t("AwesomeFilter.filters.between"),value:"$between"},{text:this.$t("AwesomeFilter.filters.not-between"),value:"$notBetween"},{text:this.$t("AwesomeFilter.filters.contains"),value:"$like"},{text:this.$t("AwesomeFilter.filters.not-contains"),value:"$notLike"},{text:this.$t("AwesomeFilter.filters.starts-with"),value:"$startsWith"},{text:this.$t("AwesomeFilter.filters.ends-with"),value:"$endsWith"},{text:this.$t("AwesomeFilter.filters.is-null"),value:"$isNull"},{text:this.$t("AwesomeFilter.filters.is-not-null"),value:"$isNotNull"},{text:this.$t("AwesomeFilter.filters.is-defined"),value:"$isDefined"},{text:this.$t("AwesomeFilter.filters.is-not-defined"),value:"$isNotDefined"}]}},u=c,p=s("2877"),h=Object(p["a"])(u,l,r,!1,null,"469bf6be",null),m=h.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return["$isNull","$isNotNull","$isDefined","$isNotDefined"].includes(e.currentFilter.value)?e._e():s("div",{staticClass:"column awesome-filter-value"},[Object.keys(e.currentField).length||e.permanentInput?s("div",["number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"===e.currentFilter.value||"$notBetween"===e.currentFilter.value?e._e():s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),("text"===e.currentField.type||"html"===e.currentField.type||"string"===e.currentField.type||"url"===e.currentField.type)&&!e.currentField.enum||e.permanentInput?s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e(),"text"!==e.currentField.type&&"string"!==e.currentField.type&&"url"!==e.currentField.type||!e.currentField.enum?e._e():s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-default dropdown-toggle p-0 mr-2 ml-2",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" "+e._s(Object.keys(e.value).length?e.value:e.$t("AwesomeFilter.labels.values"))+" ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"field"}},[s("a",{staticClass:"dropdown-item",attrs:{href:""},on:{click:function(t){t.preventDefault(),e.value=""}}},[e._v(e._s(e.$t("AwesomeFilter.labels.values")))]),e._l(e.currentField.enum,(function(t,i){return s("a",{key:i,staticClass:"dropdown-item",attrs:{href:""},on:{click:function(s){s.preventDefault(),e.value=t}}},[e._v(" "+e._s(t)+" ")])}))],2)]),"number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"!==e.currentFilter.value&&"$notBetween"!==e.currentFilter.value?e._e():s("div",{staticClass:"form-element between"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value.from,expression:"value.from",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.from")},domProps:{value:e.value.from},on:{input:function(t){t.target.composing||e.$set(e.value,"from",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.value.to,expression:"value.to"}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.to")},domProps:{value:e.value.to},on:{input:function(t){t.target.composing||e.$set(e.value,"to",t.target.value)}}})]),"boolean"===e.currentField.type?s("div",{staticClass:"form-element"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"true"}},[e._v("true")]),s("option",{attrs:{value:"false"}},[e._v("false")]),s("option",{domProps:{value:"NULL"}},[e._v("Null")])])]):e._e(),"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"===e.currentFilter.value||"$between"===e.currentFilter.value?e._e():s("div",{staticClass:"form-element"},[s("date-range-picker",{staticClass:"form-group",attrs:{"locale-data":e.dateRangePicker.locale,"date-range":e.dateRangePicker,"single-date-picker":!0,"time-picker":!0,open:"left","time-picker-increment":1,"show-week-numbers":!1,"show-dropdowns":!1,ranges:!1},on:{update:e.onDateFilter}})],1),"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"!==e.currentFilter.value&&"$between"!==e.currentFilter.value?e._e():s("div",{staticClass:"form-element"},[s("date-range-picker",{staticClass:"form-group vgt-date-range",attrs:{"date-range":e.dateRangePicker,"locale-data":e.dateRangePicker.locale,open:"left"},on:{update:e.onDateFilter}})],1),"relation"===e.currentField.type?s("FieldVSelect",{staticClass:"form-control input-group-sm",attrs:{schema:Object.assign({},e.currentField,{model:e.currentField.field,hidden:!1,fieldOptions:Object.assign({},e.currentField,{hidden:!1})}),model:{},multiple:e.currentFilter&&"$in"===e.currentFilter.value,placeholder:e.$t("AwesomeFilter.labels.filterValue"),url:e.currentField.relationUrl},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e(),"object"===e.currentField.type?s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}):e._e()],1):e._e()])},g=[],b=s("33a0"),y=s.n(b),v=(s("53b4"),s("5a0c")),C=s.n(v),w=s("59cd");const _=s("5e0f");C.a.extend(_);var O={name:"AwesomeFilterValue",mixins:[d["a"]],components:{DateRangePicker:y.a,FieldVSelect:w["a"]},props:{currentField:{type:Object,required:!0},currentFilter:{type:Object,required:!0},currentValue:{type:[String,Object,Number,Array],required:!0},permanentInput:{type:Boolean}},data:()=>({value:"",dateRangePicker:{startDate:C()(),endDate:C()().add(7,"days"),locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:C.a.weekdaysMin(),monthNames:C.a.monthsShort(),firstDay:1}}}),methods:{updateValue(e){this.$emit("update:current-value",e)},onDateFilter(e){e&&("$notBetween"!==this.currentFilter.value&&"$between"!==this.currentFilter.value?this.value=C()(e.startDate.toISOString()).format("YYYY-MM-DD hh:mm"):this.value={from:e.startDate.toISOString().slice(0,10),to:e.endDate.toISOString().slice(0,10)})}},watch:{value(e){this.updateValue(e)},currentField(e){e&&"object"===typeof e&&Object.keys(e).length?"datetime"===e.type||"date"===e.type?this.value=(new Date).toISOString():"boolean"===e.type?this.value=!0:this.value="":this.value=""},currentFilter(e){"$between"!==e.value&&"$notBetween"!==e.value||(this.value={from:"",to:""})}},mounted(){this.value=this.currentValue,this.dateRangePicker.locale.applyLabel=this.$t("dateRangePicker.applyLabel"),this.dateRangePicker.locale.cancelLabel=this.$t("dateRangePicker.cancelLabel"),this.dateRangePicker.locale.weekLabel=this.$t("dateRangePicker.weekLabel"),this.dateRangePicker.locale.customRangeLabel=this.$t("dateRangePicker.customRangeLabel")}},$=O,F=(s("5264"),Object(p["a"])($,f,g,!1,null,null,null)),A=F.exports,x={name:"AwesomeFilter",mixins:[d["a"]],components:{AwesomeFilterOperator:m,AwesomeFilterValue:A},props:{advancedFilters:{type:Array,default:()=>[]},field:{type:String},fieldLabel:{type:String},defaultOperator:{type:String},fields:{type:Array},displayFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is for displaying active filters"},editFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is in a PopperJS"},permanentFilter:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom filter mode (Always display filter)"},permanentInput:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom input mode (Always display filter) that fire call on API"}},data:()=>({currentField:{},currentValue:"",currentOperator:{},selectedFilters:[]}),methods:{addFilter(){const e=["$isNull","$isNotNull","$isDefined","$isNotDefined"].indexOf(this.currentOperator.value)>-1||this.currentValue;if(Object.keys(this.currentField).length){let t={field:this.currentField,value:e,filter:this.currentOperator};this.selectedFilters.push(t),this.permanentFilter||this.permanentInput||(this.currentField={},this.currentValue="",this.currentOperator={shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},this.$refs["filterField"]=""),this.parseFilter(this.selectedFilters)}},removeFilter(e){this.selectedFilters=o.a.without(this.selectedFilters,e),this.parseFilter(this.selectedFilters)},parseFilter(e,t={dispatch:!0}){let s={};e.forEach(e=>{const t={[e.field.field]:{[e.filter.value]:e.value}};this.permanentFilter||this.permanentInput||!o.a.has(s,`${e.field.field}.${e.filter.value}`)?o.a.has(s,""+e.field.field)||o.a.has(s,"$relation")?s=t:o.a.merge(s,t):s[e.field.field][e.filter.value]=o.a.flattenDeep([s[e.field.field][e.filter.value],e.value]),this.permanentInput&&(e.field.field.split(".").length>1?s={$relation:o.a.cloneDeep(s)}:o.a.merge(s,t))}),t.dispatch&&this.$emit("update-filter",s,e)},selectFilter(e){e.target.value?this.currentField=this._filterableFields.find(t=>t.field===e.target.value):this.currentField={}}},computed:{_filterableFields(){return this.fields.filter(e=>!e.filterOptions||!e.filterOptions.enabled)}},watch:{advancedFilters(e){this.selectedFilters=e},currentOperator(){(this.permanentFilter||this.permanentInput)&&this.addFilter()},currentValue(){(this.permanentFilter||this.permanentInput)&&this.addFilter()}},mounted(){this.currentOperator=this.defaultOperator?{shortText:this.defaultOperator,text:this.$t("AwesomeFilter.filters."+this.defaultOperator),value:this.defaultOperator}:{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},(this.permanentFilter||this.permanentInput)&&(this.fields&&this.fields.length?this.currentField=this.fields.filter(e=>e.field===this.field)[0]:this.currentField={field:this.field,label:this.field,type:"string"})}},k=x,S=(s("8204"),Object(p["a"])(k,i,a,!1,null,null,null));t["a"]=S.exports},"55d7":function(e,t,s){"use strict";var i=s("59ec"),a=s.n(i);a.a},5694:function(e,t,s){"use strict";var i=s("7f89"),a=s.n(i);a.a},"56d7":function(e,t,s){"use strict";s.r(t);s("21b6"),s("1a0a"),s("630d"),s("abe2");var i=s("8bbf"),a=s.n(i),n=s("4328"),o=s.n(n),l=s("cebe"),r=s.n(l),d=s("bf80"),c=s.n(d),u=s("1c05"),p=s("3dd1"),h=s.n(p),m=s("60bb"),f=s.n(m),g=s("2685"),b=s.n(g);b.a.settings({timeout:5e3,resetOnHover:!0,icon:"fontAwesome",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});var y={methods:{$awNotify(e){b.a.settings({timeout:5e3,resetOnHover:!0,icon:"fontAwesome",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const t=Object(m["isObject"])(e)?{title:e,...e}:{icon:"fa fa-info",title:e},s=t&&t.type&&b.a[t.type]?t.type:"info";b.a[s]?b.a[s](t||""):h.a.fire({title:t.title,text:t.message,type:t.type,showCancelButton:!1})},$awConfirm(e){return new Promise((t,s)=>{h.a.fire({title:this.$t("Notifications.messages.are_you_sure"),text:e,type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$t("Notifications.buttons.yes"),cancelButtonText:this.$t("Notifications.buttons.cancel"),reverseButtons:!0}).then(e=>{t(e.value)}).catch(s)})},$export(e){return new Promise((t,s)=>{h.a.fire({title:"Data exported",input:"textarea",inputValue:JSON.stringify(e),type:"success",showCancelButton:!1,showConfirmButton:"#3075d6",confirmButtonText:this.$t("Notifications.buttons.close"),reverseButtons:!0}).then(e=>{t(e.value)}).catch(s)})}}},v=s("ddbd"),C=s.n(v),w=s("6389"),O=s.n(w),$=s("85b3"),F=s.n($),A=s("289a"),x=s.n(A),k=(s("0deb"),s("a354")),S=s("26d5"),P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[e._m(0),s("div",{staticClass:"container"},[s("router-view")],1)])},I=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[s("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[e._v("Demo PlayGround")]),s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})]),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/"}},[e._v(" Home "),s("span",{staticClass:"sr-only"},[e._v("(current)")])])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/awesometable"}},[e._v("AwesomeTable")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/awesomelist"}},[e._v("Awesomelist")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/awesomekanban"}},[e._v("Awesome Kanban")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/awesomecrud"}},[e._v("Awesome crud")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/awesomecrud-advanced"}},[e._v("Awesome Crud advanced")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/awesomelayout"}},[e._v("Awesome Layout")])])])])])}],R={name:"App",components:{},data(){return{}},methods:{}},T=R,L=(s("5c0b"),s("2877")),D=Object(L["a"])(T,P,I,!1,null,null,null),M=D.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("enyo-select",{attrs:{id:e.fieldOptions.id,options:e.internalOptions,value:e.internalValue,multiple:e.fieldOptions.multiple,"track-by":e._trackBy||null,label:e.fieldOptions.label||null,max:e.schema.max||e.fieldOptions.max||null,searchable:e.schema.searchable||e.fieldOptions.searchable||!0,"internal-search":e.schema.internalSearch||e.fieldOptions.internalSearch||!e.dataUrl,disabled:e.disabled,url:e.dataUrl},on:{"search-change":e.apiRequestDebounced,input:e.updateSelected},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},N=[],E=s("081e"),V={mixins:[E["a"],u["a"].abstractField],props:[],data(){return{myModel:""}},computed:{fieldOptions(){return this.schema.fieldOptions||{}},internalOptions(){return this.apiOptions||this.schema.fieldOptions.values||this.schema.fieldOptions.options||this.schema.values},customLabel(){if("undefined"!==typeof this.schema.fieldOptions&&"undefined"!==typeof this.schema.fieldOptions.customLabel&&"function"===typeof this.schema.fieldOptions.customLabel)return this.schema.fieldOptions.customLabel},dataUrl(){return this.url||this.fieldOptions.url},_trackBy(){return this.$props.trackBy||this.fieldOptions.trackBy||this.schema.foreignKey}},watch:{vModelValue(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)},value(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)}},created(){this.apiRequestDebounced=_.debounce(e=>(console.warn("","DEBOUNCED",this),this.loadRemoteEntities(e)),2e3)},methods:{addTag(e,t){const s=this.fieldOptions.onNewTag;"function"===typeof s&&s(e,t,this.options,this.value)},async setIncomingValue(e,t,s){if(e!==t){if(console.warn("[WARN] ","NEW VALUE => setIncomingValue",t,s),console.warn("","INCOMING VALUE REQUESTED IN setIncomingValue SELECT",e,t),this.dataUrl&&(!this.internalOptions||this.internalOptions.length<1)&&!s&&(console.warn("","list is empty i'm going to search more options"),await this.apiRequestDebounced(e)),Array.isArray(e))this.internalValue=this.internalOptions&&this.internalOptions.filter(t=>{const s="string"===typeof t?t:t[this._trackBy];return e.indexOf(s)>-1});else if(this.internalValue=this.internalOptions&&this.internalOptions.find(t=>{const s="string"===typeof t?t:t[this._trackBy];return s==e}),console.warn("incoming value ",e,this.dataUrl,this.internalValue),!this.internalValue&&this.dataUrl&&!s){console.warn("[fieldES]","remote load",e);const t=await this.apiRequestDebounced(e);t&&(console.warn("","take 2",e,this.internalOptions.length),this.setIncomingValue(e,null,!0))}}else console.warn("[WARN] ","SAME VALUE",e)},updateSelected(e){if(this.internalValue=e,e&&"string"!==typeof e&&"number"!==typeof e)if(Array.isArray(e)){const t=e.map(e=>this._trackBy&&e[this._trackBy]?e[this._trackBy]:e);this.$emit("input",t),this.value=t}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},onSearchChange(e,t){const s=this.fieldOptions.onSearch;console.warn("onSearch",e),"function"===typeof s?s(e,t,this.options):this.apiRequestDebounced(e)},onSelect(){},onRemove(){},onOpen(){},onClose(){}}},B=V,q=Object(L["a"])(B,j,N,!1,null,null,null),U=q.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group field-file-input"},[s("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",placeholder:"url"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})],1)},H=[],G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"base64-upload"},[e.name?e._e():s("i",{staticClass:"fa fa-upload text-primary upload-icon"}),e.isImage?s("img",{style:e.imageStyle,attrs:{src:e.srcComputed}}):e._e(),e.isImage?e._e():s("p",{staticClass:"form-control",class:e.inputClass},[e._v(e._s(e.name||e.placeholder))]),s("input",{attrs:{type:"file",disabled:e.disabled||e.readonly,accept:e.isImage?"image/*":"*"},on:{change:e.onChange}})])},Y=[],z={name:"Base64Upload",props:{imageSrc:[String,Object],inputClass:String,disabled:[String,Boolean],readonly:[String,Boolean],imageStyle:Object,type:{type:String,default:"text"},placeholder:{type:String,default:"Click or drop a file"},accept:{type:String,default:""}},data(){return{src:this.imageSrc,name:""}},computed:{isImage(){return this.src&&this.type&&0===this.type.indexOf("image")||this.src&&this.src.type&&0===this.src.type.indexOf("image")},srcComputed(){let e=this.src||this.imageSrc;return e?e&&e.base64?(e=e&&e.base64?e.base64:e,0===e.indexOf("data:")?e:`data:${this.type};base64,${e}`):e:""}},methods:{onChange(e){if(e.target.files&&e.target.files[0]){let t=e.target.files[0],s=new FileReader;s.addEventListener("load",e=>{this.src=e.target.result;let[,s]=this.src.split(",");this.name=t.name,this.$emit("change",{size:t.size,type:t.type,name:t.name,base64:s})}),s.readAsDataURL(t)}}}},W=z,Q=(s("8f96"),Object(L["a"])(W,G,Y,!1,null,"2bbd2a4e",null)),J=Q.exports,Z={name:"field-filePicker",components:{Base64Upload:J},mixins:[u["a"].abstractField],data(){return{refresh:Date.now(),type:this.schema&&this.schema.fieldOptions&&(this.schema.fieldOptions.type||this.schema.fieldOptions.inputType),inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass}},computed:{placeholderComputed(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder}},watch:{value(e,t){e!==t&&(this.refresh=Date.now())}},mounted(){this.oldValue=this.value},beforeDestroy(){},methods:{onChangeImage(e){e&&e.type.indexOf("image")>-1&&(this.type=e.type),this.value=e}}},X=Z,ee=(s("1c82"),Object(L["a"])(X,K,H,!1,null,null,null)),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"field-json-text-editor"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control field-json-textarea",attrs:{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.innerValue},on:{input:[function(t){t.target.composing||(e.innerValue=t.target.value)},e.saveJson]}}),e._v(" "),s("div",{staticClass:"text-right"},[e.warning?s("div",{staticClass:"text-danger"},[s("i",{staticClass:"fa fa-exclamation-circle"}),e._v(" "+e._s(e.$t(e.warning))+" ")]):e._e(),e.warning||e.typing||!this.innerValue?e._e():s("div",{staticClass:"text-success"},[s("i",{staticClass:"fa fa-check"})]),e.typing?s("div",{staticClass:"text-info"},[e._v(" ... ")]):e._e()])])},ie=[],ae={name:"field-json-textarea",mixins:[u["a"].abstractField],data(){return{innerValue:"",warning:"",typing:!1,debounce:null}},computed:{},watch:{value(e,t){e!==t&&(this.innerValue=JSON.stringify(e,null,2))}},beforeDestroy(){},methods:{saveJson(e){this.typing=!0,clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.warning="",this.typing=null,this.innerValue=e.target.value;try{this.innerValue&&(this.value=JSON.parse(this.innerValue))}catch(t){this.warning="common.messages.invalid_json"}},300)}}},ne=ae,oe=(s("b5ca"),Object(L["a"])(ne,se,ie,!1,null,null,null)),le=oe.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group"},[s("datetime",e._b({staticClass:"field-date-fw",attrs:{"input-id":e.inputId,"input-class":" form-control",type:e.pickerType,disabled:e.schema.disabled||e.schema.readonly,auto:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"datetime",e.schema,!1))],1)},de=[],ce=s("5a0c"),ue=s.n(ce);s("d355");const pe=s("f906");ue.a.extend(pe);const he="YYYY-MM-DDThh:mm:ssZ";var me={mixins:[u["a"].abstractField],components:{datetime:d["Datetime"]},mounted(){this.inputId=f.a.uniqueId("datetime_")},computed:{pickerType(){return this.schema.fieldOptions&&this.schema.fieldOptions.type||"datetime"}},data(){return{inputId:""}},methods:{getDateFormat(){return this.schema.fieldOptions&&this.schema.fieldOptions.format?this.schema.fieldOptions.format:he},getDefaultInputFormat(){return he},formatValueToField(e){if(e){let t;return t="undefined"!==typeof this.fieldOptions.format?ue()(e,this.fieldOptions.format).toDate():new Date(e),ue()(t).format(this.getDateFormat())}return e},formatValueToModel(e){return e=e?ue()(e).format(this.getDateFormat()):void 0,e}},beforeDestroy(){}},fe=me,ge=(s("55d7"),Object(L["a"])(fe,re,de,!1,null,null,null)),be=ge.exports,ye=s("59cd"),ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group field-file-input aw-form-field-image-picker"},[s("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control mt-1 image-picker-input",attrs:{placeholder:"url",type:"text"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e.value?s("div",{staticClass:"image-picker-actions"},[s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openImageInTab.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-external-link"})]),s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.removeImage.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-trash"})])]):e._e()],1)},Ce=[],we={components:{Base64Upload:J},mixins:[u["a"].abstractField],data(){return{refresh:Date.now(),type:"image",inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass}},computed:{placeholderComputed(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder}},watch:{value(e,t){e!==t&&(this.refresh=Date.now())}},mounted(){this.oldValue=this.value},beforeDestroy(){},methods:{openImageInTab(){window.open(this.value,"_blank")},removeImage(){this.value=""},onChangeImage(e){e&&-1!==!e.type.indexOf("image")&&(this.value=e)}}},_e=we,Oe=(s("2e65"),Object(L["a"])(_e,ve,Ce,!1,null,null,null)),$e=Oe.exports,Fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aw-field-array"},[e._l(e.internalValue,(function(t,i){return s("div",{key:i,staticClass:"env-row row"},[void 0!==t?[s("button",{staticClass:"btn btn-danger btn-sm btn-delete pull-right",attrs:{type:"button"},on:{click:function(t){return e.removeItem(i)}}},[s("i",{staticClass:"fa fa-trash"})]),s("div",{staticClass:"col-12"},[e.schema.itemsSchema&&"object"===e.schema.itemsSchema.type?[s("div",{staticClass:"form-group"},[s("awesome-form",{attrs:{mode:"edit",displayMode:"page",item:e.internalValue[i],"v-model":e.internalValue[i],identity:i+"",schema:e.schema.itemsSchema,displayHeader:!1,displayFooter:!1}})],1)]:[s("div",{staticClass:"form-group"},["checkbox"===e.inputType?s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[i],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"checkbox"},domProps:{checked:Array.isArray(e.internalValue[i])?e._i(e.internalValue[i],null)>-1:e.internalValue[i]},on:{change:[function(t){var s=e.internalValue[i],a=t.target,n=!!a.checked;if(Array.isArray(s)){var o=null,l=e._i(s,o);a.checked?l<0&&e.$set(e.internalValue,i,s.concat([o])):l>-1&&e.$set(e.internalValue,i,s.slice(0,l).concat(s.slice(l+1)))}else e.$set(e.internalValue,i,n)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):"radio"===e.inputType?s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[i],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"radio"},domProps:{checked:e._q(e.internalValue[i],null)},on:{change:[function(t){return e.$set(e.internalValue,i,null)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):s("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[i],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:e.inputType},domProps:{value:e.internalValue[i]},on:{change:function(t){e.schemaComputed.onChange},blur:function(t){return e.saveItem()},input:function(t){t.target.composing||e.$set(e.internalValue,i,t.target.value)}}})])]],2)]:e._e()],2)})),s("button",{staticClass:"float-right btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){return e.addItem()}}},[s("i",{staticClass:"fa fa-plus"})])],2)},Ae=[],xe={name:"field-array",mixins:[u["a"].abstractField],components:{},data(){return{warning:"",internalValue:[]}},computed:{schemaComputed(){return{...this.schema,model:"",fieldOptions:{...this.schema.fieldOptions,inputType:null}}},inputType(){let{type:e,format:t}=this.schema.itemsSchema;if(Array.isArray(e)){const t=["string","number","boolean"];for(let s=0;s<t.length;s++)if(e.indexOf(t[s])>-1){e=t[s];break}}switch(e){case"string":switch(t){case"email":return"email";case"date-time":case"datetime":return"date-time";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return e}}},watch:{value(e,t){e&&Array.isArray(e)&&(this.internalValue=e)}},mounted(){this.value&&Array.isArray(this.value)&&(this.internalValue=this.value)},beforeDestroy(){},methods:{addItem(){let e;switch(this.saveItem(),this.schema.itemsSchema.type){case"object":e={};break;case"array":e=[];break;case"number":e=0;break;default:e=""}this.internalValue.push(e),this.$forceUpdate()},removeItem(e){this.$delete(this.internalValue,e),this.$forceUpdate()},saveItem(){this.value=this.internalValue}}},ke=xe,Se=(s("7ed7"),Object(L["a"])(ke,Fe,Ae,!1,null,"139b53a9",null)),Pe=Se.exports,Ie=s("beb7"),Re=s("8fd7"),Te=s("2781"),Le=s("51ac"),De=s("09b8"),Me=s("6f66"),je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("multiselect",e._b({attrs:{value:e.internalValue||e.value,searchable:e.searchable,"internal-search":e.internalSearch,loading:e.isLoading,options:e.internalOptions,label:e.label},on:{input:e.updateSelected,"search-change":e.loadRemoteEntities}},"multiselect",e.filteredProps,!1),[s("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v(" "+e._s(e.noResult)+" ")])])],1)},Ne=[],Ee={name:"EnyoSelect",components:{},props:{options:{type:Array,default:()=>[]},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],internalSearch:[Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},mixins:[E["a"]],data(){return{isLoading:!1,apiOptions:!1}},watch:{},computed:{filteredProps(){const e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e}},methods:{},created(){this.$root.$options.components.multiselect||console.error("`vue-multiselect` is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},Ve=Ee,Be=(s("577a"),Object(L["a"])(Ve,je,Ne,!1,null,null,null)),qe=Be.exports,Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"clearfix"},[s("button",{class:e.options.class||"btn btn-info",attrs:{type:"button"},on:{click:e.buttonClick}},[s("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.options.label||"Upload")+" ")]),s("input",{ref:"inputButton",staticStyle:{display:"none"},attrs:{type:"file",name:"file",visbility:"hidden"},on:{change:e.filesChange}})])},Ke=[],He={name:"UploadButton",inheritAttrs:!1,props:{name:String,options:Object},computed:{},mounted(){this.reset()},methods:{reset(){const e=this.$refs.inputButton;e&&(e.value="")},buttonClick(e){const t=this.$refs.inputButton;t&&t.click()},filesChange(e){const t=e.target.files||e.dataTransfer.files;if(!t.length)return;const s=t[0];if(this.options.maxSize){const e=s.size&&s.size/Math.pow(1e3,2);if(e>this.options.maxSize)return void this.$awNotify({message:`Upload ${e} size exceeding`,type:"warning"})}this.options.upload&&this.uploadFiles(e),this.options.base64&&this.base64(e,s)},uploadFiles(e){const t=new FormData,s=e.target.name,i=e.target.files;Array.from(Array(i.length).keys()).map(e=>{t.append(s,i[e],i[e].name)}),this.options.targetUrl?this.options.method?this.$http[this.options.method.toLowerCase()](this.options.targetUrl,t).then(e=>{this.$emit("uploaded",e.data)}).catch(e=>{this.$emit("upload-failed",e.response?e.response.data:e)}).finally(()=>{setTimeout(()=>{this.reset()},300)}):this.$awNotify({message:"Upload Method is Required",type:"warning"}):this.$awNotify({message:"Upload Url is Required",type:"warning"})},base64(e,t){const s=new FileReader;s.onload=e=>{const t=e.target.result;t&&this.$emit("base64",t)},s.readAsDataURL(t)}}},Ge=He,Ye=Object(L["a"])(Ge,Ue,Ke,!1,null,null,null),ze=Ye.exports,We=s("9336"),Qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"card "+e.className},[e.$slots.image?s("div",{staticClass:"card-image"},[e._t("image")],2):e._e(),e.$slots.header?s("div",{staticClass:"card-header",class:e.headerClass},[e._t("header")],2):e._e(),s("div",{staticClass:"card-body",class:e.bodyClass},[e._t("default")],2),e.$slots.footer?s("div",{staticClass:"card-footer",class:e.footerClass},[s("hr"),e._t("footer")],2):e._e()])},Je=[],Ze={name:"EnyoCard",props:{className:String,headerClass:String,bodyClass:String,footerClass:String}},Xe=Ze,et=Object(L["a"])(Xe,Qe,Je,!1,null,null,null),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("enyo-card",{staticClass:"card-stats",class:e.className},[s("div",{staticClass:"row"},[e.$slots.header?s("div",{staticClass:"col-5"},[s("div",{staticClass:"icon-big text-center"},[e._t("header")],2)]):e._e(),e.$slots.content?s("div",{staticClass:"col-7"},[s("div",{staticClass:"numbers"},[e._t("content")],2)]):e._e()]),e.$slots.footer?s("div",{staticClass:"stats",attrs:{slot:"footer"},slot:"footer"},[e._t("footer")],2):e._e()])},it=[],at={name:"EnyoStatsCard",components:{EnyoCard:tt},props:{className:String}},nt=at,ot=Object(L["a"])(nt,st,it,!1,null,null,null),lt=ot.exports,rt=function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"card-table-and-chart",class:(e={"card-stats-fullscreen":t.fullscreen},e[t.className]=t.className,e)},["table"===t.currentState?i("AwesomeTable",{attrs:{identity:t.identity,title:t.title,columns:t.tableColumns,rows:t.dataSource,"table-needs-refresh":t.needsRefresh||t.internalRefreshRequested,perPage:t.tableOptions?t.tableOptions.perPage:"",options:t.tableOptions,actions:t.tableActions}},[i("template",{slot:"table-top-actions"},[i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v(" Barres ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v(" Graphe ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v(" Camembert ")]),i("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?i("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():i("i",{staticClass:"fa fa-search-plus"})])])],2):t._e(),"bar"===t.currentState?i("enyo-chart-card",{attrs:{identity:t.identity,"chart-type":"Bar","chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[i("template",{slot:"header"},[i("h4",{staticClass:"mt-0 mb-0"},[t._v(" "+t._s(t.title)+" "),i("div",{staticClass:"btn-group btn-group-sm float-right"},[i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v(" Liste ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v(" Graphe ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v(" Camembert ")]),i("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?i("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():i("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),"line"===t.currentState?i("enyo-chart-card",{attrs:{"chart-type":"Line",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[i("template",{slot:"header"},[i("h4",{staticClass:"mt-0 mb-0"},[t._v(" "+t._s(t.title)+" "),i("div",{staticClass:"btn-group btn-group-sm float-right"},[i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v(" Liste ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v(" Barres ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v(" Camembert ")]),i("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?i("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():i("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),"pie"===t.currentState?i("enyo-chart-card",{attrs:{"chart-type":"Pie",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"responsive-options":t.pieResponsiveOptions,"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[i("template",{slot:"header"},[i("h4",{staticClass:"mt-0 mb-0"},[t._v(" "+t._s(t.title)+" "),i("div",{staticClass:"btn-group btn-group-sm float-right"},[i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v(" Liste ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v(" Barres ")]),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v(" Graphe ")]),i("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?i("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():i("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e()],1)},dt=[],ct=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card",class:e.chartClasses},[e.$slots.header?s("div",{staticClass:"card-header",class:e.headerClasses},[e._t("header")],2):e._e(),s("div",{staticClass:"card-body"},[s("div",{staticClass:"ct-chart",attrs:{id:e.chartId}})]),e.$slots.footer?s("div",{staticClass:"card-footer"},[e._t("footer")],2):e._e()])},ut=[],pt={name:"EnyoChartCard",components:{},props:{classes:String,headerClasses:String,chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:()=>({})},chartData:{type:Object,default:()=>({labels:[],series:[]})},responsiveOptions:[Object,Array],graphNeedsRefresh:{type:Boolean,default:!1}},data(){return{chartist:null,chartId:"no-id",chart:null,animationsClasses:""}},computed:{chartClasses(){return`${this.class||""} ${this.animationsClasses} `},$Chartist(){return this.chartist}},watch:{graphNeedsRefresh:"initChart",chartData:"initChart",chartOptions:"initChart"},async mounted(){this.chartist=await Promise.resolve().then(s.t.bind(null,"4212",7)),this.updateChartId(),setTimeout(()=>{this.initChart()},100)},methods:{initChart(){const e="#"+this.chartId;let t={},s={},i={};if(this.$Chartist){switch(this.chartType){case"Pie":t={series:this.chartData.series[0],labels:this.chartData.labels},s={...this.chartOptions,labelInterpolationFnc(e,s){return`${e} (${Math.round(t.series[s]/t.series.reduce((e,t)=>e+t)*100)}%)`}},this.chart=this.$Chartist[this.chartType](e,t,s,this.responsiveOptions);break;case"Line":i={...this.chartOptions,plugins:[this.$Chartist.plugins.ctPointLabels({textAnchor:"middle"})]},this.chart=this.$Chartist[this.chartType](e,this.chartData,i,this.responsiveOptions);break;case"Bar":this.chart=this.$Chartist[this.chartType](e,this.chartData,this.chartOptions,this.responsiveOptions);break}if(this.$emit("initialized",this.chart),this.$emit("update:graphNeedsRefresh",!1),window.matchMedia){const e=window.matchMedia("print");if(e.matches)return}"Line"===this.chartType&&this.animateLineChart(),"Bar"===this.chartType&&this.animateBarChart(),"Pie"===this.chartType&&this.animatePieChart()}},updateChartId(){const e=(new Date).getTime().toString(),t=this.getRandomInt(0,e);this.chartId="div_"+t},getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e},animateLineChart(){let e=0;const t=500,s=80;this.chart&&(this.chart.on("draw",i=>{"line"===i.type||"area"===i.type?i.element.animate({d:{begin:600,dur:700,from:i.path.clone().scale(1,0).translate(0,i.chartRect.height()).stringify(),to:i.path.clone().stringify(),easing:this.$Chartist.Svg.Easing.easeOutQuint}}):"point"===i.type&&(e++,i.element.animate({opacity:{begin:e*s,dur:t,from:0,to:1,easing:"ease"}}))}),e=0)},animateBarChart(){let e=0;const t=500,s=80;this.chart&&this.chart.on("draw",i=>{"bar"===i.type&&(e++,i.element.animate({opacity:{begin:e*s,dur:t,from:0,to:1,easing:"ease"}}))})},animatePieChart(){let e=0;const t=150,s=80;this.chart&&this.chart.on("draw",i=>{"slice"===i.type&&(e++,i.element.animate({opacity:{begin:e*s,dur:t,from:0,to:1,easing:"ease"}}))})}}},ht=pt,mt=Object(L["a"])(ht,ct,ut,!1,null,null,null),ft=mt.exports,gt={name:"TableAndChartsCard",introduction:"A component that display graphs to go along an ajaxTable list",token:"\n  <table-and-charts-card\n  :title=\"'Visites par ' + $t('common.labels.' + activeTab)\"\n  :table-columns=\"[{field: activeTab, type:'date'}, {field:'value', label:'#'}]\"\n  :data-source=\"performanceStats.user_visit[activeTab].list\"\n  :needs-refresh.sync=\"tableNeedsRefresh\"\n  :table-options=\"{headerStyle: 'primary', actions:{noActions: true, filter: false, refresh: false} }\"\n  :chart-options=\"{headerStyle: 'primary' }\"\n  :chart-col-key=\"activeTab\"\n\n  ></table-and-charts-card>",description:"",components:{EnyoChartCard:ft,AwesomeTable:Me["a"]},props:{tableColumns:{type:Array,required:!0},title:String,initialState:{type:String,default:"table"},identity:{type:[String,Number],default:()=>Date.now()},chartOptions:{type:Object,default(){return{headerStyle:"primary"}}},tableOptions:{type:Object,default(){return{headerStyle:"primary"}}},tableActions:{type:Object,default(){return{noActions:!0,filter:!1}}},chartRowKey:{type:String,default:()=>"value"},chartColKey:{type:String,default:()=>"date"},dataSource:{type:Array,required:!0},className:String,needsRefresh:Boolean},data(){return{currentState:this.initialState,internalRefreshRequested:!1,fullscreen:!1,pieResponsiveOptions:[["screen and (min-width: 640px)",{chartPadding:30,labelOffset:100,labelDirection:"explode"}],["screen and (min-width: 1024px)",{labelOffset:80,chartPadding:20}]]}},methods:{selectProp(e,t){return e.map(e=>f.a.get(e,t))},setTab(e){this.currentState=e},toggleFullscreen(){this.fullscreen=!this.fullscreen,this.internalRefreshRequested=!0,setTimeout(()=>{this.internalRefreshRequested=!1},200)}}},bt=gt,yt=(s("e42f"),Object(L["a"])(bt,rt,dt,!1,null,null,null)),vt=yt.exports,Ct=s("5bd6");const wt=(e,t={})=>{t&&(e.prototype.awComponentsConfig={displayLabelsCache:{}},t.config&&(e.prototype.awComponentsConfig=f.a.merge(e.prototype.awComponentsConfig,t.config)),t["AwesomeCrud"]&&t["AwesomeCrud"].props&&(Ie["a"].props=f.a.merge(Ie["a"].props,t["AwesomeCrud"].props)),t["AwesomeForm"]&&t["AwesomeForm"].props&&(Te["default"].props=f.a.merge(Te["default"].props,t["AwesomeForm"].props)),t["AwesomeList"]&&t["AwesomeList"].props&&(De["a"].props=f.a.merge(De["a"].props,t["AwesomeList"].props)),t["AwesomeTable"]&&t["AwesomeTable"].props&&(Me["a"].props=f.a.merge(Me["a"].props,t["AwesomeTable"].props)),t["FieldVSelect"]&&t["FieldVSelect"].props&&(ye["a"].props=f.a.merge(ye["a"].props,t["FieldVSelect"].props))),e.use(u["a"],{fields:f.a.values(u["a"].fieldsLoader),options:t}),e.component("enyo-card",tt),e.component("enyo-stats-card",lt),e.component("enyo-stats",Ct["a"]),e.component("enyo-table-and-charts-card",vt),e.component("datetime",d["Datetime"]),e.component("upload-button",ze),e.component("enyo-select",qe),e.component("live-edit",We["a"]),e.component("fieldDateTime",be),e.component("fieldEnyoSelect",U),e.component("fieldVSelect",ye["a"]),e.component("fieldFileInput",te),e.component("fieldFilePicker",te),e.component("fieldJsonTextarea",le),e.component("field-json-textarea",le),e.component("fieldImagePicker",$e),e.component("field-array",Pe),e.component("ajax-table",Me["a"]),e.component("enyo-ajax-table",Me["a"]),e.component("AwesomeTable",Me["a"]),e.component("AwesomeList",De["a"]),e.component("AwesomeLayout",Re["a"]),e.component("AwesomeForm",Te["default"]),e.component("crud-component",Ie["a"]),e.component("awesome-crud",Ie["a"]),e.component("awesome-kanban",Le["a"]),e.prototype.$awEventBus||(e.prototype.$awEventBus=new e),e.prototype.$http||(e.prototype.$http=r.a.create({})),e.prototype.$notify||(e.prototype.$notify=y.methods.$awNotify),e.prototype._notify=y.methods.$notify,e.prototype.$confirm||(e.prototype.$confirm=y.methods.$confirm),e.prototype._confirm=y.methods.$confirm,e.mixin(y)};var _t=wt;a.a.use(C.a),a.a.use(O.a),a.a.component("Draggable",x.a),a.a.component("datetime",c.a),a.a.component("vue-form-generator",u["a"],[]),a.a.mixin(y),a.a.use(u["a"],{fields:f.a.values(u["a"].fieldsLoader)}),a.a.use(_t,{config:{modelsStorePath:"model.models"},global:{props:{apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data",totalCountPath:"data.totalCount"})}}},FieldVSelect:{props:{apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data",totalCountPath:"data.totalCount"})},preloadQueryParam:{default:"_limit=10"}}},AwesomeCrud:{props:{primaryKey:{type:String,default:"id"}}}}),a.a.config.productionTip=!1,a.a.use(F.a);const Ot=new F.a({locale:"fr",messages:{fr:k,en:S}}),$t=new O.a({mode:"history",parseQuery(e){return o.a.parse(e)},stringifyQuery(e){var t=o.a.stringify(e);return t?"?"+t:""},routes:[{path:"/",component:()=>s.e("chunk-358346e4").then(s.bind(null,"47df"))},{path:"/awesomelist",component:()=>s.e("chunk-63c68468").then(s.bind(null,"eac1"))},{path:"/awesometable",component:()=>s.e("chunk-528738e0").then(s.bind(null,"c5bc"))},{path:"/awesomecrud-advanced",component:()=>s.e("chunk-6af1dab0").then(s.bind(null,"12a8"))},{path:"/awesomecrud",component:()=>s.e("chunk-50e43dff").then(s.bind(null,"4817"))},{path:"/awesomecrud/:id",component:()=>s.e("chunk-50e43dff").then(s.bind(null,"4817"))},{path:"/awesomecrud/:id/edit",component:()=>s.e("chunk-50e43dff").then(s.bind(null,"4817"))},{path:"/awesomekanban",component:()=>s.e("chunk-1ac876bb").then(s.bind(null,"edd0"))},{path:"/awesomelayout",component:()=>s.e("chunk-e16ff65a").then(s.bind(null,"ca5e"))}]});a.a.prototype.$http=r.a.create({headers:{Accept:"application/json","Content-Type":"application/json"}}),window.vm=new a.a({i18n:Ot,router:$t,render:e=>e(M)}).$mount("#app");t["default"]=window.vm},"577a":function(e,t,s){"use strict";var i=s("3a6c"),a=s.n(i);a.a},"59cd":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"awesome-vue-select"},[!e.isAjax||e.isDataReady?s("v-select",e._b({attrs:{multiple:e.multiple||e.fieldOptions.multiple||e.schema.multiple,taggable:e.fieldOptions.taggable,label:e.fieldOptions.label||"label",filterable:!e._useApiFilter,options:e.computedOptions,disabled:e.disabled||e.schema.disabled||e.schema.readonly,required:e.required,value:e.model[e.schema.model],reduce:e.reduce,getOptionLabel:e.formatLabel},on:{open:e.preloadFn,search:e.onSearch,input:e.updateSelected}},"v-select",e.fieldOptions,!1)):e._e(),!e.schema.relation&&!e.schema.relationRoute||e.fieldOptions.disableRelationActions?e._e():s("div",{staticClass:"aw-field-select-relation-actions"},[e.model&&e.model[e.schema.model]?[e.schema.relationRoute?e._e():s("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]}},[s("i",{staticClass:"fa fa-eye text-info"})]),e.schema.relationRoute?e._e():s("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]+"/edit"}},[s("i",{staticClass:"fa fa-edit text-info"})])]:e._e(),s("Popper",{attrs:{trigger:"clickToOpen",transition:"fade","append-to-body":!0,options:{placement:"auto",modifiers:{offset:{offset:"0,10px"}}}},on:{show:function(t){e.displayEditModal=!0},hide:function(t){e.displayEditModal=!1}}},[s("button",{staticClass:"external-link",attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayEditModal=!0}},slot:"reference"},[e._v("   "),s("i",{staticClass:"fa fa-plus text-info"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.displayEditModal,expression:"displayEditModal"}],ref:"vselectPopup",staticClass:"vselect-popup-width"},[e.displayEditModal?s("AwesomeForm",{attrs:{identity:e.schema.relation,mode:"create",item:{},displayMode:"page",standalone:!1,useSimpleCreateForm:!0},on:{closeRequested:function(t){e.displayEditModal=!1,e.loadRemoteEntities()},cancel:function(t){e.displayEditModal=!1}}}):e._e()],1)]),e.schema.relationRoute&&e.isFunction(e.schema.relationRoute)?s("div",{staticClass:"external-link",on:{click:function(t){return e.addNewUrl("new")}}},[e._v("   "),s("i",{staticClass:"fa fa-plus text-info"})]):e._e(),e.schema.relationRoute&&!e.isFunction(e.schema.relationRoute)?s("router-link",{staticClass:"external-link",attrs:{to:e.addNewUrl+"/new"}},[e._v("   "),s("i",{staticClass:"fa fa-plus text-info"})]):e._e()],2)],1)},a=[],n=s("ad09"),o=s.n(n),l=s("60bb"),r=s.n(l),d=s("97d1"),c=s.n(d),u=s("1c05"),p=s("081e"),h=(s("11fc"),{name:"field-vSelect",components:{vSelect:o.a,Popper:c.a,AwesomeForm:()=>Promise.resolve().then(s.bind(null,"2781"))},mixins:[p["a"],u["a"].abstractField],props:{apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:()=>({dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",sortField:"sort",searchField:"search"})},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data.body",totalCountPath:"data.totalCount"})},apiQueryParams:{type:Object,default:()=>({}),note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:()=>({})},preloadQueryParam:{type:String,default:"perPage=10000"},multiple:{type:Boolean,default:!1},addNewUrl:{type:[String,Function],default:""}},async mounted(){this.schema.fieldOptions&&this.schema.fieldOptions.preload?this.preloadFn():this.onSearch(this.model[this.schema&&this.schema.model]||"",()=>null)},data(){return{isDataReady:!1,displayEditModal:!1}},computed:{fieldOptions(){return this.schema&&this.schema.fieldOptions||this.$props.fieldOptions||{}},internalOptions(){return this.apiOptions||this.fieldOptions.values||this.fieldOptions.options||this.schema&&this.schema.values},customLabel(){if("undefined"!==typeof this.fieldOptions&&"undefined"!==typeof this.fieldOptions.customLabel&&"function"===typeof this.fieldOptions.customLabel)return this.fieldOptions.customLabel},dataUrl(){let e=this.url||this.fieldOptions.url;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,{...this.$props.model,currentItem:this.$props.model,context:this})),e},_trackBy(){return this.$props.trackBy||this.fieldOptions.trackBy||this.fieldOptions.relationKey||this.schema.relationKey||this.schema.foreignKey},_labelField(){return this.fieldOptions.relationLabel||this.schema.relationLabel||this.fieldOptions.label||"label"},_values(){return this.model&&Array.isArray(this.model[this.schema.model])?this.model[this.schema.model].map(e=>e[this._trackBy]):this.model[this.schema.model]},_preloadQueryParam(){return this.fieldOptions.preloadQueryParam||this.preloadQueryParam},_usePreloadMode(){return this.fieldOptions&&this.fieldOptions.preload},_useApiFilter(){return this.dataUrl&&!this._usePreloadMode},popupCss(){if(this.$refs.vselectPopup){const e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":9999999,top:`calc(50vh - ${e.height/2}px) / 2)`,left:`calc(50vw - ${e.width/2}px) / 2)`,width:e.width+"px",background:"#fff"}}const e=300,t=300;return{position:"fixed","z-index":9999999,top:`calc(50vh - ${t/2}px)`,left:`calc(50vw - ${e/2}px)`,width:e+"px",height:t+"px",background:"#fff"}}},watch:{vModelValue(e,t){e!=t&&this.setIncomingValue(e,t)},value(e,t){e!=t&&this.setIncomingValue(e,t)}},created(){this.apiRequestDebounced=r.a.debounce(e=>this.loadRemoteEntities(e),200)},methods:{get:r.a.get,kebabCase:r.a.kebabCase,isFunction:r.a.isFunction,addTag(e,t){const s=this.fieldOptions.onNewTag;"function"===typeof s&&s(e,t,this.options,this.value)},async setIncomingValue(e,t,s){if(e!==t)if(this.dataUrl&&(!this.internalOptions||this.internalOptions.length<1)&&!s&&await this.apiRequestDebounced(e),Array.isArray(e))this.internalValue=this.internalOptions&&this.internalOptions.filter(t=>{const s="string"===typeof t?t:t[this._trackBy];return e.indexOf(s)>-1});else if(this.internalValue=this.internalOptions&&this.internalOptions.find(t=>{const s="string"===typeof t?t:t[this._trackBy];return s==e}),!this.internalValue&&this.dataUrl&&!s){const t=await this.apiRequestDebounced(e);t&&this.setIncomingValue(e,null,!0)}},updateSelected(e){if(this.internalValue=e,e&&"string"!==typeof e&&"number"!==typeof e)if(Array.isArray(e)){const t=e.map(e=>this._trackBy&&e[this._trackBy]?e[this._trackBy]:e);this.$emit("input",t),this.value=t}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},onSearch(e,t){this._useApiFilter&&(t(!0),this.search(t,e,this))},preloadFn(){this.dataUrl&&this.$http.get(`${this.dataUrl}${-1===this.dataUrl.indexOf("?")?"?":"&"}${this._preloadQueryParam||"perPage=100"}`,{params:{...this.fieldOptions.queryParams}}).then(e=>{this.apiOptions=this.getData(e)}).finally(()=>{this.isDataReady=!0})},search(e,t,s){this.$http.get(this.dataUrl,{params:{...this.fieldOptions.queryParams,search:t}}).then(e=>{this.apiOptions=this.getData(e)}).finally(()=>{e(!1),this.isDataReady=!0})},searchDebounced:r.a.debounce((e,t,s)=>{s.$http.get(s.dataUrl,{params:{...s.fieldOptions.queryParams,search:t}}).then(e=>{s.apiOptions=s.getData(e)}).finally(()=>{e(!1),s.isDataReady=!0})},150),templateParser(e,t){r.a.templateSettings.interpolate=/{{([\s\S]+?)}}/g;const s=r.a.template(e);return s(t)},formatLabel(e){if(r.a.isString(e)||r.a.isNumber(e))return e;let t;if(this._labelField.indexOf("{{")>-1)try{t=this.templateParser(this._labelField,{...e,currentItem:e})}catch(s){console.warn("[vSelect][templateParser]",s.message)}else t=this.get(e,this._labelField,"");return this.fieldOptions.taggable?t||e:this.awComponentsConfig.hideIdsInSelect?""+t:`${t} [${e[this._trackBy]}]`},reduce(e){return r.a.isString(e)||r.a.isNumber(e)?e:this.fieldOptions.taggable?e&&e[this._trackBy]?e[this._trackBy]:e:this.get(e,this._trackBy)},getData(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?r.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?r.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},getCss(){if(this.$refs.vselectPopup){const e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":"9999999",top:`calc(50vh - ${e.height/2}px) / 2)`,left:`calc(50vw - ${e.width/2}px) / 2)`,width:e.width+"px"}}return{}}}}),m=h,f=(s("f45f"),s("2877")),g=Object(f["a"])(m,i,a,!1,null,null,null);t["a"]=g.exports},"59ec":function(e,t,s){},"5a3e":function(e,t,s){"use strict";var i=s("26d5"),a=s("60bb");t["a"]={props:{translations:{type:Object,default:()=>({})}},computed:{_translations(){return Object(a["merge"])(this.translations,i)}},created(){this.$t||(this.$t=e=>{const t=Object(a["get"])(this._translations,e)||e;return t},this.$te=e=>!!Object(a["get"])(this._translations,e))}}},"5bd6":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},e._l(e.stats,(function(t,i){return s("div",{key:t.label,staticClass:"filter-box col-md-3 cl-xs-6"},[s("div",{staticClass:"card card-statistics",class:t.color||e.getColor(i)},[s("div",{staticClass:"box text-center"},[s("h3",{staticClass:"font-light text-white mt-1"},[e._v(" "+e._s(t.value)+" ")]),s("h6",{staticClass:"text-white"},[e._v(" "+e._s(e.$t(t.label))+" ")])])])])})),0)])},a=[],n=s("60bb"),o=s.n(n),l=s("11fc"),r=s("cae3"),d={name:"EnyoCrudStatsSection",mixins:[l["a"],r["a"]],components:{},props:{url:{type:String,default:""},entity:{type:String,default:""},statsNeedsRefresh:{type:Boolean,default:!1},store:{type:Array,default:()=>[]}},data(){return{colors:["card-black","card-purple","card-teal","card-blue","card-success","card-warning","card-info","card-primary","card-danger"],stats:[]}},watch:{statsNeedsRefresh:"getStats",url:"getStats",entity:"getStats"},created(){},mounted(){this.getStats()},beforeDestroy(){},methods:{getStats:o.a.debounce((function(){this.$http.get(this.url,{}).then(e=>{if(console.warn("data",e.data),e&&e.data){const t=this.apiResponseConfig&&this.apiResponseConfig.dataPath?o.a.get(e,this.apiResponseConfig.dataPath):e.data;this.stats=t,Array.isArray(t)||(this.stats=Object.entries(t).map(([e,t])=>({label:e,value:t.value||t,color:t.color,index:t.index})))}}).catch(e=>{console.error(e)}),this.refreshCompleted()}),100,void 0),refreshCompleted(){this.$emit("update:statsNeedsRefresh",!1)},getColor(e){const t=this.colors.length;return this.stats[e]&&this.stats[e].class?this.stats[e].class:this.colors[e>=t?e%t:e]}}},c=d,u=(s("ce30"),s("2877")),p=Object(u["a"])(c,i,a,!1,null,"310f07aa",null);t["a"]=p.exports},"5bf5":function(e,t,s){},"5c0b":function(e,t,s){"use strict";var i=s("9c0c"),a=s.n(i);a.a},"5c25":function(e,t,s){"use strict";var i=s("d43f"),a=s.n(i);a.a},"5d5e":function(e,t,s){"use strict";var i=s("4328"),a=s.n(i),n=s("5a0c"),o=s.n(n),l=s("60bb"),r=s.n(l),d=s("11fc"),c=s("cae3");t["a"]={mixins:[d["a"],c["a"]],props:{rows:{type:Array,default:()=>[]},primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey||"id"},description:"Which field to use as primary key. By default it's `id` but it can be `_id`  or anything that you want"},url:{type:String,default:""},useRouterMode:{type:Boolean,default:!1,description:"Determine whether the component should interact with the vue-router."},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},identity:{type:[String,Number],required:!1,note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},title:{type:[String,Boolean],default:""},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3,note:"Limit serves in case of local pagination to limit the number of results from the api, in order to avoid memory overflows"},options:{type:Object,default:()=>({})},mode:{default:"local",type:String},savePaginationState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation page, perPage"},saveColumnsState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation (columns, sort etc"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"}},data(){return{totalCount:0,isRefreshing:!1,serverParams:{filters:{},range:{},sort:{},page:0,perPage:this.perPage},columnFilters:{},advancedFilters:[],parsedAdvancedFilters:{},data:[],showSkeleton:!1,routeQueryParams:{},segmentQueryField:"",segmentValue:""}},computed:{params(){return this.apiQueryParams},opts(){return r.a.merge(this.defaultOptions,this.options)},_translatedServerParams(){const e={};this.injectSegmentFilter(this.segmentQueryField,this.segmentValue);const t=r.a.merge({},this.serverParams,this.apiQueryParams,this.apiRequestPermanentQueryParams);return Object.keys(t).forEach(s=>{const i=this.apiRequestConfig[s+"Field"]||s;e[i]=t[s]}),"local"===this.mode&&(e.perPage=this.limit),e},isSaveStateEnabledCpt(){return this.saveColumnsState||this.savePaginationState},_actions(){const e=r.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(e).forEach(([t,s])=>{"boolean"!==typeof s&&(e[t]=this.templateParseConditionalField(s))}),e},_actionsBeforeCalculation(){return r.a.merge({},this.actions||this.mergedOptions&&this.mergedOptions.actions||this.optionsComputed&&this.optionsComputed.actions||this.options&&this.options.actions)},segmentFieldDefinitionComputed(){if(!this.segmentField)return"";if(this.columns){const e=this.columns.find(e=>e.field===this.segmentField);if(e)return e}return""}},watch:{needsRefresh:"refreshLocalData",apiQueryParams(e,t){e!==t&&(this.serverParams=r.a.merge({},this.serverParams,this.apiQueryParams),this.getItems({useSkeleton:!0,source:"[apiListMixin] apiQueryParams"}))},entity:"entityChanged",rows:"refreshLocalData",$route(e){this.connectRouteToPagination(e)}},created(){if(!this.$http)try{const e=s("cebe");this.$http=e}catch(e){}},beforeMount(){const e=window.navigator?navigator.language||navigator.userLanguage:"en";o()().locale(e)},mounted(){this.$awEventBus&&this.$awEventBus.$on("aw-table-needs-refresh",this.refreshLocalData),this.restoreComponentState(),this.connectRouteToPagination(this.$route),this.refreshLocalData()},beforeDestroy(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh",this.refreshLocalData)},methods:{startCase:r.a.startCase,async refreshLocalData(e){this._url?await this.getItems({useSkeleton:!0,source:"[apiListMixin] refreshLocalData"}):(this.data=this.rows,this.totalCount=this.rows?this.rows.length:0,this.$forceUpdate()),this.localRefreshCompleted()},entityChanged(){this.data=this._url?[]:this.rows,this.serverParams={},this.getItems({useSkeleton:!0,source:"[apiListMixin] entityChanged"})},localRefreshCompleted(){this.$emit("update:needsRefresh",!1),this.$emit("afterRefresh",{data:this.data})},getItems(e={useSkeleton:!1}){if(this.refresh)this.refresh({filters:this.serverParams&&this.serverParams.filters,translatedParams:this._translatedServerParams});else if(this._url)return e.useSkeleton&&(this.showSkeleton=e.useSkeleton),this.isRefreshing=!0,this.$awEmit("before-api-refresh",{component:"aw-table",url:this._url}),this.$http.get(`${this._url}${-1===this._url.indexOf("?")?"?":"&"}${a.a.stringify(this._translatedServerParams,{})}`,{}).then(e=>{this.data=this.apiResponseConfig&&this.apiResponseConfig.dataPath?r.a.get(e,this.apiResponseConfig.dataPath):e.data,this.totalCount=this.apiResponseConfig&&this.apiResponseConfig.totalCountPath?r.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount,this.$emit("crud-list-updated",this.data),this.$awEmit("table-refreshed",{component:"aw-table",url:this.url,data:this.data}),this.$emit("dataChanged",this.data),this.$awEmit("data-changed",{component:"aw-table",url:this.url,data:this.data})}).catch(e=>{console.warn(e),this.apiErrorCallback(e)}).finally(()=>{this.showSkeleton=!1,this.isRefreshing=!1})},onClick(e){this.opts&&this.opts.actions&&this.opts.actions.view&&this.$emit("view",e),this.$emit("itemClicked",e)},updateParams(e={page:void 0,search:void 0,perPage:void 0,columnFilters:void 0,advancedFilters:void 0,parsedAdvancedFilters:void 0,filters:void 0,columns:void 0,sort:void 0,permanent:!1}){const t=e.columnFilters&&Object.keys(e.columnFilters).length?Object.assign({},e.columnFilters):{};Object.keys(t).length>0&&(this.columnFilters={},Object.keys(t).forEach(e=>{void 0!=t[e]&&""!=t[e]&&(this.columnFilters[""+e]={$default:t[e]})}),delete e.columnFilters),e.columns&&(this.columnsState=e.columns),e.sort&&(this.serverParams.sort=e.columns),e.advancedFilters&&(this.advancedFilters=e.advancedFilters,delete e.advancedFilters),e.parsedAdvancedFilters&&(this.parsedAdvancedFilters=e.parsedAdvancedFilters,delete e.parsedAdvancedFilters),e.permanent?Object.keys(this.parsedAdvancedFilters).forEach(e=>{this.serverParams.filters[e]&&"$relation"!==e&&delete this.serverParams.filters[e],Object.keys(this.parsedAdvancedFilters[e]).forEach(t=>{"$relation"===e?Object.keys(this.parsedAdvancedFilters[e][t]).forEach(s=>{this.parsedAdvancedFilters[e][t][s]||(delete this.parsedAdvancedFilters[e][t],this.serverParams.filters[e]&&this.serverParams.filters[e][t]&&delete this.serverParams.filters[e][t])}):this.parsedAdvancedFilters[e][t]||(delete this.serverParams.filters[e],delete this.parsedAdvancedFilters[e])})}):delete this.serverParams.filters,this.serverParams=r.a.merge({},this.serverParams,e,{advancedFilters:void 0,filters:{...this.parsedAdvancedFilters,...this.columnFilters}},this.apiQueryParams)},sortFn(e,t,s,i,a){return e<t?-1:e>t?1:0},onPageChange(e){this.pushChangesToRouter({query:{...this.$route.query,page:e.currentPage}}),"remote"===this.mode&&(this.updateParams({page:e.currentPage}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onPageChange"}))},onPerPageChange(e){this.pushChangesToRouter({query:{...this.$route.query,perPage:e.currentPerPage}}),"remote"===this.mode&&(this.updateParams({perPage:e.currentPerPage}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onPerPageChange"}))},onSearch(e){if("remote"!==this.mode)return;let t=e.searchTerm;this.updateParams({search:t,page:1}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onSearch"})},onSelectionChanged(e){e&&(this.selectedRows=e.selectedRows)},pushChangesToRouter(e){this.saveComponentState()},connectRouteToPagination(e){if(this.useRouterMode){if(Object.keys(e.query).length)return this.updateParams({page:e.query.page,search:e.query.search||"",perPage:e.query.perPage||"",filters:e.query.filters||""}),void(this.routeQueryParams={page:e.query.page||"",search:e.query.search||"",perPage:e.query.perPage||"",filters:e.query.filters||""});if(Object.keys(this.routeQueryParams).length)return this.updateParams({...this.routeQueryParams,columns:void 0}),void this.pushChangesToRouter()}},exportCurrentArrayToExcel(){let e="";const t=this.data[0];Object.keys(t).forEach(t=>{e+=t+","}),e+="\r\n",this.data.forEach(t=>{Object.values(t).forEach(t=>{e+=t+","}),e+="\r\n"}),e="data:application/csv,"+encodeURIComponent(e);const s=document.createElement("A");s.setAttribute("href",e),s.setAttribute("download",(this.entity||this.$options.name)+".csv"),document.body.appendChild(s),s.click()},saveComponentState(){if(this.isSaveStateEnabledCpt&&this.uuid&&window.localStorage)try{localStorage.setItem(`${this.uuid}-${this.$options.name}-state`,JSON.stringify({routeQueryParams:this.savePaginationState?this.routeQueryParams:void 0,columnsState:this.saveColumnsState?this.columnsState:void 0,columnFilters:this.saveColumnsState?this.columnFilters:void 0,advancedFilters:this.saveColumnsState?this.advancedFilters:void 0}))}catch(e){console.warn(e.message)}},async restoreComponentState(){if(this.isSaveStateEnabledCpt&&this.uuid&&window.localStorage)try{let e=await localStorage.getItem(`${this.uuid}-${this.$options.name}-state`);e&&(e=JSON.parse(e),this.savePaginationState&&(this.routeQueryParams=e.routeQueryParams),e.columnsState&&this.saveColumnsState&&(this.columnsState=e.columnsState))}catch(e){console.warn(e.message)}},clearComponentState(){try{window.localStorage&&localStorage.removeItem(`${this.uuid}-${this.$options.name}-state`)}catch(e){console.warn(e)}},exportCallBack(){this.exportUrl?this.$http.get(this.exportUrl,{}).then(e=>{if(e.data.url){const t=document.createElement("a");t.download=(this.entity||"")+"_export",t.href=e.data.url,t.click(),t.remove()}}).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export url",type:"warning"})},injectSegmentFilter(e,t){if("ALL"===t){delete this.serverParams[e];const t=this.apiRequestConfig.filtersField;this.serverParams[t]&&this.serverParams[t][e]&&delete this.serverParams[t][e],this.segmentValue=""}else this.serverParams.filters||(this.serverParams.filters={}),this.apiRequestConfig.filtersField?(this.serverParams[this.apiRequestConfig.filtersField][e]||(this.serverParams[this.apiRequestConfig.filtersField][e]={}),this.apiRequestConfig.filtersOperator?this.serverParams[this.apiRequestConfig.filtersField][e][this.apiRequestConfig.filtersOperator]=this.segmentValue:this.serverParams[this.apiRequestConfig.filtersField][e]=this.segmentValue):this.serverParams[e]=this.segmentValue},onSegmentChange({segmentField:e,segmentValue:t}){this.segmentValue=t,this.segmentQueryField=e,this.injectSegmentFilter(e,t),this.getItems({useSkeleton:!0,source:"[apiListMixin] segmentChanged"})}}}},"5e21":function(e,t,s){},6051:function(e,t,s){},"60bb":function(e,t){e.exports=lodash},"630d":function(e,t,s){},6389:function(e,t){e.exports=vue-router},"6ac9":function(e,t,s){"use strict";var i=s("ca73"),a=s.n(i);a.a},"6c53":function(e,t,s){"use strict";var i=s("60bb"),a=s.n(i);t["a"]={props:{modelsStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.modelsStorePath||"data.models"},note:"Location of the array in the vuex state that contains all the models eg if you provide data.models => we will look ink this.$store.state.data.models"}},methods:{getModelFromStore(e,t=null){if(e&&(t=t||this.modelsStorePath,this.$store&&this.$store.state))if(t){const s=a.a.get(this.$store,t)||a.a.get(this.$store.state,t);if(s&&Array.isArray(s))return s.find(t=>t.identity===e||t.modelName===e)}else console.warn("[relationMixin][modelsStorePath] path not defined",t)},getRelationUrl(e){if(e.relationUrl||e.relation){if(e.relationUrl)return e.relationUrl;{let t=this.getModelFromStore(e.relation);return t||console.warn("[relationMixin][raceCondition] model not found for",e.relation,"in",this.modelsStorePath),t?t.url||t.apiUrl:""}}},getRelationKey(e){if(e.relationKey||e.relation){if(e.relationKey)return e.relationKey;if(e.foreignKey)return e.foreignKey;{const t=this.getModelFromStore(e.relation);return t&&t.primaryKeyField||this.primaryKey}}},getRelationLabel(e){if(e.relationLabel||e.relation){if(e.relationLabel)return e.relationLabel;{const t=this.getModelFromStore(e.relation);return t&&t.displayField||"label"}}}}}},"6f66":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aw-table aw-listing"},[s("div",{staticClass:"float-left col-6 pl-0"},[e._t("table-header-left"),e.segmentFieldDefinitionComputed?s("div",{staticClass:"card aw-segment-table-wrapper"},[s("awesome-segments",{attrs:{apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,field:e.segmentFieldDefinitionComputed},on:{change:e.onSegmentChange}})],1):e._e()],2),s("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("table-header-right")],2),s("div",{staticClass:"card aw-table-card aw-table"},[s("div",{staticClass:"card-header",class:"aw-table-header "+(e.optionsComputed.headerStyle?"colored-header bg-"+e.optionsComputed.headerStyle:"")},[e.isRefreshing?s("div",{staticStyle:{"text-align":"center"}},[e._m(0)]):e._e(),s("h3",{staticClass:"card-title aw-table-header text-left"},[e._t("table-title",(function(){return[e._v(" "+e._s(e._tableTitle)+" ")]})),e._actions&&e._actions.refresh?s("div",{class:"automatic-refresh-button "+(e.autoRefresh?" active":"")},[e._actions&&e._actions.refresh?s("button",{staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.getItems({useSkeleton:!0})}}},[s("i",{class:"fa fa-refresh"+(e.isRefreshing?" fa-spin":"")})]):e._e(),s("span",{staticClass:"refresh-text"},[e._v(e._s(e.$t("AwesomeTable.automatique-refresh")))]),s("label",{staticClass:"switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshInterface,expression:"autoRefreshInterface"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshInterface)?e._i(e.autoRefreshInterface,null)>-1:e.autoRefreshInterface},on:{change:function(t){var s=e.autoRefreshInterface,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);i.checked?o<0&&(e.autoRefreshInterface=s.concat([n])):o>-1&&(e.autoRefreshInterface=s.slice(0,o).concat(s.slice(o+1)))}else e.autoRefreshInterface=a}}}),s("span",{staticClass:"slider round"})])]):e._e(),s("div",{staticClass:"aw-table-top-actions float-right m-0 p-0"},[e._t("table-top-actions"),e.canHideColumns?s("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[s("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[e._v(" "+e._s(e.$t("AwesomeTable.columns"))+" ")]),s("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},e._l(e.formattedColumns,(function(t,i){return s("button",{key:i,staticClass:"dropdown-item",class:{"text-light bg-primary":e.columnsState[t.field],"d-none":"__ACTIONS"===t.field},attrs:{type:"button",href:"#"},on:{click:function(s){return e.toggleColumn(t.field)}}},[e._v(" "+e._s(t.label)+" ")])})),0)]):e._e(),e._actions.filter&&e._actions.advancedFiltering?s("button",{staticClass:"btn btn-sm btn-simple mt-0 dropdown-toggle",class:{"btn-primary":e.advancedFiltersCount||e.displayAwFilter,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false",id:"advancedFilterButton"},on:{click:e.toggleAdvancedFilters},slot:"reference"},[s("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.filters"))+" "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+" ")]):e._e(),e._actions&&(e._actions.export||e._actions.exportLocal||e._actions.import||e._actions.columnsFilters||e._actions.dropdownActions)?s("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[s("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button",id:"advancedFilterButton"},slot:"reference"},[s("i",{staticClass:"fa fa-cog"}),e._v(" "+e._s(e.$t("AwesomeTable.configuration"))+" ")]),s("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("table-top-more-actions"),e._actions.columnsFilters?s("button",{staticClass:"btn btn-sm btn-simple btn-main-style",class:{"btn-primary":e.columnsFilterState,"btn-danger":!e.columnsFilterState},attrs:{type:"button"},on:{click:function(t){return e.toggleFilter()}}},[s("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.columnsFilterState?e.$t("AwesomeTable.buttons.columnsFilters.deactivate"):e.$t("AwesomeTable.buttons.columnsFilters.activate"))+" ")]):e._e(),e._actions&&e._actions.export?s("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCallBack}},[s("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.excel"))+" ")]):e._e(),e._actions&&e._actions.exportLocal?s("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCurrentArrayToExcel}},[s("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.excel-currentpage"))+" ")]):e._e(),e.isSaveStateEnabledCpt?s("button",{staticClass:"btn btn-sm btn-simple text-info btn-main-style btn-block",attrs:{type:"button"},on:{click:e.clearComponentState}},[s("i",{staticClass:"fa fa-trash"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.clear-state"))+" ")]):e._e()],2)]):e._e()],2)],2),s("p",{staticClass:"card-category"},[e._t("table-subtitle")],2),e.collapsible?s("button",{staticClass:"btn btn-sm btn-i",staticStyle:{position:"absolute",top:"0",right:"0",padding:"0"},attrs:{"data-toggle":"collapse","data-target":"#awTable-"+this._uid||!1}},[s("i",{staticClass:"fa fa-minus"})]):e._e()]),s("div",{staticClass:"card-body aw-table-card-body collapse show",class:e.collapsible?"collapse show":"",attrs:{id:"awTable-"+this._uid||!1}},[e.displayAwFilter?s("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._actions.filter&&e._actions.advancedFiltering?s("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),s("div",{staticClass:"table-responsive"},[s("vue-good-table",{ref:"table-"+e.entity,attrs:{mode:e.mode,"total-rows":e.totalCount,"style-class":"vgt-table table striped",columns:e.displayedColumns,"fixed-header":e.optionsComputed&&e.optionsComputed.fixedHeader,"max-height":e.optionsComputed.maxHeight,rows:e.data||[],"filter-options":{enabled:e._actions.filter},"sort-options":{initialSortBy:e.initialSortBy},"search-options":{enabled:e._actions.search,placeholder:this.$t("AwesomeTable.searchInput")},"pagination-options":{enabled:e._actions&&e._actions.pagination,nextLabel:this.$t("AwesomeTable.next"),prevLabel:this.$t("AwesomeTable.prev"),rowsPerPageLabel:this.$t("AwesomeTable.rows_per_page"),ofLabel:this.$t("AwesomeTable.of"),pageLabel:this.$t("AwesomeTable.page"),allLabel:this.$t("AwesomeTable.all"),perPage:e.perPageComputed,setCurrentPage:parseInt(e.serverParams.page)||void 0},"select-options":{enabled:!0,selectOnCheckboxOnly:!0,selectionInfoClass:"awesome-table-selection",selectionText:this.$t("AwesomeTable.bulk.row-select"),clearSelectionText:this.$t("AwesomeTable.bulk.clear"),disableSelectInfo:!1,selectAllByGroup:!0}},on:{"on-page-change":e.onPageChange,"on-sort-change":e.onSortChange,"on-column-filter":e.onColumnFilter,"on-per-page-change":e.onPerPageChange,"on-search":e.onSearch,"on-cell-click":e.clickOnLine,"on-selected-rows-change":e.onSelectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(t){return[e.showSkeleton?s("Skeleton",{attrs:{count:1,loading:!0}}):["__ACTIONS"!==t.column.field?s("awesome-display",e._b({staticClass:"pointer text-avoid-overflow",attrs:{apiResponseConfig:e.apiResponseConfig,apiRequestHeaders:e.apiRequestHeaders,value:e.getItemProperty(t.row,t.column.field)}},"awesome-display",t.column,!1)):"__ACTIONS"===t.column.field?s("span",{staticClass:"text-right aw-table-actions-field"},[e._t("table-row-actions",(function(){return[e.customInlineActions?[s("AwesomeActionList",{attrs:{actions:e.customInlineActions,item:t.row,parent:e.parent,location:"inline"},on:{customAction:function(t){return e.$emit("customAction",t)}}})]:e._e()]}),{item:t.row}),e.templateParseConditionalField(e._actionsBeforeCalculation.view,{currentItem:t.row})?s("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(s){return e.$emit("view",t.row)}}},[s("i",{staticClass:"fa fa-eye text-info"})]):e._e(),e.templateParseConditionalField(e._actionsBeforeCalculation.edit,{currentItem:t.row})?s("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(s){return e.$emit("edit",t.row)}}},[s("i",{staticClass:"fa fa-pencil fa fa-pencil text-primary"})]):e._e(),e.templateParseConditionalField(e._actionsBeforeCalculation.delete,{currentItem:t.row})?s("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon",attrs:{type:"button"},on:{click:function(s){return e.$emit("delete",t.row)}}},[s("i",{staticClass:"fa fa-trash text-danger"})]):e._e()],2):"list-of-value"===t.column.type||"lov"===t.column.type?s("span",{staticClass:"pointer",on:{click:function(s){return e.clickOnLine(t)}}},[e._v(e._s(e.getLovValue(t.formattedRow[t.column.field],t.column.listName)))]):"list-of-data"===t.column.type?s("span",{staticClass:"pointer",on:{click:function(s){return e.clickOnLine(t)}}},[e._v(e._s(e.getDataValue(t.formattedRow[t.column.field],t.column.listName)))]):e._e()]]}}])},[s("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[e.customBulkActions?[s("AwesomeActionList",{attrs:{actions:e.customBulkActions,items:e.selectedRows,columns:e.columns,parent:e.parent,location:"bulk"},on:{customAction:function(t){return e.$emit("customAction",t)}}})]:e._e(),e._actions.bulkDelete&&e._actions.delete?s("button",{staticClass:"btn btn-sm btn-primary ml-2 mr-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkDelete",e.selectedRows)}}},[s("i",{staticClass:"fa fa-trash"}),e._v(" "+e._s(e.$t("AwesomeTable.bulk.delete"))+" ")]):e._e(),e._actions.bulkEdit&&e._actions.edit?s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkEdit",e.selectedRows)}}},[s("i",{staticClass:"fa fa-pencil"}),e._v(" "+e._s(e.$t("AwesomeTable.bulk.edit"))+" ")]):e._e()],2),e.customTableTopActions.length||e._actions.dateFilter?s("div",{attrs:{slot:"table-actions"},slot:"table-actions"},[e._actions.dateFilter?s("date-range-picker",{staticClass:"form-group vgt-date-range",attrs:{placeholder:e.$t("AwesomeTable.daterange.start"),"date-range":{startDate:e.defaultStartDate,endDate:e.defaultEndDate},"locale-data":e.datePicker.locale,opens:"left"},on:{update:e.onDateFilter}}):e._e(),e.customTableTopActions?[s("AwesomeActionList",{staticClass:"ml-1",attrs:{actions:e.customTableTopActions,columns:e.columns,location:"tabletop"},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":e.permanentFiltering}}),e.optionsComputed.autoSearch?e._e():s("button",{staticClass:"btn btn-sm btn-primary btn-add-item ",attrs:{type:"button"},on:{click:e.doRefresh}},[s("i",{staticClass:"fa fa-search"})])]:e._e()],2):e._e(),s("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e._t("table-empty-state",(function(){return[s("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("AwesomeTable.empty"))+" "),s("br"),s("i",{staticClass:"fa fa-file-o fa-4x"}),s("br"),e._actions.create?s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.$emit("create")}}},[e._v(" "+e._s(e.$t("AwesomeTable.createFirstItem"))+" "),s("i",{staticClass:"fa fa-plus text-primary"})]):e._e()])]}))],2)])],1)],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"progress",staticStyle:{height:"5px","border-radius":"0px",position:"absolute",top:"0",left:"0",width:"100%"}},[s("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"5%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])}],n=s("60bb"),o=s.n(n),l=s("33a0"),r=s.n(l),d=(s("53b4"),s("ddbd")),c=s("5a0c"),u=s.n(c),p=s("97d1"),h=s.n(p),m=s("db65"),f=s("99b5"),g=s("5d5e"),b=s("5a3e"),y=s("cae3"),v=s("eab4"),C=s("383c"),w=s("0dce"),_=s("5598"),O=s("7aa9"),$=s("32a2");const F=s("5e0f");u.a.extend(F);var A={name:"AwesomeTable",token:'\n  <AwesomeTable  :title="title" :columns="tableColumns" :rows="dataSource" :needsRefresh="needsRefresh" :options="tableOptions">\n  <template slot="table-actions"></template>\n  <template slot="table-top-actions"></template>\n  <template slot="table-top-more-actions"></template>\n  <template slot="table-subtitle"></template>\n  <template slot="table-row-actions"></template>\n\n  </AwesomeTable>\n  ',components:{AwesomeDisplay:w["a"],DateRangePicker:r.a,VueGoodTable:d["VueGoodTable"],AwesomeFilter:_["a"],popper:h.a,Skeleton:m["Skeleton"],AwesomeActionList:O["a"],AwesomeSegments:$["a"]},mixins:[v["a"],b["a"],f["a"],g["a"],y["a"]],props:{columns:{type:Array,default:()=>[]},columnsDisplayed:{type:Number,default:10},parent:{type:Object,default:()=>{},note:"In case of nested, pass parent to retrieve it in custom bulk actions"},rows:{type:Array,default:()=>[]},url:{type:String,default:""},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},name:{type:String,default:""},namePlural:{type:String,default:""},translations:{type:Object,default:()=>({"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty","AwesomeTable.createFirstItem":"Click here to create your first item"})},autoRefresh:{type:Boolean,default:!1,description:"Should we auto refresh the page ?"},autoRefreshInterval:{type:Number,default:20,description:"Interval in seconds that should be used to refresh the page"},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3},options:{type:Object,default:()=>({})},defaultOptions:{type:Object,default:()=>({fixedHeader:!1,maxHeight:"",pagination:!0,filterInitiallyOn:!1,autoSearch:!0})},actions:{type:Object,default:()=>C["a"],note:"actions active in this instance"},customInlineActions:{type:Array,default:()=>[],note:"custom inline action in row"},customTableTopActions:{type:Array,default:()=>[],note:"custom table top actions"},customBulkActions:{type:Array,default:()=>[],note:"custom bulk action"},mode:{default:"local",type:String,required:!1,values:["local","remote"]},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."}},data(){return{totalCount:0,columnsFilterState:null,isRefreshing:!1,columnsState:{},defaultStartDate:u()().subtract(7,"days").format("YYYY-MM-DD"),defaultEndDate:u()().format("YYYY-MM-DD"),serverParams:{filters:{},range:{},sort:{},page:0,perPage:"local"===this.mode?this.limit:this.perPage},data:[],refreshHandle:null,numberOfRefreshCalls:0,datePicker:{locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:u.a.weekdaysMin(),monthNames:u.a.monthsShort(),firstDay:1}},selectedRows:[],displayLabelCache:{},clickTimeout:null,displayAwFilter:!1}},computed:{autoRefreshInterface:{get(){return this.autoRefresh},set(e){this.$emit("updateAutoRefresh",e)}},optionsComputed(){return o.a.merge(this.defaultOptions,this.options)},_tableTitle(){return!1===this.title?"":this.title||(this.$te&&this.$te("app.labels."+this.entity)?this.$t("app.labels."+this.entity):o.a.startCase(this.entity))},formattedColumns(){this.columns||console.error("AwesomeTable MISSING COLUMNS");const e=this.columns.map(e=>{const t={};if(o.a.isString(e))return t.field=e,t.label=o.a.startCase(e),t.filterOptions={enabled:this.canFilterByColumnsCpt},t.sortable=!0,t;e.label||(e.label=o.a.startCase(e.field)),e.type&&"datetime"===e.type&&(e.format="D MMM YYYY <br/> hh:mm",e.formatFn=function(e){return e||e}),e.type&&"date"===e.type&&(e.format="DD-MM-YYYY",e.formatFn=function(e){return e||e}),e.type&&"object"===e.type&&(e.sortFn=(e,t,s,i,a)=>{const n=JSON.stringify(e),o=JSON.stringify(t);return n<o?-1:n>o?1:0}),e.type&&"relation"===e.type&&(e.sortFn=(e,t,s,i,a)=>e<t?-1:e>t?1:0),e.type&&"checkbox"===e.type&&(e.sortable=!1);let s=e.filterOptions&&e.filterOptions.filterDropdownItems;return!e.type||"list-of-value"!==e.type&&"lov"!==e.type||(s=this.$store.state.listOfValues[e.listName],s&&(s=s.map(e=>({value:e.code,text:e.label||e.code||e})))),e.type&&"list-of-data"===e.type&&(s=this.$store.state.data[e.listName],s=s.map(e=>({value:e.code,text:e.label||e.code||e}))),e.enum&&(s=e.enum,s=s.map(e=>{if("string"===typeof e){if(e.includes("|")){const t=e.split("|");return{value:t[0],text:t[1]}}return{value:e,text:o.a.startCase(e)}}return"object"===typeof e?e:{value:e,text:o.a.startCase(e)}})),e.filterOptions={enabled:void 0!==e.filterable?e.filterable&&this.canFilterByColumnsCpt:this.canFilterByColumnsCpt,filterDropdownItems:s},e}),t=Object.keys(this.columnsState).length<1;return t&&e.forEach((e,t)=>{this.$set(this.columnsState,e.field,t<this.columnsDisplayed)}),e.find(e=>"__ACTIONS"===e.field)||this._actions.noActions||(e.push({field:"__ACTIONS",label:"Actions",filterOptions:{enabled:!1}}),this.columnsState.__ACTIONS=!0),e},canHideColumns(){return this.formattedColumns.length>this.columnsDisplayed},displayedColumns(){if(this.columnsState,this.canHideColumns){const e=this.formattedColumns.filter(e=>this.columnsState[e.field]);if(!this.columnsState.__ACTIONS){const t=this.formattedColumns.find(e=>"__ACTIONS"===e.field);t&&e.push(t)}return e}return this.formattedColumns},initialSortBy(){if(this.serverParams.sort){const e=Object.entries(this.serverParams.sort);if(e.length){const[[t,s]]=e;return{field:t,type:s}}}else;},advancedFiltersCount(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated(){return _["a"].methods.parseFilter(this.advancedFilters,{dispatch:!1})},perPageComputed(){return"remote"===this.mode?parseInt(this.serverParams.perPage):this.perPage},canFilterByColumnsCpt(){return this._actions.columnsFilters&&this.options&&(null!==this.columnsFilterState?this.columnsFilterState:this.options.filterInitiallyOn)}},watch:{params(){},entity:"entityChanged",rows:"refreshLocalData",autoRefresh(e){e?this.activateAutoRefresh():clearInterval(this.refreshHandle)}},created(){this.$t||(this.$t=e=>this.translations[e]||e,this.$te=e=>!!this.translations[e])},beforeMount(){const e=window.navigator?navigator.language||navigator.userLanguage:"en";u()().locale(e)},mounted(){if(!this.refresh&&!this.store){if(this.apiQueryParams&&this.apiQueryParams.filters&&Object.keys(this.apiQueryParams.filters).length>0){const e=[];Object.keys(this.apiQueryParams.filters).filter(e=>this.apiQueryParams.filters[e]).forEach(t=>{e.push({[t]:this.apiQueryParams.filters[t]})}),this.advancedFilters=[],e.forEach(e=>{const t={},[s,i]=Object.entries(e)[0],[a,n]="object"===typeof i?Object.entries(i)[0]:["$eq",i],o=this.columns.find(e=>e.field===s);if(o){t.field=o;const e=_["a"].data().filters&&_["a"].data().filters.find(e=>e.value===a);t.value=n,e&&(t.filter=e,t.value=n),this.advancedFilters.push(t)}})}this.autoRefresh&&this.activateAutoRefresh()}},beforeDestroy(){clearInterval(this.refreshHandle)},methods:{startCase:o.a.startCase,activateAutoRefresh(){this.numberOfRefreshCalls=0,this.refreshHandle=setInterval(()=>{if(this.numberOfRefreshCalls>300)return this.$awNotify({title:"too much calls, aborting tracking",type:"warning"}),clearInterval(this.refreshHandle),void(this.refreshHandle=null);document.hasFocus()&&(this.numberOfRefreshCalls+=1,this.getItems({source:"awTable_refreshHandle"}))},1e3*this.autoRefreshInterval)},permanentFiltering(e,t){this.updateParams({parsedAdvancedFilters:o.a.cloneDeep(e),page:0,permanent:!0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("permanent-filter",{filters:e}),this.$awEmit("filter",{filters:this.serverParams.filters})},advancedFiltering(e,t){this.updateParams({advancedFilters:o.a.cloneDeep(t),parsedAdvancedFilters:o.a.cloneDeep(e),page:0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},doRefresh(){this.$awEmit("refresh",{filters:this.serverParams.filters}),"remote"==this.mode&&this.getItems({useSkeleton:!0})},toggleFilter(){this.columnsFilterState=!this.columnsFilterState,this.columnsFilterState||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0})),this.columns=this.columns.map(e=>(e.filterOptions&&(e.filterOptions.enabled=this.columnsFilterState),e))},toggleAdvancedFilters(){this.displayAwFilter=!this.displayAwFilter},clickOnLine(e,t){this.$nextTick(()=>{this.clickTimeout?(clearTimeout(this.clickTimeout),this.clickTimeout=null,this.$emit("onRowDoubleClicked",e,t)):this.clickTimeout=setTimeout(()=>{this.$emit("onRowClicked",e,t),this.clickTimeout=null},300)})},getLovValue(e,t){if(!e||!this.$store.state.listOfValues[t])return e;const s=this.$store.state.listOfValues[t].find(t=>t[this.primaryKey]===e||t.code===e);return s?s.label||s.code||s:e},getDataValue(e,t){if(!e||!this.$store.state.data[t])return e;const s=this.$store.state.data[t].find(t=>t[this.primaryKey]===e||t.code===e);return s?s.label||s.title||s.name||s.code||s:e},toggleColumn(e){this.$set(this.columnsState,e,!this.columnsState[e]),this.pushChangesToRouter()},onColumnFilter(e){"remote"===this.mode&&(this.updateParams({...e,page:0}),this.getItems({useSkeleton:!0}))},onSortChange(e){const t=e[0].field||e[0].columnIndex,s=this.columns.find(e=>e.field===t);if(!s)return;const i={};i[s.field]=e[0].type||e[0].sortType,this.useRouterMode,"remote"===this.mode&&(this.pushChangesToRouter({query:{sort:i}}),this.updateParams({sort:i}),this.getItems({useSkeleton:!0}))},onDateFilter(e){e&&(this.serverParams.range.startDate=e.startDate.toISOString().slice(0,10),this.serverParams.range.endDate=e.endDate.toISOString().slice(0,10),this.getItems({useSkeleton:!0}))},hasValue(e,t){return"undefined"!==e[t.toLowerCase()]},itemValue(e,t){return e[t.toLowerCase()]},getItemProperty:o.a.get}},x=A,k=(s("a897"),s("2877")),S=Object(k["a"])(x,i,a,!1,null,null,null);t["a"]=S.exports},"70ab":function(e,t,s){},"762a":function(e,t,s){"use strict";var i=s("35fa"),a=s.n(i);a.a},"7aa9":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"awesome-action-list"},[e.useDropdown?[e._l(e.unFoldableActions,(function(t,i){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[s("AwesomeAction",e._b({key:i,staticStyle:{display:"inline-block"},attrs:{classes:t.class||t.classes,index:i,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]})),s("div",{staticClass:"dropdown awesome-action-list-dropdown"},[s("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom"}}},[s("button",{staticClass:"btn btn-sm btn-outline-secondary ml-1 mr-1 dropdown-toggle",attrs:{slot:"reference",id:"dropdownMenuButton",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[s("i",{staticClass:"fa fa-bars"}),e._v(" "+e._s(e.$t("AwesomeTable.actions"))+" ")]),s("div",{staticClass:"card",staticStyle:{"max-height":"80vh",overflow:"auto","z-index":"1"}},[e._l(e.foldableActions,(function(t,i){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[s("AwesomeAction",e._b({key:i,attrs:{classes:t.class||t.classes,index:i,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))],2)])],1)]:e._e(),e.useDropdown?e._e():[e._l(e.actions,(function(t,i){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[s("AwesomeAction",e._b({key:i,attrs:{classes:t.class||t.classes,index:i,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))]],2)},a=[],n=s("97d1"),o=s.n(n),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aw-action"},["dropdown"===e.type&&e.children.length?s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn dropdown-toggle",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-toggle":"dropdown","arias-haspopup":"true","aria-expanded":"false"}},[e.icon?s("i",{class:e.icon}):e._e(),s("span",[e._v(e._s(e.title?e.$t(e.title):""))])]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":e.name+"-"+e.index}},e._l(e.children,(function(t,i){return s("a",{key:t.id||i,staticClass:"dropdown-item",on:{click:function(s){return e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+i,child:t})}}},[s("span",[e._v(e._s(t.title?e.$t(t.title):""))])])})),0)]):e._e(),"filter"===e.type?s("div",[s("AwesomeFilter",{key:e.index,attrs:{"permanent-filter":"",defaultOperator:e.defaultOperator,field:e.field,"field-label":e.label||e.title,fields:e.columns},on:{"update-filter":e.permanentFiltering}})],1):e._e(),"input"===e.type?s("div",[s("AwesomeFilter",{key:e.index,attrs:{"permanent-input":"",field:e.field,"field-label":e.label||e.title},on:{"update-filter":e.permanentFiltering}})],1):e._e(),e.type&&"button"!==e.type?e._e():s("div",[s("button",{key:e.index,staticClass:"btn",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-title":e.title,"data-tooltip":e.title},on:{click:function(t){return e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+e.index})}}},[e.icon?s("i",{class:e.icon}):e._e(),s("span",[e._v(e._s(e.label?e.$t(e.label):""))])])])])},r=[],d=s("5a3e"),c=s("5598"),u={name:"AwesomeAction",mixins:[d["a"]],components:{AwesomeFilter:c["a"]},props:{type:{type:String,default:"button",values:["button","dropdown","input","filter"],note:"The type of custom action"},name:{type:String,note:"The name of the custom action used in the identifier"},title:{type:String,note:"The text of the element. Usually used as a tooltip"},label:{type:String,note:"The label of the element"},classes:{type:String,note:"The CSS classes"},icon:{type:String,note:"The icon of the element"},children:{type:Array,default:()=>[],note:"The children of the element (eg: in case of a dropdown)"},action:{type:Function,note:"A function you want to trigger when an action on element is fire"},index:{type:Number,note:"The index of the element (use in id)"},items:{type:Array,note:"The selected items"},item:{type:Object,note:"The selected item"},location:{type:String,values:["top","tabletop","inline","topright"],note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)"},field:{type:String,note:"In case of type: filter || input, the field to search on"},defaultOperator:{type:String,note:"In case of type: filter || input, the defaultOperator to display"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"}},data:()=>({}),methods:{permanentFiltering(e,t){this.$emit("permanent-filtering",e,t)},permanentSearching(e){this.$emit("permanent-searching",e)}},mounted(){"filter"!==this.type&&"input"!==this.type||this.field||console.warn("[AwesomeAction]","You forget to set `field` for this type:",this.type)}},p=u,h=s("2877"),m=Object(h["a"])(p,l,r,!1,null,"8e493f8c",null),f=m.exports,g={name:"AwesomeActionList",components:{AwesomeAction:f,Popper:o.a},props:{actions:{type:Array,required:!0,note:"List of actions"},items:{type:Array,note:"List of items"},item:{type:Object,note:"Selected item"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"},location:{type:String,note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)"},useDropdown:{type:Boolean,note:"if the slect items should be in a dropdown"}},computed:{foldableActions(){return this.actions.filter(e=>!e.type||"button"===e.type&&!e.sticky)},unFoldableActions(){return this.actions.filter(e=>e.type&&"button"!==e.type||e.sticky)}}},b=g,y=(s("6ac9"),Object(h["a"])(b,i,a,!1,null,"257337bf",null));t["a"]=y.exports},"7c3b":function(e,t,s){},"7ed7":function(e,t,s){"use strict";var i=s("04e0"),a=s.n(i);a.a},"7f89":function(e,t,s){},"7fb5":function(e,t,s){},8204:function(e,t,s){"use strict";var i=s("1caf"),a=s.n(i);a.a},8449:function(e,t,s){"use strict";s.r(t),s.d(t,"createDefaultObject",(function(){return a})),s.d(t,"getMultipleFields",(function(){return n})),s.d(t,"mergeMultiObjectFields",(function(){return o})),s.d(t,"slugifyFormID",(function(){return l})),s.d(t,"slugify",(function(){return r}));var i=s("60bb");const a=(e,t={})=>(Object(i["each"])(e.fields,s=>{void 0===Object(i["get"])(t,s.model)&&void 0!==s.default&&(Object(i["isFunction"])(s.default)?Object(i["set"])(t,s.model,s.default(s,e,t)):Object(i["isObject"])(s.default)||Object(i["isArray"])(s.default)?Object(i["set"])(t,s.model,Object(i["cloneDeep"])(s.default)):Object(i["set"])(t,s.model,s.default))}),t),n=e=>{let t=[];return Object(i["each"])(e.fields,e=>{!0!==e.multi&&!0!==e.multiple||t.push(e)}),t},o=(e,t)=>{let s={},a=n(e);return Object(i["each"])(a,e=>{let a,n=!0,o=e.model;Object(i["each"])(t,e=>{let t=Object(i["get"])(e,o);n?(a=t,n=!1):a!==t&&(a=void 0)}),Object(i["set"])(s,o,a)}),s},l=(e,t="")=>Object(i["isNil"])(e.id)?t+(e.inputName||e.label||e.model||"").toString().trim().toLowerCase().replace(/ |_/g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-]+)/g,""):t+e.id,r=(e="")=>e.toString().trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")},"84af":function(e,t,s){"use strict";var i=s("13ff"),a=s.n(i);a.a},"854c":function(e,t,s){"use strict";var i=s("70ab"),a=s.n(i);a.a},"856f":function(e,t,s){"use strict";var i=s("517e"),a=s.n(i);a.a},"85b3":function(e,t){e.exports=vue-i18n},"8bbf":function(e,t){e.exports=vue},"8de2":function(e,t,s){},"8f96":function(e,t,s){"use strict";var i=s("bc31"),a=s.n(i);a.a},"8fd7":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"awesome-layout"},[s("grid-layout",{attrs:{layout:e.internalLayout,"col-num":12,"row-height":80,"is-draggable":e.isDraggable,"is-resizable":e.isResizable,"vertical-compact":e.verticalCompact,margin:[10,10],"use-css-transforms":!0},on:{"update:layout":function(t){e.internalLayout=t},"layout-updated":e.onLayoutUpdated}},e._l(e.internalLayout,(function(t,i){return s("grid-item",{key:t.i,staticClass:"item",attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i||i,maxW:12,minH:3,dragIgnoreFrom:"a, button, .form-element, .draggable-item"}},[s("div",{class:e.editMode?"awesome-layout-list card card-primary p-0":"p-0"},[t.legend||e.editMode?s("div",{staticClass:"draggable-header bg-primary"},[s("div",{staticClass:"legend"},[e.editMode?s("i",{staticClass:"fa fa-pencil"}):e._e(),e.editMode?s("input",{directives:[{name:"model",rawName:"v-model",value:t.legend,expression:"item.legend"}],staticClass:"form-control ml-2 aw-layout-legend-input",attrs:{type:"text"},domProps:{value:t.legend},on:{input:function(s){s.target.composing||e.$set(t,"legend",s.target.value)}}}):s("p",[e._v(e._s(t.legend))])]),e.editMode?s("a",{on:{click:function(t){return e.removeItemFromGrid(i)}}},[s("i",{staticClass:"fa fa-trash"})]):e._e()]):e._e(),s("div",{staticClass:"item-draggable"},[s("Draggable",{staticClass:"draggable-list",attrs:{list:t.fields,group:"fields",disabled:!e.editMode,"ghost-class":"moving-card"},on:{change:e.fieldChanged}},[e.editMode?e._l(t.fields,(function(t,i){return s("div",{key:i},[s("div",{class:e.editMode?"draggable-item card":""},[s("div",{class:e.editMode?"card-body p-2":""},[e._t("field",(function(){return[e._v(e._s(t))]}),{field:t})],2)])])})):e._e(),e.editMode?e._e():[e._t("fields",(function(){return[e._v(" "+e._s(t.fields)+" ")]}),{fields:t.fields})]],2),t.layout?s("div",[s("AwesomeLayout",{attrs:{"edit-mode":e.editMode,layout:t.layout},on:{"update:layout":function(s){return e.$set(t,"layout",s)},"layout-updated":e.onLayoutUpdated,change:e.fieldChanged},scopedSlots:e._u([{key:"field",fn:function(t){var i=t.field;return s("div",{},[!e.editMode&&i?e._t("field",(function(){return[e._v(" "+e._s(i)+" ")]}),{fields:i}):e._e()],2)}},{key:"fields",fn:function(t){var i=t.fields;return s("div",{},[!e.editMode&&i?[e._t("fields",(function(){return[e._v(" "+e._s(i)+" ")]}),{fields:i})]:e._e()],2)}}],null,!0)})],1):e._e()],1)])])})),1),e.editMode?s("section",{staticClass:"awesome-layout-actions"},[s("button",{staticClass:"btn btn-primary btn-add-item ",attrs:{type:"button"},on:{click:function(t){return e.addItemToGrid()}}},[s("i",{staticClass:"fa fa-plus"})]),s("Draggable",{staticClass:"draggable-list",attrs:{group:"fields","ghost-class":"moving-card",list:e.fieldsList},on:{change:e.fieldChanged}},e._l(e.fieldsList,(function(t,i){return s("div",{key:i},[s("div",{staticClass:"draggable-item card"},[s("div",{staticClass:"card-body p-2"},[e._v(" "+e._s(t.model||t.label||t.title||t)+" ")])])])})),0)],1):e._e()],1)},a=[],n=s("5a3e"),o=s("ec26"),l={name:"AwesomeLayout",components:{},mixins:[n["a"]],props:{layout:{type:Array,required:!0},editMode:{type:Boolean,default:()=>!1},fieldsList:{type:Array,required:!1,default:()=>[],note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"}},watch:{layout:"layoutWatch"},data:()=>({internalLayout:[],verticalCompact:!0,height:2,newBlock:{x:0,y:0,w:6,h:6,maxW:12,minH:2,fields:[]}}),methods:{layoutWatch(e,t){e!=t&&(this.internalLayout=e)},onLayoutUpdated(e){this.$emit("layout-updated",e)},fieldChanged(e){this.$emit("layout-fields-updated",e)},addItemToGrid(){const e=Object.assign([],this.internalLayout);e.push({x:3*this.internalLayout.length%12,y:this.internalLayout.length+12,w:3,h:3,i:"aw-layout-item-"+Object(o["a"])(),fields:[]}),this.internalLayout=e,this.$emit("layout-updated",e)},removeItemFromGrid(e){const t=Object.assign([],this.internalLayout);t[e]&&t[e].fields&&t[e].fields.length?this.$awNotify({title:this.$t("AwesomeLayout.messages.emptyBlockBeforeDelete"),type:"warning"}):(t.splice(e,1),this.$emit("layout-updated",t))}},computed:{isDraggable(){return this.editMode},isResizable(){return this.editMode}},created(){this.$root.$options.components.draggable||console.error("`Draggable` is missing. Please download vuedraggable and register the component globally!"),this.$root.$options.components.GridLayout||console.error("`GridLayout` is missing. Please download vue-grid-layout and register the component globally!"),this.$root.$options.components.GridItem||console.error("`GridItem` is missing. Please download vue-grid-layout and register the component globally!")},mounted(){}},r=l,d=(s("d2aa"),s("2877")),c=Object(d["a"])(r,i,a,!1,null,"1d1454e0",null);t["a"]=c.exports},"900f":function(e,t,s){},9336:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isEditable?["text"===e.type?[s("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),"number"===e.type?[s("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"number",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),"checkbox"===e.type?[s("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"checkbox",placeholder:e.placeholder},domProps:{value:!0,checked:Array.isArray(e.modelvalue)?e._i(e.modelvalue,!0)>-1:e.modelvalue},on:{change:function(t){var s=e.modelvalue,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=!0,o=e._i(s,n);i.checked?o<0&&(e.modelvalue=s.concat([n])):o>-1&&(e.modelvalue=s.slice(0,o).concat(s.slice(o+1)))}else e.modelvalue=a}}})]:e._e(),"date"===e.type?[s("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"date",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),"select"===e.type?[s("select",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{placeholder:e.placeholder,multiple:e.selectOptions.multiple},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.modelvalue=t.target.multiple?s:s[0]}}},e._l(e._selectValues,(function(t,i){return s("option",{key:i,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0)]:e._e(),"textarea"===e.type?[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),s("button",{staticClass:"btn-edit",attrs:{title:"Save"},on:{click:function(t){return e.saveEdit()}}},[s("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA2ElEQVQokX3RMUpEQRAE0DcfkUWWRQzFQA/hBgZewUA8iRgabmSgVzARTDXZVIy8gJEYiYGRGGywfH4bbCvjX7VgmKanq7qoKSEUpcEaGj/RhpjVjZW893GMITrM8m1elEvchGhrwjbucIYnHGCMUdbDolyFaPsWuhTZxAZecYJd7Ol5/sAFpjjEDh5DvOE+XXxbgnec9kTaDKT76teEdUwyrRq3tUhNGOWZoM3eFo7w8BuhsYjzpSI0ObO04dkivgGueyKruekcSvXTA3+jwzxEV0L8M7eMTwFuNUa403LOAAAAAElFTkSuQmCC"}})]),s("button",{staticClass:"btn-edit",attrs:{title:"Clear / reset"},on:{click:function(t){return e.clearEdit()}}},[s("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA60lEQVQokY3RPUpDQRQF4O89HhaP+CoJIYWluIBgYSFWggg2WroCNyFWQayyBAtXIGgpYp1S0rqFGLVRMzZ3zJTOFAP3nsP5GUmCBh3WktVFix7qPKsCvIsTPOM+SZ+VaoAzrOMGr0lawhCPSJgFqI9rzPGBS/SSpME33rHENi5wiOOw84ZF7GX/IzzgJ5S+4l2E0uAvV4SrsYdpADPpFv2yiDpUNnCELavTYAcHlaot5jqMI2C2MS3szXCaK4dNvMRyjquwV2aaoMuEFudBGkeldRRxhyfsoylDt6HUFb/cBHmYwUlSZZn/nl8EkGJCLlPUYQAAAABJRU5ErkJggg=="}})])]:[s("span",{domProps:{innerHTML:e._s(e.modelvalue||e.placeholder)}}),s("button",{staticClass:"btn-edit",attrs:{title:"Edit"},on:{click:function(t){e.isEditable=!0}}},[s("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA0ElEQVQokX3SoU4DURCF4e82G0I2TdMgKgh9A0QVD1BBeIkaLLpVGCSSJ0BUIUlwhARVh0KAQZAUDIZUIJmaS1N2u51xkzPn/jNzUwhNkaQSRYjFqhgNiQ6uMEVvVW8Qt3GKZwRu0A2h2ICxhzGOcJdf2keJ76pziUs84AvvmOCwhpSdLrL4I6O8YPDPNIt3cY6nNfEbhtX5Whn9BH3M0cMnRniszvjX0MUBrvGKsxCzEL+142SkY9zjFkO0mu6TQkhSgZ1s8FNzXV/7tq+xKZYdlHQTgFOznwAAAABJRU5ErkJggg=="}})])]],2)},a=[],n={name:"LiveEdit",props:{value:{type:[Number,String,Object],required:!1},type:{type:String,default:"text",values:["text","checkbox","date","select","number","textarea"]},editClass:{type:String,default:""},selectValues:{type:Array,default:function(){return[]}},selectOptions:{type:Object,default:function(){return{value:"value",label:"label",multiple:!1}}},placeholder:{type:String,required:!1,default:""}},data(){return{isEditable:!1,originalValue:this.value,modelvalue:this.value}},computed:{_selectValues(){return this.selectValues?this.selectValues.map(e=>"object"===typeof e?{value:e[this.selectOptions.value],label:e[this.selectOptions.label]}:{value:e,label:e}):[]}},watch:{modelvalue:function(e){this.$emit("input",e)},value:function(e,t){e!==t&&(this.modelvalue=e)}},methods:{saveEdit(){this.isEditable=!1,this.$emit("input",this.modelvalue),this.$emit("change",this.modelvalue)},clearEdit(){this.isEditable=!1,this.modelvalue=this.originalValue,this.$emit("change",this.modelvalue)}}},o=n,l=(s("856f"),s("2877")),r=Object(l["a"])(o,i,a,!1,null,"544c2cea",null);t["a"]=r.exports},"97d1":function(e,t){e.exports=vue-popperjs},"99b5":function(e,t,s){"use strict";t["a"]={methods:{apiErrorCallback(e){if(e&&!e.response&&!e.message)return void this.$awNotify({title:this.$t("common.messages.network_error"),type:"warning"});const t=e.response||e.data||e;let s=this.parseErrorResponse(t);this.$te("aw.messages."+s)?s=this.$t("aw.messages."+s):this.$te(s)&&(s=this.$t(s));const i=e.response&&e.response.data||e.data||e,a=i&&i.errors,n=a&&Array.isArray(a)?a.map(e=>e.message||e).filter(e=>e!==t).map(e=>(this.$te(e)?this.$t(e):e)+"\n").join(""):"";this.$awNotify({title:s,message:n,type:"warning",timer:3e3})},parseErrorResponse(e){if(!e)return"";const t=e.response||e.data||e;if(t){let e="";return t.message?t.message:t.errors?(t.errors&&t.errors.length?e+="\n"+t.errors.map(e=>e.message||e).join("<br/>"):e+=JSON.stringify(t.errors),e):t instanceof String?t:JSON.stringify(t)}return"Error status: "+e.status}}}},"9c0b":function(e,t,s){},"9c0c":function(e,t,s){},"9eaf":function(e,t,s){"use strict";var i=s("0514"),a=s.n(i);a.a},a354:function(e){e.exports=JSON.parse('{"AwesomeDefault":{"messages":{"are_you_sure":"Êtes-vous sur ?","wont_be_able_recover":"Cette action est irréversible","successfullyCreated":"Créé avec succès.","successfullyModified":"Modifié avec succès.","successfullyImported":"Importé avec succès","no_data_imported":"Pas de données importées","not_imported":"Non importé","all":"Tous"}},"AwesomeKanban":{"labels":{"addList":"Ajouter une liste","add":"Ajouter","listName":"Nom de la liste","removeList":"Supprimer la liste","noData":"Pas de champs sélectionnés","unsorted":"Non triés."},"buttons":{"filters":"Filtres","refresh":"Rafraichir","excel-currentpage":"Exporter la page en cours","searchInput":"Rechercher","view":"Voir","cancel":"Annuler","close":"Fermer","columnsFilters":"Activer/Désactiver les filtres de colonnes","clear-state":"Réinitialiser le configuration du tableau"}},"AwesomeFilter":{"labels":{"filterData":"Filtrer les données","filterValue":"Valeur du filtre","fields":"Champs","filters":"Filtres","values":"Valeurs","clear":"--Vider--","activeFilter":"Filtres actifs","addFilter":"Ajouter un filtre","from":"De","to":"à"},"filters":{"equals":"Est égal à (=)","not-equals":"N\'est pas égal à (<>)","greater-than":"Est plus grand que(>)","greater-or-equals":"Est égal ou plus grand que (>=)","lesser-than":"Est plus petit que (<)","lesser-or-equals":"Est égal ou petit que (<=)","between":"Entre","not-between":"N\'est pas entre","contains":"Contient","not-contains":"Ne contient pas","starts-with":"Commence par","ends-with":"Fini par","is-null":"est null","is-not-null":"N\'est pas null","is-defined":"Est défini","is-not-defined":"N\'est pas défini","in":"Est parmi"}},"AwesomeTable":{"buttons":{"filters":"Filtres","refresh":"Rafraichir","excel":"Exporter toutes les données","searchInput":"Rechercher","view":"Voir","cancel":"Annuler","close":"Fermer","clear-state":"Réinitialiser le configuration du tableau","excel-currentpage":"Exporter les données affichées","columnsFilters":{"toggle":"Activer/Désactiver les filtres de colonnes","activate":"Activer les filtres de colonnes","deactivate":"Activer les filtres de colonnes"}},"next":"Suivant","prev":"Précédent","rows_per_page":"Lignes par page","of":"de","page":"page","all":"tous","empty":"pas de résultats","searchInput":"Rechercher","more":"Plus d\'actions","actions":"Actions","configuration":"Configuration","columns":"Colonnes","automatique-refresh":"Rafraichir périodiquement","createFirstItem":"Cliquer ici rajouter votre premier élément","bulk":{"row-select":"lignes(s) selectionnées","clear":"vider","delete":"supprimer","edit":"editer"}},"AwesomeCrud":{"labels":{"manageTitle":"Gestion des","createNew":"Ajouter","view":"Consultation:","edit":"Edition:","add_a":"Creation:"},"buttons":{"yes_delete_it":"Oui je confirme","view":"Open","cancel":"Annuler","close":"Fermer","edit":"Editer","save":"Enregistrer","delete":"Supprimer","bulkEdit":"Edition groupée","openEditLayoutMode":"Editer le layout","closeEditLayoutMode":"Fermer \'l\'éditeur","resetLayout":"Reset the layout","exportLayout":"Export the layout"},"messages":{"successfullyModified":"Modification réussie."}},"dateRangePicker":{"applyLabel":"Apply","cancelLabel":"Cancel","weekLabel":"W","customRangeLabel":"Custom Range"},"AwesomeList":{"labels":{"noData":"No fields selected"},"buttons":{"filters":"Filtres","refresh":"Rafraichir","excel-currentpage":"Exporter la page en cours","searchInput":"Rechercher","view":"Voir","cancel":"Annuler","close":"Fermer","columnsFilters":"Activer/Désactiver les filtres de colonnes","clear-state":"Réinitialiser le configuration du tableau"}},"AwesomeLayout":{"messages":{"emptyBlockBeforeDelete":"you must empty the block before you can delete it."}},"Notifications":{"messages":{"are_you_sure":"Êtes-vous sûr ?"},"buttons":{"yes":"Oui","cancel":"Annuler","close":"Fermer"}}}')},a4e9:function(e,t,s){},a897:function(e,t,s){"use strict";var i=s("b68d"),a=s.n(i);a.a},a8fa:function(e,t,s){},a957:function(e,t,s){},abe2:function(e,t,s){},ad09:function(e,t){e.exports=vue-select},b192:function(e,t,s){"use strict";var i=s("7c3b"),a=s.n(i);a.a},b2ae:function(e,t,s){"use strict";var i=s("a4e9"),a=s.n(i);a.a},b549:function(e,t,s){},b5ca:function(e,t,s){"use strict";var i=s("0f45"),a=s.n(i);a.a},b679:function(e,t,s){"use strict";t["a"]={props:{nestedDisplayMode:{type:String,required:!1,default:"table",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"}},computed:{_isNested(){return this.parent},_isEmbedded(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isANestedDetailView(){return this._isNested&&(this.selectedItem&&this.selectedItem[this.primaryKey]||"view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isNestedCreate(){return this._isNested&&this.selectedItem&&"create"===this.viewMode},_noFormActions(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)}},methods:{}}},b68d:function(e,t,s){},b934:function(e,t,s){"use strict";var i=s("5e21"),a=s.n(i);a.a},bc31:function(e,t,s){},beb7:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content aw-crud",class:"aw-crud-mode-"+e.displayMode+" aw-crud-"+e.identity},[s("div",{},[s("div",{staticClass:"row mr-0 ml-0"},[s("div",{staticClass:"col-12 awesomecrud-stats-section p-0"},[e.showStatsSectionComputed?s("div",{staticClass:"row"},[s("EnyoCrudStatsSection",{attrs:{url:e._url+"/stats",entity:e.identity,identity:e.identity,"stats-needs-refresh":e.statsNeedsRefresh},on:{"update:statsNeedsRefresh":function(t){e.statsNeedsRefresh=t},"update:stats-needs-refresh":function(t){e.statsNeedsRefresh=t}}})],1):e._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showItemsListSectionComputed,expression:"showItemsListSectionComputed"}],staticClass:"awesomecrud-list-table-section p-0",class:e.displaySideFormContent?"col-6":"col-12"},[e._actions.changeDisplayMode&&e.segmentField?s("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e(),!e._isANestedDetailView&&("table"===e.displayMode||e._displayModeHasPartialDisplay&&"table"===e.listDisplayMode)&&e.dataPaginationModeComputed?s("AwesomeTable",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,collapsible:!1,"columns-displayed":e.mergedOptions.columnsDisplayed,columns:e.tableColumnsComputed,"custom-bulk-actions":e._customBulkActions,"custom-inline-actions":e._customInlineActions,"custom-table-top-actions":e._customTableTopActions,entity:e.identity,"export-url":e.mergedOptions.exportUrl,limit:e.tableDataLimit,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,saveColumnsState:e.saveColumnsState,savePaginationState:e.savePaginationState,segment:e.segment,segmentField:e.segmentField,title:e._listingComponentTitle,url:e._url,useRouterMode:e.useRouterMode,uuid:"awtable-"+e.identity},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,edit:e.goToEditPage,delete:e.goToDeletePage,bulkDelete:e.goToBulkDeletePage,bulkEdit:e.goToBulkEditPage,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,"table-updated":e.onListUpdated,refresh:e.onTableRefresh,onRowClicked:e.onTableRowClicked,onRowDoubleClicked:e.onTableRowDoubleClicked,updateAutoRefresh:e.updateAutoRefresh,"data-changed":e.onDataChanged}},"AwesomeTable",e.$props,!1),[s("template",{slot:"table-header-left"},[e._actions.changeDisplayMode&&!e.segmentField?s("ListingModeSelector",{model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e()],1),s("template",{slot:"table-header-right"},[s("div",{staticClass:"text-right"},[e._t("top-right-buttons",(function(){return[e._customTopRightActions?[s("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():s("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[s("i",{staticClass:"fa fa-plus text-primary"}),e._v(" "+e._s(e.$t("AwesomeCrud.labels.createNew"))+" ")])]}))],2)]),s("template",{slot:"table-top-actions"},[e._customTitleBarActions?[s("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),s("template",{slot:"table-top-more-actions"},[e._actions.import?s("upload-button",{attrs:{name:"import",options:{upload:!0,targetUrl:e.mergedOptions.uploadUrl||e.mergedOptions.importUrl,method:"POST",headers:{},base64:!1,label:e.$t("AwesomeCrud.buttons.import"),class:"btn btn-sm btn-main-style btn btn-simple text-success  btn-block"}},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._actions.import?s("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[s("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+" ")]):e._e(),e.mergedOptions.useCustomLayout&&e._actions.editLayout?s("button",{staticClass:"btn btn-sm btn-simple btn-default btn-block",attrs:{type:"button"},on:{click:function(t){return e.goToCreatePage({editLayoutMode:!0})}}},[s("i",{staticClass:"fa fa-th-large"}),e._v(" "+e._s(e.$t("AwesomeCrud.buttons.openEditLayoutMode"))+" ")]):e._e()],1)],2):e._e(),!e._isANestedDetailView&&("list"===e.displayMode||e._displayModeHasPartialDisplay&&"list"===e.listDisplayMode)?s("AwesomeList",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,columns:e.listFieldsComputed,descriptionField:e.listOptions?e.listOptions.descriptionField:"",displayFields:e.listOptions?e.listOptions.displayFields:[],"export-url":e.mergedOptions.exportUrl,identity:e.identity,imageClasses:e.listOptions&&e.listOptions.imageClasses,imageField:e.listOptions&&e.listOptions.imageField,imageStyles:e.listOptions&&e.listOptions.imageStyles,perRow:e.listOptions&&e.listOptions.perRow,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,perPage:e.listOptions&&e.listOptions.perPage?e.listOptions.perPage:10,segment:e.segment,segmentField:e.segmentField,styles:{listWrapperClasses:"row",itemWrapperClasses:"col-3"},subtitleField:e.listOptions&&e.listOptions.subtitleField,title:e._listingComponentTitle,titleField:e.listOptions&&e.listOptions.titleField,url:e._url,useRouterMode:e.useRouterMode},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},itemClicked:e.onListItemClicked}},"AwesomeList",e.listOptions,!1),[s("template",{slot:"top-actions"},[e._customTitleBarActions?[s("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),s("template",{slot:"list-header-left"},[e._actions.changeDisplayMode&&!e.segmentField?s("ListingModeSelector",{model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e()],1),s("template",{slot:"list-header-right"},[e._customTopRightActions?[s("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():s("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[s("i",{staticClass:"fa fa-plus text-primary"}),e._v(" "+e._s(e.$t("AwesomeCrud.labels.createNew"))+" ")])],2)],2):e._e(),!e._isANestedDetailView&&("kanban"===e.displayMode||e._displayModeHasPartialDisplay&&"kanban"===e.listDisplayMode)?s("AwesomeKanban",e._b({attrs:{actions:e._actions,title:e._listingComponentTitle,columns:e.kanbanFieldsComputed,fields:e._kanbanOptions.fields,identity:e.identity,url:e._url,"api-query-params":e.mergedOptions.queryParams,"api-query-headers":e.mergedOptions.headerParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,useRouterMode:e.useRouterMode,options:e._kanbanOptions.options,splittingField:e._kanbanOptions.splittingField,splittingValues:e._splittingValuesComputed},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},customListAction:e.onCustomListAction,removeList:e.onRemoveList,listChanged:e.onListChanged,cardChanged:e.onCardChanged,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked}},"AwesomeKanban",e._kanbanOptions,!1),[s("template",{slot:"kanban-header-left"},[e._actions.changeDisplayMode&&!e.segmentField?s("ListingModeSelector",{model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e()],1),s("template",{slot:"kanban-header-right"},[s("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}}),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():s("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[s("i",{staticClass:"fa fa-plus text-primary"}),e._v(" "+e._s(e.$t("AwesomeCrud.labels.createNew"))+" ")])],1),s("template",{slot:"top-actions"},[e._customTitleBarActions?[s("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2)],2):e._e()],1),s("div",{staticClass:"awesomecrud-detail-section  p-0",class:{"col-6":e.displaySideFormContent,"col-12":!e.displaySideFormContent,"sticky-form":e.displaySideFormContent&&e.isSideformSticky}},[e.displaySideFormContent&&e.isSideformSticky?s("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add invisible",attrs:{disabled:!0,type:"button"}},[s("i",{staticClass:"fa fa-plus text-primary"})]):e._e(),e.showViewFormComputed?s("awesome-form",e._b({attrs:{actions:e._actionsBeforeCalculation,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:e.viewPageLayoutComputed,mode:e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,parent:e.parent,schema:e.schemaComputed,standalone:!1,url:e._url},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onViewDisplayCancelled,closeRequested:e.onViewDisplayCancelled,customAction:e.onCustomAction,beforeCreate:function(t){return e.forwardEvent.bind(this,"beforeCreate")},itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.$props,!1),[e._t("after-edit-form",null,{slot:"after-edit-form",selectedItem:e.selectedItem})],2):e._e(),e.showEditFormComputed?s("awesome-form",e._b({attrs:{mode:e.displayBottomFormContent?"create":e.displayMode,model:e._model,schema:e.schemaComputed,identity:e.identity,displayMode:e.detailPageModeCpt,layout:"create"===e.displayMode?e.createPageLayoutComputed:e.editPageLayoutComputed,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,createPageLayoutComputed:"",item:e.selectedItem,"bulk-items":e.selectedItems,"needs-refresh":e.awesomeEditNeedsRefresh,"edit-layout-mode":e.editLayoutMode,standalone:!1,"display-header":e.awFormDisplayHeader,"has-previous":e.hasPrevious,"has-next":e.hasNext,actions:e._actionsBeforeCalculation,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onEditDisplayCancelled,closeRequested:e.onEditDisplayCancelled,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.$props,!1)):e._e()],1)])])])},a=[],n=s("60bb"),o=s.n(n),l=s("4328"),r=s.n(l),d=s("d2cf"),c=s("99b5"),u=s("11fc"),p=s("b679"),h=s("6c53"),m=s("cae3"),f=s("eab4"),g={props:{primaryKey:{type:String},primaryKeyField:{type:String},identity:{type:String,required:!0},displayField:{type:String},name:{type:String},pluralName:{type:String}},computed:{},methods:{}},b=s("5a3e"),y=s("383c"),v=s("3dd1"),C=s.n(v),w=s("6f66"),_=s("5bd6"),O=s("2781"),$=s("09b8"),F=s("51ac"),A=s("7aa9"),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"btn-group pull-left aw-list-mode-selector"},[!e.enabledModes||e.enabledModes.includes("table")?s("button",{staticClass:"btn btn-link pl-0 pr-2 pv-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","table")}}},[s("i",{staticClass:"fa fa-table",class:"table"===e.value?"text-primary":"text-default"})]):e._e(),!e.enabledModes||e.enabledModes.includes("list")?s("button",{staticClass:"btn btn-link p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","list")}}},[s("i",{staticClass:"fa fa-list",class:"list"===e.value?"text-primary":"text-default"})]):e._e(),!e.enabledModes||e.enabledModes.includes("kanban")?s("button",{staticClass:"btn btn-link p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","kanban")}}},[s("i",{staticClass:"fa fa-columns",class:"kanban"===e.value?"text-primary":"text-default"})]):e._e()])},k=[],S={props:{value:{type:String,validator:e=>!e||["list","table","kanban"].includes(e),values:["list","table","kanban"]},enabledModes:{type:Array,default:()=>["list","table","kanban"]}}},P=S,I=(s("519a"),s("2877")),R=Object(I["a"])(P,x,k,!1,null,"8454a9d4",null),T=R.exports,L=s("8449");s("dac4");const D={mode:"local",dataPaginationMode:"local",defaultOptions:!0,url:null,columns:null,createPath:null,viewPath:null,editPath:null,queryParams:{},stats:!1,autoRefresh:!1,autoRefreshInterval:20,initialDisplayMode:"table",detailPageMode:"sidebar",detailPageLayout:null,columnsDisplayed:10},M={displayFields:[],imageField:"",titleField:"",subtitleField:"",descriptionField:""};var j={name:"AwesomeCrud",introduction:"A component to quickly create a table UI with edit capabilities",description:"This component create tables and forms edit data based on a json schema.",components:{AwesomeTable:w["a"],EnyoCrudStatsSection:_["a"],AwesomeForm:O["default"],AwesomeList:$["a"],AwesomeKanban:F["a"],AwesomeActionList:A["a"],ListingModeSelector:T},mixins:[f["a"],b["a"],c["a"],u["a"],p["a"],h["a"],d["a"],m["a"],g],props:{title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},modelName:{type:String,required:!1,note:"Deprecated use identity"},identity:{type:String,required:!0,note:"Unique collection identifier"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},layout:{type:[Object,Array],required:!1,default:()=>[],note:"The layout of the create/edit/view pages"},detailPageMode:{type:String,description:"the way the detail page shows when you open an item from the list",values:["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"],validator:e=>!e||["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"].includes(e)},detailPageLayout:{type:Array,default:void 0,note:"Defines the layout of the detail page"},crudNeedsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the table list should be refreshed"},needsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the component should be refreshed"},nestedSchemas:{type:Array,required:!1,default:()=>[],note:"@deprecated, use `nestedModels`"},nestedModels:{type:Array,required:!1,default:()=>[],note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},nestedDisplayMode:{type:String,required:!1,values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.\n        'You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,description:"The identity of the parent"},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},translations:{type:Object,required:!1,default:()=>({AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel"}}}),note:"Translation labels to use when vue-i18n is not present"},options:{type:Object,default:()=>({})},listOptions:{type:Object,default:()=>M},kanbanOptions:{type:Object,default:()=>({})},actions:{type:Object,default:()=>y["a"],note:"actions active in this instance"},customTopRightActions:{type:Array,default:()=>[],note:"custom action in top right of awCrud"},customInlineActions:{type:Array,default:()=>[],note:"custom action in footer and in awTable row"},customBulkActions:{type:Array,default:()=>[],note:"custom action for bulk"},customTableTopActions:{type:Array,default:()=>[],note:"custom table top actions"},customFormTopActions:{type:Array,default:()=>[],note:"custom top action to display inside view and edit forms"},customTitleBarActions:{type:Array,default:()=>[],note:"custom top action to display inside the title header bar on the right"},savePaginationState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},saveColumnsState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},tableRowClickAction:{type:String,default:"view",values:["view","edit","none","delete"],description:"The action to execute when the user clicks on a row"},tableRowDoubleClickAction:{type:String,default:"none",values:["view","edit","none","delete"],description:"The action to execute when the user double clicks on a row"},awFormDisplayHeader:{type:Boolean,default:!0,description:"Whether we should display the header (title) of awesomeform or not"},tableDataLimit:{type:Number,default:1e3,description:"Define the number of items to get from the api for the table. This prevents overloading the table with too much data"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},scrollEventTarget:{type:String,title:"The selector to use for registering scroll events",description:"This prop is used for registering the scroll event (needed for sticky forms)"},enabledListingModes:{type:Array,default:()=>["table","kanban","list"],description:"The listing modes that are enabled for this component"},postCreateDisplayMode:{type:String,values:["list","edit","view"],validator:e=>["list","edit","view"].includes(e),description:"The location to redirect after a successful create",default:"list"},postEditDisplayMode:{type:String,values:["list","edit","view"],validator:e=>["list","edit","view"].includes(e),description:"The location to redirect after a successful edit",default:"view"}},data(){return{parentPath:"",selectedItem:{},selectedItems:[],previousDisplayMode:"",listDisplayMode:"table",displayMode:"table",isRefreshing:!1,tableNeedsRefresh:!1,awesomeEditNeedsRefresh:!1,statsNeedsRefresh:!1,nestedCrudNeedsRefresh:!1,internalOptions:{},innerNestedSchemas:[],activeNestedTab:"general",formOptions:{validateAsync:!1,validateAfterLoad:!1,validateAfterChanged:!0,fieldIdPrefix:"AwesomeCrud"},supportedListingDisplayModes:["table","list","kanban"],editLayoutMode:!1,itemsList:[],isSideformSticky:!1,scrollTarget:null,awFormWidth:null,previousModelIdentity:null}},computed:{_title(){return this._model&&this._model.pageTitle?this.$te(this._model.pageTitle)?this.$t(this._model.pageTitle):this._model.pageTitle:!1!==this.title&&(this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):o.a.startCase(this._model.singularName):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):"")},_titlePlural(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):o.a.startCase(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te(`app.labels.${this.identity}s`)?this.$t(`app.labels.${this.identity}s`):o.a.startCase(this.identity+"s"):""},_listingComponentTitle(){return!1!==this.title&&(this.title?this.$te(this.title)?this.$t(this.title):this.title:this.$t("AwesomeCrud.labels.manageTitle")+" "+this._titlePlural)},_name(){return this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):this._model.name:this.name?this.$te(this.name)?this.$t(this.name):this.name:this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):""},_model(){return this.model||this.getModelFromStore(this.identity)},_namePlural(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):o.a.startCase(this._model.namePlural):this.namePlural?this.$te(this.namePlural)?this.$t(this.namePlural):o.a.startCase(this.namePlural):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):""},schemaComputed(){return this.schema||this._model&&this._model.schema},formSchema(){if(!this.schemaComputed)return[];const e=this.parseSchema(this.schemaComputed);return e},listFieldsComputed(){const e=this.tableColumnsComputed;let t=[];return this.listOptions&&Array.isArray(this.listOptions.fields)?(this.listOptions.fields.forEach(s=>{t.push(o.a.filter(e,["field",s]))}),t=o.a.flatten(t),t):e},kanbanFieldsComputed(){const e=this.tableColumnsComputed;let t=[];return this._kanbanOptions&&Array.isArray(this._kanbanOptions.fields)?(this._kanbanOptions.fields.forEach(s=>{t.push(o.a.filter(e,["field",s]))}),t=o.a.flatten(t),t):e},tableColumnsComputed(){return this.schemaComputed?this.parseColumns(this.schemaComputed.properties):[]},_layout(){return this.detailPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.layout},_createFormLayout(){return this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},_editFormLayout(){return this.model&&this.model.formOptions&&this.model.editLayout||this._layout},createPageLayoutComputed(){return this.createPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},viewPageLayoutComputed(){return this.viewPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.viewPageLayout||this._layout},editPageLayoutComputed(){return this.editPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.editPageLayout||this._layout},_actions(){const e=o.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(e).forEach(([t,s])=>{"boolean"!==typeof s&&(e[t]=this.templateParseConditionalField(s))}),e},_actionsBeforeCalculation(){return o.a.merge({},y["a"],this.actions||this.mergedOptions&&this.mergedOptions.actions)},_customFormTopActions(){return o.a.merge([],this.customFormTopActions.length&&this.customFormTopActions||this.mergedOptions&&this.mergedOptions.customFormTopActions)},_customInlineActions(){return o.a.merge([],this.customInlineActions.length&&this.customInlineActions||this.mergedOptions&&this.mergedOptions.customInlineActions)},_customTopRightActions(){return o.a.merge([],this.customTopRightActions.length&&this.customTopRightActions||this.mergedOptions&&this.mergedOptions.customTopRightActions)},_customTableTopActions(){return o.a.merge([],this.customTableTopActions.length&&this.customTableTopActions||this.mergedOptions&&this.mergedOptions.customTableTopActions)},_customTitleBarActions(){return o.a.merge([],this.customTitleBarActions.length&&this.customTitleBarActions)},_customBulkActions(){return o.a.merge([],this.customBulkActions.length&&this.customBulkActions||this.mergedOptions&&this.mergedOptions.customBulkActions)},_displayModeHasPartialDisplay(){return["modal","sidebar","sidebar-left","sidebar-right","fade","slide","sideform","bottomform"].indexOf(this._detailPageMode)>-1},_kanbanOptions(){const e=o.a.merge({},y["b"],this._model&&this._model.kanbanOptions,this.kanbanOptions);if(e.splittingField&&(!e.splittingValues||!e.splittingValues.length)&&this.tableColumnsComputed){const t=this.tableColumnsComputed.find(e=>e.field===this.segmentField);t&&t.enum&&(e.splittingValues=t.enum)}return e.titleField||e.fields&&e.fields.length||(this.displayField||this._model&&this._model.displayField)&&(e.titleField=this._model.displayField),e.splittingField||(e.splittingField=this.segmentField),e},canShowCreateButton(){return this._actions.create&&!(["view","edit","create"].indexOf(this.displayMode)>-1&&"page"===this._detailPageMode)},showEditFormComputed(){return this.identity&&("edit"===this.displayMode||"create"===this.displayMode||"bulkEdit"===this.displayMode||"bottomform"===this._detailPageMode)},showViewFormComputed(){return this.identity&&"view"===this.displayMode},showItemsListSectionComputed(){return this.supportedListingDisplayModes.indexOf(this.displayMode)>-1||"page"!==this._detailPageMode},currentItemIndex(){return this.itemsList&&this.selectedItem&&o.a.findIndex(this.itemsList,e=>e[this.primaryKey]==this.selectedItem[this.primaryKey])},hasPrevious(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex-1]},hasNext(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex+1]},dataPaginationModeComputed(){return this.mergedOptions.dataPaginationMode||this.mergedOptions.mode},segmentFieldDefinitionComputed(){if(!this.segmentField)return"";let e;return this.formSchema&&this.formSchema.fields&&(e=this.formSchema.fields.find(e=>e.model===this.segmentField),e)||this.tableColumnsComputed&&(e=this.tableColumnsComputed.find(e=>e.field===this.segmentField),e)?e:""},segmentFieldPossibleValues(){const e=this.segmentFieldDefinitionComputed;if(!e)return[];const t=e.fieldOptions&&(e.fieldOptions.filterDropdownItems||e.fieldOptions.values||e.fieldOptions.options)||e.enum;return Array.isArray(t)?t:[]},showStatsSectionComputed(){return this.showItemsListSectionComputed&&this.mergedOptions.stats},isDetailPageModeCpt(){return"create"===this.displayMode||"view"===this.displayMode||"edit"===this.displayMode},displaySideFormContent(){return"sideform"===this._detailPageMode&&this.isDetailPageModeCpt},displayBottomFormContent(){return"bottomform"===this._detailPageMode},_detailPageMode(){return this.detailPageMode||this.mergedOptions.detailPageMode},detailPageModeCpt(){return"sideform"===this._detailPageMode||"bottomform"===this._detailPageMode?"page":this._detailPageMode},shouldShowCreateButtonCpt(){return this.canShowCreateButton&&!this._isANestedDetailView&&(this.supportedListingDisplayModes.includes(this.displayMode)||this._displayModeHasPartialDisplay&&"table"===this.mergedOptions.initialDisplayMode)},mergedOptions:{get(){let e=o.a.merge({},D,this._model&&this._model.options,this.options,this.internalOptions);return this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=o.a.merge(this.internalOptions.queryParams,{filters:this.$route.query.filters},{fields:this.$route.query.fields})),e},set(e){this.internalOptions=e}},_splittingValuesComputed(){return this._kanbanOptions.splittingValues&&this._kanbanOptions.splittingValues.length?this._kanbanOptions.splittingValues:this.segmentFieldPossibleValues}},watch:{identity:"loadModel",model:"loadModel","parent.id":"loadModel",crudNeedsRefresh:"refreshComponent",needsRefresh:"refreshComponent","$route.params.id":"onRouteIdChanged",displayMode:"onDisplayModeChanged",listDisplayMode:"onListDisplayModeChanged"},created(){if(!this.$http)try{const e=s("cebe");this.$http=e}catch(e){}},mounted(){if(!this.identity)throw new Error("missing_required_props_identity");this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.enabledListingModes&&!this.enabledListingModes.includes(this.mergedOptions.initialDisplayMode)&&console.warn("Intitial display mode is not in the list of enabled modes",this.mergedOptions.initialDisplayMode),this.internalOptions=o.a.cloneDeep(this.mergedOptions),this.loadModel(),this.displayMode||(this.displayMode=this.mergedOptions.initialDisplayMode),this.listDisplayMode=this.mergedOptions.initialDisplayMode,this._isNested&&this.nestedDisplayMode&&(this.displayMode=this.nestedDisplayMode);const e=this.scrollEventTarget?document.querySelector(this.scrollEventTarget):window;e&&(this.scrollTarget=e,this.scrollTarget.addEventListener("scroll",this.handleScroll)),this.$route&&this.useRouterMode&&(this.parentPath=this.$route.path,this.parentPath=this.parentPath.replace("/view","").replace("/edit","").replace("/new","").replace("/:id",""),this.$forceUpdate(),this.initializeSelectedItem())},beforeRouteEnter(e,t,s){s(e=>{})},beforeRouteLeave(e,t,s){s(e=>{})},beforeRouteUpdate(e,t,s){this.useRouterMode&&t.params.id&&e.params.id,s()},beforeDestroy(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh"),this.scrollTarget.removeEventListener("scroll",this.handleScroll)},methods:{$alert:C.a,refreshComponent(e,t){e&&!1!==e&&e!==t&&(this.identity&&this.identity!==this.previousModelIdentity&&(this.previousModelIdentity=this.identity,this.loadModel()),this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.awesomeEditNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,setTimeout(()=>{this.tableNeedsRefresh=!1,this.statsNeedsRefresh=!1,this.nestedCrudNeedsRefresh=!1,this.$emit("update:crudNeedsRefresh",!1),this.$emit("input:crudNeedsRefresh",!1),this.$emit("input:needs-refresh",!1)},100))},onTableRefresh(){this.statsNeedsRefresh=!0},callbackFunctionForBAse64(e){},importFailedResponse(e){C.a.fire({title:this.$t("common.messages.not_imported",{title:this._name}),type:"error",text:e.message||e})},importResponse(e){if(e.improperData&&0!==e.improperData.length||e.properData&&0!==e.properData.length){if(e.properData.length>0&&this.$awNotify({title:this.$t("common.messages.successfullyImported",{title:this._name}),type:"success"}),e.improperData.length>0){let t="";e.improperData.forEach(e=>{t+=` - ${Object.values(e).join(" | ")}, `}),t=t.substring(0,t.length-2),setTimeout(()=>{this.$awNotify({title:`${e.improperData.length} ${this.$t("common.messages.not_imported",{title:this._name})}`,message:t,type:"warning",timeout:3e4})},0)}this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}else C.a.fire({title:this.$t("common.messages.no_data_imported",{title:this._name}),type:"warning"})},exportTemplateCallBack(){this.mergedOptions.importUrl?this.$http.get(this.mergedOptions.importUrl+"-template",{}).then(e=>{if(e.data.url){const t=document.createElement("a");t.download=this.identity+"_export",t.href=e.data.url,t.click(),t.remove()}}).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export url",type:"warning"})},loadModel(){if(this._model||this.schema){if(this.schemaComputed.properties&&(this.mergedOptions.columns=this.parseColumns(this.schemaComputed.properties)),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl=this._url+"/export"),this.mergedOptions.importUrl||(this.mergedOptions.importUrl=this._url+"/import"),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),this.parent&&(this.nestedCrudNeedsRefresh=!0),!this.parent||"view"!==this.nestedDisplayMode&&"edit"!==this.nestedDisplayMode&&"object"!==this.nestedDisplayMode||this.getNestedItem().then(()=>{"view"===this.nestedDisplayMode||this.nestedDisplayMode,"edit"===this.nestedDisplayMode&&this.$alert.fire({title:this.$t("Nested editing of object is not allowed yet...",{title:this.modelName}),type:"success"})}),this._url&&this.useRouterMode&&this.$route&&this.$route.params){if("new"===this.$route.params.id||this.$route.path.endsWith("/new"))return this.setDisplayMode("create"),void this.$forceUpdate();if(this.$route.params.id){const e=this.$route.matched[this.$route.matched.length-1];-1!==e.path.indexOf("/edit")?this.setDisplayMode("edit",{}):this.setDisplayMode("view",{}),this.$http.get(`${this._url}/${this.$route.params.id}`,{query:this.apiRequestPermanentQueryParams}).then(t=>{const s=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?o.a.get(t,this.apiResponseConfig.dataPath):t.data;-1!==e.path.indexOf("/edit")?this.setDisplayMode("edit",s):this.setDisplayMode("view",s),this.$forceUpdate()}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})}}}else console.warn("AWESOME CRUD ERROR",`model ${this.identity} not found`)},setDisplayMode(e,t,s={refresh:!0}){if(["edit","view"].indexOf(e)>-1){this.$awEmit("aw-form-open");const{...e}=t;this.itemIndex=o.a.findIndex(this.itemList,e)}this.previousDisplayMode=this.displayMode||this.mergedOptions.initialDisplayMode,"bulkEdit"===e?(this.selectedItem={},this.selectedItems=t):(this.selectedItem=t,this.selectedItems=[]),this.displayMode=e,["table","list","kanban"].indexOf(e)>-1?(this.listDisplayMode=e,this.tableNeedsRefresh=s.refresh,this.selectedItem={}):this.awesomeEditNeedsRefresh=s.refresh},goToCreatePage(e={reset:!0,editLayoutMode:!1}){if(this.mergedOptions.createPath)return this.mergedOptions.createPath.includes("{{")&&this.mergedOptions.createPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.createPath)):this.$router.push(this.mergedOptions.createPath);e.reset&&(this.selectedItem=Object(L["createDefaultObject"])(this.formSchema)),e.editLayoutMode&&(this.editLayoutMode=e.editLayoutMode),this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.setDisplayMode("create",this.selectedItem),this.useRouterMode&&!e.reset&&this.$router.push(`${this.parentPath}/new?${r.a.stringify(this.$route.query)}`)},goToBulkEditPage(e,t={reset:!0}){if(this.mergedOptions.bulkEditPath)return this.$router.push(this.mergedOptions.bulkEditPath);this.setDisplayMode("bulkEdit",e)},goToDeletePage(e){if(this.mergedOptions.createPath)return this.$router.push(this.mergedOptions.deletePath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]));this.deleteFunction(e)},goToBulkDeletePage(e){this.bulkDeleteFunction(e)},goToEditPage(e,t){if(this.mergedOptions.editPath)return this.mergedOptions.editPath.includes(":id")&&e&&e[this.primaryKey]?this.$router.push(this.mergedOptions.editPath.replace(":id",e[this.primaryKey])):this.mergedOptions.editPath.includes("{{")&&this.mergedOptions.editPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.editPath,e)):this.$router.push(this.mergedOptions.editPath);const s=`${this.parentPath}/${e[this.primaryKey]}/edit`;this.useRouterMode&&this.$route.path!==s&&this.$router.push(s),this.setDisplayMode("edit",e,t)},goToViewPage(e){if(!e)return;if(this.mergedOptions.viewPath)return this.mergedOptions.viewPath.includes(":id")&&e&&e[this.primaryKey]?this.$router.push(this.mergedOptions.viewPath.replace(":id",e[this.primaryKey])):this.mergedOptions.viewPath.includes("{{")&&this.mergedOptions.viewPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.viewPath,e)):this.$router.push(this.mergedOptions.viewPath);const t=`${this.parentPath.replace(":id","")}/${e[this.primaryKey]}`;this.useRouterMode&&this.$route.path!==t&&this.$router.push(t),this.setDisplayMode("view",e)},nestedViewFunction(){this.displayMode="view",this.$http.get(""+this._url).then(e=>{this.selectedItem=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?o.a.get(e,this.apiResponseConfig.dataPath):e.data,this.nestedCrudNeedsRefresh=!0}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},bulkEditFunction(e){this.$http.put(`${this._url}/${e[this.primaryKey]}`,e).then(e=>{this.$emit(this.identity+"-item-updated",e.data),this.$awNotify({title:this.$t("AwesomeDefault.messages.successfullyModified",{title:this.type}),type:"success"}),this.tableNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},bulkDeleteFunction(e){C.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then(t=>{t.value&&e.forEach(e=>{this.selectedItem=e,this.$http.delete(""+this._selectedItemUrl).then(()=>{this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}).catch(e=>{console.error(e)}).finally(()=>{this.isRefreshing=!1})})}).finally(()=>this.selectedItem=null)},deleteFunction(e){this.selectedItem=e,C.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then(e=>{e.value&&this.$http.delete(""+this._selectedItemUrl).then(()=>{this.selectedItem=null,this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.useRouterMode&&this.$router.replace(this.parentPath+"?ts");const e=this.getPreviousDisplayMode();this.setDisplayMode(e),this.$forceUpdate()}).catch(e=>{console.error(e)}).finally(()=>{this.isRefreshing=!1})}).finally(()=>this.selectedItem=null)},onCustomBulkAction(e){const{action:t}=e;return this.$emit(this.identity+"-custom-bulk-action",t),t&&t.action&&t.action(e,this)},onCustomListAction(e){const{action:t}=e;return this.$emit(this.identity+"-custom-list-action",t),t&&t.action&&t.action(e,this)},onRemoveList(e){},onListChanged(e){},onCardChanged(e,t){},onCardAdded({element:e,newIndex:t},s){},onCardClicked(e){this.$emit("on-kanban-item-clicked",e),this.listItemClickedHandler(e)},onEditDisplayCancelled(e,{context:t}){const s=this.getPreviousDisplayMode(t);if(this.useRouterMode)if("view"===s)this.goToViewPage(e);else if("edit"===s)this.goToEditPage(e);else{let t=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace(""+(e?e[this.primaryKey]:""),"");this.$router.push(t)}this.setDisplayMode(s,e,{refresh:!1})},onViewDisplayCancelled(e){if(this.useRouterMode){let t=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace(""+(e?e[this.primaryKey]:""),"");this.$router.push(t)}const t=this.previousDisplayMode&&"edit"!==this.previousDisplayMode&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;this.setDisplayMode(t,e,{refresh:!1})},onItemsBulkEdited(e){this.bulkEditFunction(e)},onItemCreated(e){},onItemEdited(...e){this.$awEmit("aw-table-needs-refresh")},onItemDeleted(...e){},onItemViewed(...e){},onItemValidated(...e){},onItemValidationFailed(...e){},onListUpdated(e){this.$emit("list-updated",e),this.$emit(this.identity+"-list-updated",e)},onTableRowClicked(e){const{column:t,row:s}=e;t&&(["url","relation","ACTIONS"].indexOf(t.type)>-1||"__ACTIONS"===t.field)||(this.$emit("on-table-row-clicked",s),this.listItemClickedHandler(s))},onTableRowDoubleClicked(e){const{column:t,row:s}=e;t&&(["url","relation","ACTIONS"].indexOf(t.type)>-1||"__ACTIONS"===t.field)||(this.$emit("on-table-row-double-clicked",s),this.listItemDoubleClickedHandler(s))},onDataChanged(e){this.itemsList=e.data},updateAutoRefresh(e){this.mergedOptions.autoRefresh=e},onListItemClicked(e){this.$emit("on-list-item-clicked",e),this.listItemClickedHandler(e)},confirm(e){return console.warn("confirm method is @deprecated => use $awConfirm"),this.$awConfirm(e)},onLayoutUpdated(e){this.$emit("layout-updated",e)},onLayoutFieldsUpdated(e){this.$emit("layout-fields-updated",e)},onOpenEditLayoutMode(){this.editLayoutMode=!0},onCloseEditLayoutMode(){this.editLayoutMode=!1},selectPreviousItem(){this.hasPrevious&&this.itemsList[this.currentItemIndex-1]&&(this.selectedItem=this.itemsList[this.currentItemIndex-1],this.useRouterMode&&this.$router.push(`${this.parentPath}/${this.selectedItem[this.primaryKey]}`))},selectNextItem(){this.hasNext&&this.itemsList[this.currentItemIndex+1]&&(this.selectedItem=this.itemsList[this.currentItemIndex+1],this.useRouterMode&&this.$router.push(`${this.parentPath}/${this.selectedItem[this.primaryKey]}`))},onCustomAction(e){const{action:t}=e;return this.$emit(this.identity+"-custom-action",t),t&&t.action&&t.action(e,this)},getNestedItem(){return this.$http.get(""+this._url).then(e=>{this.selectedItem=this.responseField&&0!=this.responseField?o.a.get(e.data,this.responseField):e.data}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},forwardEvent(...e){this.$emit(...e)},listItemClickedHandler(e){switch(this.tableRowClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e);break;case"none":default:break}},listItemDoubleClickedHandler(e){switch(this.tableRowDoubleClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e);break;case"none":break;default:this.listItemClickedHandler(e);break}},onRouteIdChanged(e,t){this.useRouterMode&&e&&t&&t!==e&&this.setDisplayMode(this.displayMode,{[this.primaryKey]:this.$route.params.id})},initializeSelectedItem(){this.$route.params.id&&(this.parentPath=this.parentPath.replace("/"+this.$route.params.id,"").replace("/:id",""),"create"===this.$route.params.id||"new"===this.$route.params.id?(delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.goToCreatePage({reset:!1}),this.parentPath=this.parentPath.replace("/edit","").replace("/"+this.$route.params.id,"").replace("/:id","")):(this.selectedItem={[this.primaryKey]:this.$route.params.id},this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item))))},onSegmentChange(){},handleScroll(e){if("sideform"!==this._detailPageMode||!this.scrollTarget)return;const t=this.scrollTarget.querySelector(".aw-form");this.scrollTarget&&this.scrollTarget.scrollTop>80?(this.awFormWidth=t.offsetWidth,this.isSideformSticky=!0,t&&(t.style=`width: ${this.awFormWidth}px; text-align:right; float: right`)):(this.isSideformSticky=!1,t&&(t.style=""))},onDisplayModeChanged(e){["table","list","kanban"].includes(e)&&(this.listDisplayMode=e)},onListDisplayModeChanged(e,t){e!==t&&(this.displayMode=e)},getPreviousDisplayMode(e){return"create"===e&&this.postCreateDisplayMode&&(void 0===this._actions[this.postCreateDisplayMode]||this._actions[this.postCreateDisplayMode])?this.postCreateDisplayMode:"edit"===e&&this.postEditDisplayMode&&(void 0===this._actions[this.postEditDisplayMode]||this._actions[this.postEditDisplayMode])?this.postEditDisplayMode:this.previousDisplayMode&&this.previousDisplayMode!==e&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode}}},N=j,E=(s("e666"),Object(I["a"])(N,i,a,!1,null,null,null));t["a"]=E.exports},bf71:function(e,t,s){"use strict";var i=s("900f"),a=s.n(i);a.a},bf7a:function(e,t,s){},bf80:function(e,t){e.exports=vue-datetime},c08b:function(e,t,s){"use strict";var i=s("a8fa"),a=s.n(i);a.a},c290:function(e,t,s){},c2e9:function(e,t,s){"use strict";var i=s("fab7"),a=s.n(i);a.a},c5e1:function(e,t){e.exports=jquery},ca73:function(e,t,s){},cae3:function(e,t,s){"use strict";t["a"]={methods:{formatComponentName(e=!1){const t=this;if(t.$root===t)return"root instance";var s=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(s||"anonymous component")+(t._isVue&&t.$options.__file&&e?" at "+t.$options.__file:"")},$awEmit(e,...t){this.$emit(e,...t,{source:this.formatComponentName(),context:this,item:Object.assign({},{...this.selectedItem}),identity:this.identity,parent:this.parent}),this.$awEventBus&&this.$awEventBus.$emit(e,...t,{source:this.formatComponentName(),context:this,item:Object.assign({},{...this.selectedItem}),identity:this.identity,parent:this.parent})}}}},ccb7:function(e,t,s){},ce30:function(e,t,s){"use strict";var i=s("ee99"),a=s.n(i);a.a},cebe:function(e,t){e.exports=axios},d2aa:function(e,t,s){"use strict";var i=s("5017"),a=s.n(i);a.a},d2cf:function(e,t,s){"use strict";var i=s("60bb"),a=s("3ac4");t["a"]={mxixins:[a["a"]],methods:{getFormtype(e){let{type:t}=e;if(Array.isArray(t)){const s=["string","number","boolean"];for(let i=0;i<s.length;i++)e.type.indexOf(s[i])>-1&&(t=s[i])}if(e.enum)return"select";if(e.relation||e.relationUrl)return"VSelect";switch(t){case"string":return"input";case"integer":case"number":return"input";case"boolean":return"select";case"array":return e.items&&"string"===e.items.type?"vSelect":"VSelect";default:return"input"}},getFormInputType(e){let{type:t}=e;if(Array.isArray(t)){const s=["string","number","boolean"];for(let i=0;i<s.length;i++)e.type.indexOf(s[i])>-1&&(t=s[i])}switch(t){case"string":switch(e.format){case"email":return"email";case"date-time":case"datetime":return"date-time";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return t}},getColumnType(e){if(e.column&&e.column.type)return e.column.type;if(e.columnType)return e.columnType;let{type:t}=e;if(Array.isArray(t)){const s=["string","number","boolean","array"];for(let i=0;i<s.length;i++)e.type.indexOf(s[i])>-1&&(t=s[i])}if(e.relation)return"relation";switch(t){case"string":switch(e.format){case"date-time":return"text";default:return"text"}case"number":case"integer":return"number";case"boolean":return"boolean";case"array":case"object":return"object";default:return"text"}},getSelectEnumFromStore(e){const t=Object(i["isString"])(e)&&0===e.indexOf("$store")?Object(i["get"])(this.$store.state,e.replace("$store.","")):e;return t},transformStateBooleans(e){["visible","required","readonly","disabled"].forEach(t=>{e[t]&&Object(i["isString"])(e[t])&&(e[t]=this.templateParseBoolean(e[t]))})},transformStateFunctions(e){["visible","required","readonly","disabled","value"].forEach(t=>{Object(i["isFunction"])(e[t])&&(e[t]=this.templateParseFunc(e[t]))})},transformStateValue(e,t){["value","default"].forEach(s=>{if(e[s]&&"string"===typeof e[s]&&e[s].includes("{{"))switch(e[s]=this.templateParseText(e[s]),t){case"integer":e[s]=parseInt(e[s],10);break;case"number":e[s]=parseFloat(e[s]);break;case"date":e[s]=new Date(e[s]);break}})},parseSchema(e,t=""){if(!e.properties)return{title:e.title,default:{}};if(t&&e.$schema)return;const s=[],a=Object.keys(e.properties).length;return Object.keys(e.properties).forEach(n=>{const o=e.properties[n];if(Array.isArray(o.type)){const e=o.type.indexOf("null");e>-1&&o.type.splice(e,1),o.type=o.type[0]}if(o.field||(o.field={}),o.field.hidden)console.warn("hidden is @deprecated, please use visible: false",n);else if(0!=o.field.visible&&0!=o.field.visible)if("object"!==o.type||o.field.type){const e=this.getRelationUrl(o),l=this.getRelationKey(o),r=this.getRelationLabel(o),d=Object(i["merge"])({},{url:e||o.relationUrl||o.relation,trackBy:l||o.foreignKey||"id",label:r||"label",name:r||"label",step:o.field.step,readonly:"view"===this.displayMode||o.field.readonly,disabled:"view"===this.displayMode||o.field.disabled,relation:o.relation,foreignKey:l,relationKey:l,relationLabel:r,relationUrl:e},{...o.field.fieldOptions});o.relation&&(d.url=d.url||e||o.relationUrl||o.relation,d.trackBy=l||o.foreignKey,d.searchable=!0);const c=this.getFieldClasses(o,a),u=d.values||this.getSelectEnumFromStore(d.enum)||o.field&&o.field.options||o.items&&o.items.enum||o.enum,p={type:o.field.type||this.getFormtype(o),label:o.title||o.description||Object(i["startCase"])(n),placeholder:o.placeholder,values:u,hint:o.description,model:t+n,min:o.min,max:o.max,multiple:o.field.multiple||"array"===o.type,multi:o.field.multi||"array"===o.type,styleClasses:c,classes:c,innerClasses:"",labelClasses:"",relation:o.relation,foreignKey:l||o.foreignKey,relationUrl:e,relationKey:l,relationLabel:r,...o.field,readonly:"view"===this.displayMode||o.field.readonly,disabled:"view"===this.displayMode||o.field.disabled};d.inputType||(d.inputType=o.field.inputType||this.getFormInputType(o)||"text"),"boolean"!==o.type||"select"!==p.type&&"enyoSelect"!==p.type||p.values&&p.values.length||(p.values=[{id:!0,label:"Yes"},{id:!1,label:"No"},{id:"",label:"-"}]),"dateTime"!==p.type&&"date"!==p.type||(d.icons={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"}),"array"===p.type&&(p.itemsSchema=o.items),"date"===p.type&&(p.type="dateTime",d.type||(d.type="date")),"time"===p.type&&(p.type="dateTime",d.type||(d.type="time")),"enyoSelect"!==p.type&&"vselect"!==p.type.toLowerCase()||d.options||(p.options=p.values),"vselect"===p.type.toLowerCase()&&d.store&&!d.options&&(d.options=Object(i["get"])(this.$store.state,d.store)),this.transformStateBooleans(p),this.transformStateFunctions(p),this.transformStateValue(p,o.type),p.required&&(p.validator||(p.validator=[]),"string"===typeof p.validator&&(p.validator=[p.validator]),p.required&&p.validator.push("required")),p.viewOptions&&!p.displayOptions&&(console.warn("@deprecated, please rename field.viewOptions into field.displayOptions"),p.viewOptions=p.displayOptions),p.displayOptions=o.field.displayOptions||{...o.column,hidden:void 0,type:this.getColumnType(o),classes:o.column&&o.column.classes,styles:o.column&&o.column.styles},p.displayOptions.relation=p.displayOptions.relation||o.relation,p.displayOptions.relationUrl=p.displayOptions.relationUrl||e,p.displayOptions.relationKey=p.displayOptions.relationKey||l,p.displayOptions.relationLabel=p.displayOptions.relationLabel||r,s.push({...p,fieldOptions:d})}else{const e=this.parseSchema(o,`${t}${n}.`);e.legend=o.title||Object(i["startCase"])(n),e.type="group",e.default={},e.id=n,e.cols=o.field&&o.field.cols,e.styleClasses="subgroup-auto  "+(o.field.styleClasses||""),s.push(e)}}),{fields:s}},parseColumns(e){const t=[];return Object.keys(e).forEach(s=>{let a={};const n=e[s];n.hidden||n.column&&n.column.hidden||(a.field=s,a.type=this.getColumnType(n),a.label=Object(i["startCase"])(n.column&&n.column.title||n.title||s),a.filterOptions={enabled:!1},a.enum=n.column&&n.column.enum||n.enum,a.sortable=!n.column||void 0===n.column.sortable||n.column.sortable,a={...a,...n.column},n.relation&&(a.relation=n.relation,a.relationKey=this.getRelationKey(n),a.relationUrl=this.getRelationUrl(n),a.relationLabel=this.getRelationLabel(n)),t.push(a))}),t.find(e=>"__ACTIONS"===e.field)||t.push({field:"__ACTIONS",label:"Actions",type:"ACTIONS",filterable:!1,enabled:!1}),t},parseSchemaGroups(e){let t=[];return e.formGroups?(e.formGroups.forEach(e=>{t[e.id]||t.push({fields:[],...e,legend:this.$t(e.title),id:e.id,type:"group"})}),t.length<1&&(t=[{legend:"",fields:e.fields}]),t):{}},distributeFieldsInGroups(e,t){return t.forEach(t=>{if(t.group){const s=t.group.split(".");let a={groups:e};s.forEach(e=>{a=Object(i["find"])(a.groups,{id:e})}),a&&(a.fields||(a.fields=[]),a.fields.push(t))}}),e},getFieldClasses(e,t){let s=e.field.classes||e.field.styleClasses||"";if(e.field.cols)s=`${s} col-${e.field.cols||""}`;else{let e;e=this.layout||t>8||"sidebar"===this.detailPageMode?"col-6":"page"===this.detailPageMode?"col-md-3":"col-12",s=`${s} ${e||""}`}return s}}}},d43f:function(e,t,s){},d695:function(e,t,s){},d768:function(e,t,s){"use strict";var i=s("d695"),a=s.n(i);a.a},db65:function(e,t){e.exports=vue-loading-skeleton},ddbd:function(e,t){e.exports=vue-good-table},e0d4:function(e,t,s){"use strict";var i=s("398f"),a=s.n(i);a.a},e42f:function(e,t,s){"use strict";var i=s("c290"),a=s.n(i);a.a},e666:function(e,t,s){"use strict";var i=s("6051"),a=s.n(i);a.a},e75c:function(e,t,s){},eab4:function(e,t,s){"use strict";var i=s("ec26");t["a"]={props:{uuid:{type:String,default:()=>Object(i["a"])(),description:"A unique id for identifying the component. If not provided as a prop, the id is autogenerated"}}}},ebc2:function(e,t,s){},ee99:function(e,t,s){},f2a3:function(e,t){e.exports=vuejs-paginate},f45f:function(e,t,s){"use strict";var i=s("5bf5"),a=s.n(i);a.a},fab7:function(e,t,s){},fbbe:function(e,t,s){},fc4c:function(e,t,s){"use strict";var i=s("3b48"),a=s.n(i);a.a},fc75:function(e,t,s){"use strict";var i=s("ebc2"),a=s.n(i);a.a}});