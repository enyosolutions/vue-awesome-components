(function(e){function t(t){for(var s,a,l=t[0],r=t[1],d=t[2],c=0,u=[];c<l.length;c++)a=l[c],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&u.push(n[a][0]),n[a]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);p&&p(t);while(u.length)u.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},a={app:0},n={app:0},o=[];function l(e){return r.p+"js/"+({}[e]||e)+".js"}function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i={"chunk-1ac876bb":1,"chunk-358346e4":1,"chunk-5ada739e":1,"chunk-63c68468":1,"chunk-91eb2a32":1,"chunk-f70cfd68":1};a[e]?t.push(a[e]):0!==a[e]&&i[e]&&t.push(a[e]=new Promise((function(t,i){for(var s="css/"+({}[e]||e)+".css",n=r.p+s,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var d=o[l],c=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===s||c===n))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){d=u[l],c=d.getAttribute("data-href");if(c===s||c===n)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var s=t&&t.target&&t.target.src||n,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete a[e],p.parentNode.removeChild(p),i(o)},p.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){a[e]=0})));var s=n[e];if(0!==s)if(s)t.push(s[2]);else{var o=new Promise((function(t,i){s=n[e]=[t,i]}));t.push(s[2]=o);var d,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=l(e);var u=new Error;d=function(t){c.onerror=c.onload=null,clearTimeout(p);var i=n[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",u.name="ChunkLoadError",u.type=s,u.request=a,i[1](u)}n[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:c})}),12e4);c.onerror=c.onload=d,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var p=c;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"04e0":function(e,t,i){},"0514":function(e,t,i){},"081e":function(e,t,i){"use strict";t["a"]={props:{options:{type:Array,default:()=>[]},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},data(){return{internalValue:"",isLoading:!1,apiOptions:null}},watch:{url(){this.setIncomingValue(this.vModelValue)},vModelValue(e,t){e!==t&&this.setIncomingValue(e,t)}},computed:{computedOptions(){return this.apiOptions||this.options&&this.options.length&&this.options||this.schema&&this.schema.options||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.options||[]},internalOptions(){return this.computedOptions},dataUrl(){return this.url},filteredProps(){const e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e},isAjax(){return!!this.dataUrl}},methods:{setIncomingValue(e,t){e!=t&&(Array.isArray(e)?this.internalValue=this.computedOptions&&this.computedOptions.filter(t=>{const i="string"===typeof t?t:t[this.trackBy];return e.indexOf(i)>-1}):(this.internalValue=this.computedOptions&&this.computedOptions.find(t=>{const i="string"===typeof t?t:t[this.trackBy];return i==e}),!this.internalValue&&this.url&&this.loadRemoteEntities(e)))},updateSelected(e){if(this.internalValue=e,e&&"string"!==typeof e&&"number"!==typeof e)if(Array.isArray(e)){const t=e.map(e=>e[this.trackBy]);this.$emit("input",t)}else this.$emit("input",e[this.trackBy]);else this.$emit("input",e)},loadRemoteEntities(e){if(this.dataUrl){this.isLoading=!0;const t=this.$awApi.get(this.dataUrl,{params:{listOfValues:this.fieldOptions.queryParams&&this.fieldOptions.queryParams.listOfValues||!1,search:e}});return t.then(e=>{this.apiOptions=this.apiResponseConfig&&this.apiResponseConfig.dataPath?_.get(e,this.apiResponseConfig.dataPath):e.data.body,this.isLoading=!1}).catch(e=>{console.error(e),this.isLoading=!1}),t}return Promise.resolve()}},created(){},mounted(){this.setIncomingValue(this.vModelValue)}}},"0976":function(e,t,i){"use strict";var s=i("9c0b"),a=i.n(s);a.a},"09b8":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-list aw-listing"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("list-header-left"),e.segmentFieldDefinitionComputed?i("div",{staticClass:"card aw-segment-table-wrapper"},[i("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange}})],1):e._e()],2),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("list-header-right")],2),i("div",{staticClass:"card aw-list-card aw-list-component awesome-list"},[e.showHeader?i("div",{staticClass:"card-header",class:"aw-list-header "+(e.opts.headerStyle?"colored-header bg-"+e.opts.headerStyle:"")},[e.isRefreshing?i("ProgressBar"):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-8"},[i("h3",{staticClass:"mb-0 aw-list-title"},[e._t("list-title",(function(){return[e.titleComputed?[e._v(e._s(e.titleComputed)+" "),i("span",{staticClass:"badge badge-primary d-inline p-1"},[e._v(e._s(e.totalCount))])]:e._e()]})),e.actions&&e.actions.refresh?i("auto-refresh-button",{attrs:{"auto-refresh":e.autoRefresh,"auto-refresh-interval":e.autoRefreshInterval},on:{refresh:function(t){return e.getItems({useSkeleton:!0})}},model:{value:e.isRefreshing,callback:function(t){e.isRefreshing=t},expression:"isRefreshing"}}):e._e(),e.actions&&e.actions.changeItemsPerRow?[i("div",{staticClass:"btn-group ml-3",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-sm btn-sm",class:1===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setListMode()}}},[i("i",{class:"fa fa-list"})]),i("button",{staticClass:"btn btn-sm",class:2===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setMediumGridMode()}}},[i("i",{class:"fa fa-th-large"})]),i("button",{staticClass:"btn btn-sm",class:3===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setGridMode()}}},[i("i",{class:"fa fa-th"})])])]:e._e(),i("div",{staticClass:"btn-group float-right aw-list-buttons"},[e._t("top-actions"),e._actions.sort?i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("popper",{ref:"sortPopover",attrs:{trigger:"clickToOpen",options:{placement:"top"}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[e._v(" "+e._s(e.$t("AwesomeCrud.buttons.sort"))+" ")]),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},e._l(e.columns,(function(t,s){return i("button",{key:s,staticClass:"dropdown-item col",class:{"text-light bg-primary":e.columnSortState===t.field,"d-none":"__ACTIONS"===t.field},attrs:{type:"button",href:"#"},on:{click:function(i){return e.toggleColumnSort(t.field)}}},[e._v(" "+e._s(t.label)+" "),e.columnSortState===t.field?i("span",{staticClass:"pull-right"},[e._v(" "+e._s("asc"===e.columnSortDirection?"⬆️":"⬇️"))]):e._e()])})),0)])],1):e._e(),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions&&(e.actions.export||e.actions.import)?i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-simple dropdown-toggle btn-sm",attrs:{slot:"reference",type:"button"},slot:"reference"},[e._v(" "+e._s(e.$t("AwesomeTable.more"))+" ")]),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("top-more-actions"),e.actions&&e.actions.export?i("button",{staticClass:"btn  btn-sm btn-success btn-simple btn-block",on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("common.buttons.excel"))+" ")]):e._e(),i("button",{staticClass:"btn btn-sm  btn-default btn-simple btn-block",on:{click:e.exportCurrentArrayToExcel}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("common.buttons.excel-currentpage"))+" ")])],2)]):e._e(),e.actions.filter&&e.actions.advancedFiltering?i("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.filters"))+" "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+" ")]):e._e()],1)],2)],2),i("p",{staticClass:"card-category"},[e._t("list-subtitle")],2)]),i("div",{staticClass:"col-12 col-md-4"},[e.actions.search?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Rechercher"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()]),i("div",{staticClass:"col-12"},[e.displayAwFilter?i("awesome-filter",{staticClass:"pl-0  ",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e.actions.filter?i("awesome-filter",{attrs:{"display-filters":"",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e()],1)])],1):e._e(),i("div",{staticClass:"card-body"},[e._t("list-empty-state",(function(){return[e._paginatedItems&&e._paginatedItems.length?e._e():[i("div",{staticClass:"text-center"},[e.isRefreshing?i("i",{staticClass:"fa fa-spinner fa-spin fa-3x"}):[e._v(" "+e._s(e.$t("AwesomeTable.empty"))+" "),i("br"),i("i",{staticClass:"fa fa-file-o fa-4x"}),i("br"),e._actions.create?i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.$emit("create")}}},[e._v(" "+e._s(e.$t("AwesomeTable.createFirstItem"))+" "),i("i",{staticClass:"fa fa-plus text-primary"})]):e._e()]],2)]]}),{isRefreshing:e.isRefreshing,items:e._paginatedItems}),e._t("list-items",(function(){return[e._paginatedItems?i("Draggable",{staticClass:"draggable-list w-100 list-responsive",class:e.styles.listWrapperClasses,attrs:{"ghost-class":"moving-card",group:"awesomeList",delay:300,disabled:!e._isDraggable,"delay-on-touch-only":!0},model:{value:e._paginatedItems,callback:function(t){e._paginatedItems=t},expression:"_paginatedItems"}},[e._l(e._paginatedItems,(function(t,s){return[i("div",{key:s,staticClass:"pointer d-flex",class:e.itemWrapperClasses,on:{click:function(i){return e.handleItemClick(i,t)}}},[e._t("list-item",(function(){return[i("div",{staticClass:"card mb-3 aw-list-item flex-fill",class:e.itemClasses,style:{"flex-direction":e.itemsPerRow<2?"row":"column",height:e._itemHeight}},[e._isDraggable?i("i",{staticClass:"draggable-icon fa fa-list"}):e._e(),e.imageField&&e.getItemProperty(t,e.imageField)?i("img",{staticClass:"card-img-top",class:e.imageClasses,style:e.imageStyles,attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),i("div",{staticClass:"card-body"},[e.getItemProperty(t,e.titleField)?i("h4",{staticClass:"card-title aw-list-item-title",domProps:{innerHTML:e._s(e.getItemProperty(t,e.titleField))}}):e._e(),e.getItemProperty(t,e.subtitleField)?i("h6",{staticClass:"card-title aw-list-item-subtitle",domProps:{innerHTML:e._s(e.getItemProperty(t,e.subtitleField))}}):e._e(),!e._useClassicLayout&&e._modelDisplayField&&t[e._modelDisplayField]?i("h3",{staticClass:"card-title aw-list-item-title"},[e._v(" "+e._s(t[e._modelDisplayField])+" ")]):e._e(),e.getItemProperty(t,e.descriptionField)?i("p",{staticClass:"card-text aw-list-item-description"},[i("AwesomeDisplay",e._b({attrs:{value:e.getItemProperty(t,e.descriptionField)}},"AwesomeDisplay",e.getField(e.descriptionField),!1))],1):e._e(),e.columns&&e.columns.length&&!e._useClassicLayout?e._l(e.getAllowedFields(t),(function(t,s){return i("div",{key:s},[i("small",{staticClass:"aw-list-item-field-label text-info"},[e._v(e._s(e.getField(s).label||s))]),i("br"),i("AwesomeDisplay",e._b({attrs:{value:t,relation:e.getField(s).relation,"relation-label":e.getField(s).relationLabel,"relation-url":e.getField(s).relationUrl,"relation-key":e.getField(s).relationKey}},"AwesomeDisplay",e.getField(s),!1))],1)})):e._e(),e.actions.itemButton?i("div",{staticClass:"aw-list-item-action pl-3 pr-3"},[i("button",{staticClass:"btn btn-primary btn-sm ",class:e.itemsPerRow>1?"btn-block":"",on:{click:function(i){return e.handleItemButtonClick(i,t)}}},[e._v(" "+e._s(e.$t("AwesomeList.buttons.itemAction"))+" ")])]):e._e()],2)])]}),{item:t,itemsPerRow:e.itemsPerRow,index:s})],2)]}))],2):e._e()]}),{items:e._paginatedItems,itemsPerRow:e.itemsPerRow,columns:e.columns}),void 0==e.actions.pagination||e.actions.pagination?i("hr"):e._e(),void 0==e.actions.pagination||e.actions.pagination?i("nav",{staticClass:"text-center"},[i("paginate",{attrs:{"page-count":e._pageCount,"page-range":3,"margin-pages":2,"click-handler":e.onPaginationChange,"prev-text":"<< ","next-text":" >>","container-class":"pagination","page-class":"page-item","prev-class":"page-item","page-link-class":"page-link","prev-link-class":"page-link","next-link-class":"page-link"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e()],2)])])},a=[],n=i("97d1"),o=i.n(n),l=i("f2a3"),r=i.n(l),d=i("60bb"),c=i.n(d),u=i("99b5"),p=i("5a3e"),h=i("5d5e"),m=i("6c53"),f=i("cae3"),g=i("3ac4"),b=i("0dce"),y=i("5598"),v=i("32a2"),C=i("76d4"),w=i("3c38"),_={name:"AwesomeList",components:{AutoRefreshButton:C["a"],AwesomeDisplay:b["a"],AwesomeFilter:y["a"],AwesomeSegments:v["a"],Paginate:r.a,popper:o.a,ProgressBar:w["a"]},mixins:[p["a"],u["a"],h["a"],m["a"],f["a"],g["a"]],props:{columns:{type:Array,default:()=>[]},perRow:{type:Number,default:3},perPage:{type:Number,default:6},useGridSystem:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},gridModeItemHeight:{type:[Number,String],default:void 0},listModeItemHeight:{type:[Number,String],default:void 0},imageField:{type:String,description:"The field to use for the image"},titleField:{type:String,description:"The field to use for the title"},subtitleField:{type:String,description:"The field to use for the subtitle"},descriptionField:{type:String,description:"The field to use for the description"},displayFields:{type:Array,description:"The fields to display on the card"},translations:{type:Object,default:()=>({"AwesomeList.buttons.increase":"More items per row","AwesomeList.buttons.decrease":"Less items per row","AwesomeList.buttons.refresh":"Refresh","AwesomeList.buttons.itemAction":"Open"})},styles:{type:Object,default:()=>({})},imageClasses:{type:[Object,String],default:"",description:"classes to put around the image"},itemClasses:{type:[Object,String],default:"shadow",description:"classes to put around the item"},imageStyles:{type:[Object,String],default:"",description:"styles to put around the image"},actions:{type:Object,default:()=>({itemButton:!0,refresh:!0,changeItemsPerRow:!0,pagination:!0,reorder:!1,sort:!0})},defaultOptions:{type:Object,default:()=>({fixedHeader:!1,maxHeight:"",pagination:!0,customInlineActions:[],customBulkActions:[]})},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."}},data(){return{itemsPerRow:3,page:0,data:[],advancedFilters:[],search:"",displayAwFilter:!1,columnSortState:"",columnSortDirection:"asc"}},computed:{titleComputed(){return!1===this.title?"":this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.pluralName?this.$te(this._model.pluralName)?this.$t(this._model.pluralName):c.a.startCase(this._model.pluralName):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):c.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):c.a.startCase(this._model.name):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):c.a.startCase(this.identity):""},_itemHeight(){const e=1===this.itemsPerRow?this.listModeItemHeight:this.gridModeItemHeight;return e?c.a.isString(e)?e:e+"px":"auto"},_pageCount(){const e=parseInt(this.serverParams.perPage)||this.perPage;return e&&this.totalCount?Math.ceil(this.totalCount/e):0},itemWrapperClasses(){if(!this.useGridSystem)return"";switch(this.itemsPerRow){case 0:case 1:default:return"col-12";case 2:return"col-6";case 3:return"col-4";case 4:return"col-3";case 5:case 6:return"col-2";case 12:return"col-1"}},_paginatedItems:{get(){const e=this.serverParams&&this.serverParams.page?this.serverParams.page:1,t=parseInt(this.serverParams.perPage)||this.perPage,i=(e-1)*t;return this.data?"remote"===this.mode?this.data:this.localSearch(this.data,this.search).slice(i,i+t):[]},set(e){this.search||(this.data=e,this.onListReordered(e))}},_useClassicLayout(){return this.imageField||this.titleField||this.subtitleField||this.descriptionField},advancedFiltersCount(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated(){return y["a"].methods.parseFilter(this.advancedFilters,{dispatch:!1})},_modelDisplayField(){return this._model&&this._model.displayField?this._model.displayField:this.primaryKey?this.primaryKey:""},_model(){return this.model||this.getModelFromStore(this.identity)},_filterableColumns(){return this.columns.map(e=>(e.filterOptions&&(e.filterOptions.enabled=(void 0===this.filterable||this.filterable)&&(void 0===e.filterOptions.filterable||e.filterOptions.filterable)),e))},_isDraggable(){return this.actions.reorder&&!this.search}},watch:{perRow:"resetItemsPerRow",rows:"refreshLocalData",search(e){this.onSearch({searchTerm:e})}},created(){},beforeMount(){},mounted(){this.perRow&&this.resetItemsPerRow()},beforeDestroy(){},methods:{getAllowedFields(e){let t={};return Object.keys(e).forEach(i=>{this.columns.forEach(s=>{s.field===i&&(t=Object.assign(t,c.a.pick(e,[i])))})}),t},getField(e){const t=c.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},getFieldType(e){const t=c.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},resetItemsPerRow(){this.itemsPerRow=this.perRow},increaseItemsPerRow(e){this.itemsPerRow+=e},decreaseItemsPerRow(e){this.itemsPerRow-=e},setGridMode(){this.itemsPerRow=3},setListMode(){this.itemsPerRow=1},setMediumGridMode(){this.itemsPerRow=2},handleItemClick(e,t){this.$emit("itemClicked",t)},handleItemButtonClick(e,t){this.$emit("itemButtonClicked",t)},onPaginationChange(e){this.serverParams.page=e,"remote"===this.mode&&this.getItems()},advancedFiltering(e,t){this.updateParams({advancedFilters:c.a.cloneDeep(t),parsedAdvancedFilters:c.a.cloneDeep(e),page:0}),this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},toggleFilter(){this.filterable=!this.filterable,this.filterable||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0}))},localSearch(e,t){let i=e.filter(e=>{if(!this.search)return!0;try{return JSON.stringify(Object.values(e)).match(new RegExp(this.search,"i"))}catch(t){console.warn("err",t)}return!0});return this.columnSortState?(i=c.a.sortBy(i,this.columnSortState),"asc"===this.columnSortDirection?i:i.reverse()):i},onListReordered(e){this.$emit("reorder",e)},toggleColumnSort(e){const t={[e]:!0};this.columnSortState===e?this.columnSortDirection="asc"===this.columnSortDirection?"desc":"asc":this.columnSortState=e,this.$refs.sortPopover.doClose(),"remote"===this.mode&&(t[e]=this.columnSortDirection,this.pushChangesToRouter({query:{sort:t}},!0),this.updateParams({sort:t}),this.getItems({useSkeleton:!0}))}}},O=_,$=(i("fc75"),i("2877")),A=Object($["a"])(O,s,a,!1,null,null,null);t["a"]=A.exports},"0dce":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"image"===e.$props.type?i("display-image",e._b({staticClass:"aw-display",attrs:{src:e.$props.value}},"display-image",e.$props,!1)):"boolean"===e.$props.type?i("display-boolean",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-boolean",e.$props,!1)):"url"===e.$props.type?i("display-url",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-url",e.$props,!1)):"html"===e.$props.type?i("display-html",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-html",e.$props,!1)):"object"===e.$props.type?i("display-object",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-object",e.$props,!1)):"checkbox"===e.$props.type?i("display-checkbox",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-checkbox",e.$props,!1)):"date"===e.$props.type||"datetime"===e.$props.type?i("display-date",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-date",e.$props,!1)):"relation"===e.$props.type?i("display-relation",e._b({staticClass:"aw-display",attrs:{relation:e.relation,relationKey:e.relationKey,relationUrl:e.relationUrl,relationLabel:e.relationLabel,value:e.$props.value}},"display-relation",e.$props,!1)):"component"===e.$props.type?i(e.$props.component,e._b({tag:"div",staticClass:"aw-display aw-display-component",attrs:{value:e.$props.value}},"div",e.$props,!1)):i("display-default",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-default",e.$props,!1))},a=[],n=i("2914"),o=i("11fc"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"aw-display-image",class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.src?i("div",{staticClass:"pointer"},[i("img",{staticClass:"aw-display-image-img",class:e.$props.imageClasses,style:e.$props.imageStyles,attrs:{src:e.$props.src,alt:"image"}}),e.value?i("div",{staticClass:"image-actions"},[i("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openImageInTab(e.$props.src)}}},[i("i",{staticClass:"fa fa-external-link"})])]):e._e()]):e._e()])},r=[],d={name:"DisplayImage",mixins:[n["a"]],methods:{openImageInTab(e){window.open(e,"_blank")}}},c=d,u=(i("d768"),i("2877")),p=Object(u["a"])(c,l,r,!1,null,null,null),h=p.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles,attrs:{"data-value":e.$props.value}},"div",e.$props,!1),[i("i",{staticClass:"fa",class:{"fa-check text-success":e.$props.value,"fa-times text-danger":!e.$props.value&&void 0!==e.$props.value}})])},f=[],g={name:"DisplayBoolean",mixins:[n["a"]]},b=g,y=Object(u["a"])(b,m,f,!1,null,null,null),v=y.exports,C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"aw-display-date pointer",class:e.$props.classes,domProps:{innerHTML:e._s(e.computedDate)}},"div",e.$props,!1))},w=[],_=i("5a0c"),O=i.n(_),$=i("f906"),A=i.n($);O.a.extend(A.a);var F={name:"DisplayDate",mixins:[n["a"]],computed:{computedFormat(){if(this.format)return this.format;switch(this.type){case"datetime":return"DD/MM/YYYY <br/> HH:mm";case"date":return"DD/MM/YYYY";case"time":return"HH:mm";default:return""}},computedDate(){if(!this.value)return"...";let e;e="undefined"!==typeof this.inputFormat?O()(this.value,this.inputFormat).toDate():new Date(this.value);let t=O()(e).format(this.computedFormat);return t.replace(/<(?!br\s*\/?)[^>]+>/g,"")}}},k=F,S=(i("854c"),Object(u["a"])(k,C,w,!1,null,null,null)),x=S.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.value?i("a",{staticClass:"ajax-table-href ",class:e.embed?"pull-right":"",attrs:{href:e.$props.value,target:"_blank"}},[e.embed?e._e():i("span",[e._v(" "+e._s(e.$props.label||e.$props.value)+" ")]),i("i",{staticClass:"fa fa-external-link"})]):e._e(),e.embed&&e.$props.value?[i("iframe",e._b({staticClass:"aw-display-iframe ",class:e.$props.classes,attrs:{value:"",src:e.$props.value,frameborder:"0"}},"iframe",e.$props,!1))]:e._e()],2)},I=[],R={name:"DisplayUrl",mixins:[n["a"]]},D=R,L=Object(u["a"])(D,P,I,!1,null,null,null),T=L.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isSafe?i("div",e._b({staticClass:"pointer",class:e.$props.classes,style:e.$props.styles,domProps:{innerHTML:e._s(e.strippedContent)}},"div",e.$props,!1)):e._e(),e.isSafe?e._e():i("iframe",e._b({ref:"myIframe",staticClass:"aw-display-iframe",class:e.$props.classes,style:e.$props.styles,attrs:{value:"",srcdoc:e.strippedContent,frameborder:"0"}},"iframe",e.$props,!1)),e.displayExpandButton&&!e.expanded?i("button",{staticClass:"btn pull-right btn-expand text-primary",on:{click:function(t){return e.onButonClick()}}},[i("i",{staticClass:"fa fa-expand"})]):e._e()])},N=[],j=i("07d2"),E=i.n(j),B={name:"DisplayHtml",mixins:[n["a"]],computed:{strippedContent(){return this.striptags?E()(this.$props.value,this.tagsToKeep):this.$props.value}},data(){return{expanded:!1}},methods:{onButonClick(){const e=this.$refs.myIframe&&this.$refs.myIframe.contentWindow&&this.$refs.myIframe.contentWindow.document.documentElement.scrollHeight?this.$refs.myIframe.contentWindow.document.documentElement.scrollHeight+15+"px":"100vh";this.$refs.myIframe.style.height=e,this.expanded=!0}}},V=B,q=(i("bf71"),Object(u["a"])(V,M,N,!1,null,null,null)),U=q.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pointer text-avoid-overflow aw-display-object",class:e.$props.wrapperClasses,style:e.$props.wrapperStyles,attrs:{value:e.$props.value,field:e.$props.field}},[i("div",{class:e.$props.classes,style:e.$props.styles},[e._useArrayMode||e.multiple?[e._l(e.$props.value,(function(t,s){return[i("div",{key:s,staticClass:"badge badge-info aw-display-object-item mr-1"},[[e._v(" "+e._s(e.getValue(t))+" ")],e._valueIsArray?e._e():[i("label",[e._v(e._s(s)+":")]),i("label",{},[e._v(e._s(t))]),e._v(" | ")]],2)]}))]:[e._v(" "+e._s(e._value)+" ")]],2)])},H=[],W=i("3ac4"),G={name:"DisplayObject",mixins:[n["a"],W["a"]],computed:{_valueIsArray(){return Array.isArray(this.value)},_useArrayMode(){return this.multiple||this._valueIsArray},_value(){return this.getValue(this.value)}},methods:{getValue(e){const t=this.displayField&&void 0!==e?e[this.displayField]:e;return this.format&&this.format.includes("{{")?this.templateParser(this.format,{value:t,currentItem:e}):t}}},z=G,Y=Object(u["a"])(z,K,H,!1,null,null,null),Q=Y.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow aw-display-relation"},"div",e.$props,!1),[e._values&&e._values.length?[e._l(e._values,(function(t){return[i("div",{key:t,attrs:{title:e.getLabel(t)+" ("+t+")",tooltip:t}},[t?i("span",{staticClass:"badge badge-info pointer",class:e._relationIsClickable?"pointer":"",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.onClick.apply(null,arguments)}}},[e._v(" "+e._s(e.getLabel(t))+" ")]):e._e(),e.displayActions?[t?i("span",{staticClass:"copy-link",on:{click:function(i){return e.copy(t)}}},[e._v("  "),i("i",{staticClass:"fa fa-clone text-info"})]):e._e(),t&&!e.onClickUrl?i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.relation)+"/"+t}},[e._v("  "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),t&&e.onClickUrl&&e.isFunction(e.onClickUrl)?i("div",{staticClass:"external-link",on:{click:function(i){return e.onClickUrl(t)}}},[e._v("  "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),t&&e.onClickUrl&&!e.isFunction(e.onClickUrl)?i("router-link",{staticClass:"external-link",attrs:{to:e._parsedClickUrl}},[e._v("  "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e()]:e._e()],2)]}))]:i("div",[e._v(" ... ")])],2)},Z=[],X=i("60bb"),ee=i.n(X),te=i("99b5"),ie=i("5a3e"),se={name:"DisplayRelation",mixins:[n["a"],o["a"],te["a"],ie["a"]],computed:{_relationUrl(){return this.relationUrl||this.relation},_relationLabel(){return this.relationLabel||"label"},_label(){return this.storePath||this.store?this.getStoreLabel(this.value):this.getApiLabel(this.value)},_displayLabelCache(){return this.displayLabelCache||this.awComponentsConfig&&this.awComponentsConfig.displayLabelsCache||this.internalCache||{}},_values(){return this.$props.value?Array.isArray(this.$props.value)?this.$props.value:[this.$props.value]:this.$props.value},_relationIsClickable(){return this.isClickable||void 0===this.isClickable&&this.awComponentsConfig&&this.awComponentsConfig.relationsAreClickable},_parsedClickUrl(){return this.parseUrl(this.onClickUrl,{[this.relationKey||this.primaryKey||"id"]:this.value,[this.field]:this.value})}},mounted(){this.relationUrl&&this.value&&this.$awEventBus&&this.$awEventBus.$on(`displayRelation-${this.relationUrl}-${this.value}`,this.updateComponent)},beforeDestroy(){this.$awEventBus&&this.$awEventBus.$off(`displayRelation-${this.relationUrl}-${this.value}`,this.updateComponent)},watch:{relationUrl(e){}},data(){return{internalCache:{},timeoutId:null}},methods:{onClick(){this._relationIsClickable&&(this.timeoutId?(clearTimeout(this.timeoutId),this.timeoutId=null,this.goToRelation(this.value)):this.timeoutId=setTimeout(()=>{this.timeoutId=null},200))},kebabCase:ee.a.kebabCase,isFunction:ee.a.isFunction,getLabel(e){return this.storePath||this.store?this.getStoreLabel(e):this.getApiLabel(e)},goToRelation(e){if(e&&this.onClickUrl)return ee.a.isFunction(this.onClickUrl)?this.onClickUrl(e):this.$router.push(this._parsedClickUrl);e&&this.$router.push("/app/"+this.kebabCase(this.relation)+"/"+e)},formatLabel(e,t=null){let i=t||this._relationLabel,s="";return s=i.indexOf("{{")>-1?this.templateParser(i,e):ee.a.get(e,i,""),s},getStoreLabel(e){if(!e)return;if(this._displayLabelCache[e]&&this._displayLabelCache[e]!==e)return this._displayLabelCache[e];if(!this.store&&!(this.storePath&&this.$store&&ee.a.get(this.$store.state,this.storePath)))return;const t=this.store?this.store:this.$store&&ee.a.get(this.$store.state,this.storePath);if(!t)return;const i=t&&t.find(t=>t[this.relationKey]===e);if(!i)return;const s=i[this.relationLabel]||this.templateParser(this.relationLabel,i);return s&&this.$set(this._displayLabelCache,e,s),s||e},getApiLabel(e){if(!this.relationUrl&&e&&this.relationLabel){const t=ee.a.isObject(e)&&this.relationLabel?e[this.relationLabel]||this.templatingMixin(this.relationLabel,e):null;if(t)return t}if(!this.relationUrl)return e;const[t,i]=this.relationUrl.split("?"),s=`${t}/${e}?${i||""}`;return e&&this._displayLabelCache[s]||(this.$set(this._displayLabelCache,s,e),this.$awApi.get(s).then(t=>{const i=this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?ee.a.get(t,this.apiResponseConfig.dataPath):t.data;t.data.totalCount&&(this.totalCount=t.data.totalCount);const a=""+this.formatLabel(i,this.relationLabel);return a?this.$set(this._displayLabelCache,s,a):this.$set(this._displayLabelCache,s,e),this.$awEventBus&&this.$awEventBus.$emit(`displayRelation-${this.relationUrl}-${this.value}`),this.$forceUpdate(),a}).catch(t=>{console.warn("getApiLabel result [",this.relationUrl.length,"]",s,this.relationLabel,t.message),this.$set(this._displayLabelCache,s,e)})),this._displayLabelCache[s]},copyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},copy(e){this.copyToClipboard(""+this.getLabel(e)),this.$awNotify&&this.$awNotify(this.$te("awesome-display.value-copied")?this.$t("awesome-display.value-copied"):"Value copied")},updateComponent(){this.$forceUpdate()}}},ae=se,ne=(i("5694"),Object(u["a"])(ae,J,Z,!1,null,null,null)),oe=ne.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"pointer text-avoid-overflow",class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[!0===e.$props.value?i("label",[i("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",checked:"",disabled:""}})]):i("label",[i("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",disabled:""}})])])},re=[],de={name:"DisplayCheckbox",mixins:[n["a"]]},ce=de,ue=Object(u["a"])(ce,le,re,!1,null,null,null),pe=ue.exports,he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.tag,e._b({tag:"div",class:e.$props.class+" aw-display-field ajax-table-col-"+e.$props.field+" ajax-table-col-value-"+e.valueClass+" "+e.$props.classes,style:e.$props.styles,on:{click:function(t){return e.$emit("clicked",e.$props)}}},"div",e.$props,!1),[e._v(" "+e._s(e.prefix||"")+e._s(e.valueDisplay)+e._s(e.suffix||"")+" ")])},me=[],fe={name:"DisplayDefault",mixins:[n["a"]],computed:{valueDisplay(){return void 0!==this.value&&null!==this.value?this.value:"..."},valueClass(){return this.$props.value&&this.$props.value&&Object(X["isString"])(this.$props.value)?this.$props.value.replace(/(<([^>]+)>)/gi,"").replace(/ /g,""):""}}},ge=fe,be=Object(u["a"])(ge,he,me,!1,null,null,null),ye=be.exports,ve={name:"AwesomeDisplay",mixins:[n["a"],o["a"]],components:{DisplayCheckbox:pe,DisplayBoolean:v,DisplayImage:h,DisplayUrl:T,DisplayHtml:U,DisplayObject:Q,DisplayRelation:oe,DisplayDefault:ye,DisplayDate:x},methods:{onClick(e){this.clickOnItem(e)}}},Ce=ve,we=Object(u["a"])(Ce,s,a,!1,null,null,null);t["a"]=we.exports},"0f45":function(e,t,i){},"0faf":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!=e.schema?i("div",{staticClass:"vue-form-generator"},[i("form-group",{class:e.styleClasses,attrs:{tag:e.tag,fields:e.fields,group:e.group,model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){var s=t.group,a=t.groupLegend;return[e._t("group-legend",(function(){return[a?i("legend",{staticClass:"aw-form-group-legend"},[i("span",{domProps:{innerHTML:e._s(a)}})]):e._e()]}),{group:s,groupLegend:a})]}},{key:"group-help",fn:function(t){var s=t.group;return[e._t("group-help",(function(){return[s.help?i("span",{staticClass:"help"},[i("i",{staticClass:"icon"}),i("div",{staticClass:"helpText",domProps:{innerHTML:e._s(s.help)}})]):e._e()]}),{group:s})]}},{key:"element",fn:function(t){return[i("form-element",{attrs:{field:t.field,model:t.model,options:t.options,errors:t.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"label",fn:function(t){var s=t.field,a=t.getValueFromOption;return[e._t("label",(function(){return[i("span",{domProps:{innerHTML:e._s(s.label)}})]}),{field:s,getValueFromOption:a})]}},{key:"help",fn:function(t){var s=t.field,a=t.getValueFromOption;return[e._t("help",(function(){return[s.help?i("span",{staticClass:"help"},[i("i",{staticClass:"icon"}),i("div",{staticClass:"helpText",domProps:{innerHTML:e._s(s.help)}})]):e._e()]}),{field:s,getValueFromOption:a})]}},{key:"hint",fn:function(t){var s=t.field,a=t.getValueFromOption;return[e._t("hint",(function(){return[i("div",{staticClass:"hint",domProps:{innerHTML:e._s(a(s,"hint",void 0))}})]}),{field:s,getValueFromOption:a})]}},{key:"errors",fn:function(t){var s=t.childErrors,a=t.field,n=t.getValueFromOption;return[e._t("errors",(function(){return[i("div",{staticClass:"errors help-block"},e._l(s,(function(t,s){return i("span",{key:s,domProps:{innerHTML:e._s(e.translate(t))}})})),0)]}),{errors:s,field:a,getValueFromOption:n})]}}],null,!0)})]}}],null,!0)})],1):e._e()},a=[],n=i("8bbf"),o=i.n(n),l=i("60bb"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fields&&e.groupIsVisible?i(e.tag,{ref:"group",tag:"fieldset",class:[e.groupRowClasses,e.validationClass]},[e._t("group-legend",null,{group:e.group,groupLegend:e.groupLegend}),e._t("group-help",null,{group:e.group}),i("div",{staticClass:"row m-0",staticStyle:{flex:"1"}},[e._l(e.fields,(function(t,s){return[e.fieldVisible(t)?["group"===t.type?[i("div",{key:s,class:t.cols?"col-"+t.cols:""},[i("div",{staticClass:"wrapper",class:t.wrapperClasses},[i("form-group",{attrs:{fields:t.fields,group:t,tag:e.getGroupTag(t),model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){return[e._t("group-legend",null,{group:t.group,groupLegend:t.groupLegend})]}},{key:"group-help",fn:function(t){return[e._t("group-help",null,{group:t.group})]}},{key:"element",fn:function(t){return[e._t("element",null,{field:t.field,model:t.model,options:t.options,errors:t.errors,eventBus:t.eventBus})]}}],null,!0)})],1)])]:[e._t("element",null,{field:t,model:e.model,options:e.options,errors:e.errors,eventBus:e.eventBus})]]:e._e()]}))],2)],2):e._e()},d=[],c={methods:{getStyleClasses(e,t){let i=e.styleClasses;return Object(l["isArray"])(i)?i.forEach(e=>{t[e]=!0}):Object(l["isString"])(i)&&(t[i]=!0),t}}},u={name:"form-group",mixins:[c],props:{fields:{type:Array,default(){return[]}},group:{type:Object,default(){return{}}},tag:{type:String,default:"fieldset",validator(e){return e.length>0}},model:{type:Object,default(){return{}}},options:{type:Object,default(){return{}}},errors:{type:Array,default(){return[]}},eventBus:{type:Object,default(){return{}}}},data(){return{validationClass:{}}},watch:{},computed:{groupLegend(){return this.group&&this.group.legend?this.group.legend:""},groupRowClasses(){let e={"field-group":!0};return Object(l["isNil"])(this.group)||(e=this.getStyleClasses(this.group,e)),e},groupIsVisible(){return this.group&&this.group.visible&&Object(l["isFunction"])(this.group.visible)?this.group.visible.call(this,this.model,this.group,this):!!Object(l["isNil"])(this.group.visible)||this.group.visible}},methods:{fieldVisible(e){return Object(l["isFunction"])(e.visible)?e.visible.call(this,this.model,e,this):!!Object(l["isNil"])(e.visible)||e.visible},getGroupTag(e){return Object(l["isNil"])(e.tag)?this.tag:e.tag}},created(){this.eventBus.$on("field-validated",()=>{this.$nextTick(()=>{let e=null!==this.$refs.group.querySelector(".form-element."+Object(l["get"])(this.options,"validationErrorClass","error"));this.validationClass={[Object(l["get"])(this.options,"validationErrorClass","error")]:e,[Object(l["get"])(this.options,"validationSuccessClass","valid")]:!e}})})}},p=u,h=i("2877"),m=Object(h["a"])(p,r,d,!1,null,null,null),f=m.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-element",class:[e.fieldRowClasses]},[i("div",{staticClass:"form-inner-div",class:e.field.innerClasses},[e.fieldTypeHasLabel?i("label",{class:e.field.labelClasses,attrs:{for:e.fieldID}},[e._t("label",null,{field:e.field,getValueFromOption:e.getValueFromOption}),e._t("help",null,{field:e.field,getValueFromOption:e.getValueFromOption})],2):e._e(),e.isViewMode?[i("awesome-display",e._b({attrs:{type:e.viewFieldType,value:e.fieldValue,relation:e.field.displayOptions.relation,"relation-url":e.field.displayOptions.relationUrl,"relation-key":e.field.displayOptions.relationKey,"relation-label":e.field.displayOptions.relationLabel}},"awesome-display",e.field.displayOptions,!1))]:i("div",{staticClass:"field-content"},[i("div",{staticClass:"field-wrap"},[i(e.fieldType,{ref:"child",tag:"component",attrs:{model:e.model,schema:e.field,"form-options":e.options,"event-bus":e.eventBus,"field-i-d":e.fieldID},on:{"field-touched":e.onFieldTouched,"errors-updated":e.onChildValidated}}),e.buttonsAreVisible?i("div",{staticClass:"buttons"},e._l(e.field.buttons,(function(t,s){return i("button",{key:s,class:t.classes,domProps:{textContent:e._s(t.label)},on:{click:function(i){return e.buttonClickHandler(t,e.field,i)}}})})),0):e._e()],1),e.fieldHasHint?[e._t("hint",null,{field:e.field,getValueFromOption:e.getValueFromOption})]:e._e(),e.fieldHasErrors?[e._t("errors",null,{childErrors:e.childErrors,field:e.field,getValueFromOption:e.getValueFromOption})]:e._e()],2)],2)])},b=[],y=i("8449"),v=i("0dce"),C={name:"form-element",mixins:[c],components:{AwesomeDisplay:v["a"]},props:{model:{type:Object,default(){return{}}},options:{type:Object,default(){return{}}},field:{type:Object,required:!0},errors:{type:Array,default(){return[]}},eventBus:{type:Object,default(){return{}}}},mounted(){this.model&&"object"===typeof this.model&&this.field.value},data(){return{childErrors:[],childTouched:!1}},computed:{fieldID(){const e=Object(l["get"])(this.options,"fieldIdPrefix","");return Object(y["slugifyFormID"])(this.field,e)},fieldType(){return"field-"+(this.field&&this.field.type?this.field.type:"input")},viewFieldType(){return this.field.displayOptions&&this.field.displayOptions.type?this.field.displayOptions.type:this.field.fieldOptions.relation?"relation":this.field.fieldOptions.inputType},fieldTypeHasLabel(){if(Object(l["isNil"])(this.field.label))return!1;let e=this.getValueFromOption(this.field,"fieldOptions"),t="input"===this.field.type&&!Object(l["isNil"])(e),i=t?e.inputType:this.field.type;const s=["button","submit","reset"];return!s.includes(i)},fieldHasHint(){return!Object(l["isNil"])(this.field.hint)},fieldHasErrors(){return this.childErrors.length>0},fieldRowClasses(){let e={[Object(l["get"])(this.options,"validationErrorClass","error")]:this.fieldHasErrors,[Object(l["get"])(this.options,"validationSuccessClass","valid")]:!this.fieldHasErrors&&this.childTouched,[Object(l["get"])(this.options,"validationCleanClass","clean")]:!this.fieldHasErrors&&!this.childTouched,disabled:this.getValueFromOption(this.field,"disabled"),readonly:this.getValueFromOption(this.field,"readonly"),featured:this.getValueFromOption(this.field,"featured"),required:this.getValueFromOption(this.field,"required")};return e=this.getStyleClasses(this.field,e),Object(l["isNil"])(this.field.type)||(e["field-"+this.field.type]=!0),e},buttonsAreVisible(){return Object(l["isArray"])(this.field.buttons)&&this.field.buttons.length>0},isViewMode(){return"view"===this.field.mode},fieldValue(){return Object(l["get"])(this.model,this.field.model)}},methods:{getValueFromOption(e,t,i=!1){return Object(l["isFunction"])(e[t])?e[t].call(this,this.model,e,this):Object(l["isNil"])(e[t])?i:e[t]},buttonClickHandler(e,t,i){return e.onclick.call(this,this.model,t,i,this)},onFieldTouched(){this.childTouched=!0},onChildValidated(e){this.childErrors=e}}},w=C,_=(i("0976"),Object(h["a"])(w,g,b,!1,null,null,null)),O=_.exports,$={name:"form-generator",components:{formGroup:f,formElement:O},props:{schema:{type:Object,default(){return{}}},model:{type:Object,default(){return{}}},isGroupVisible(e){return Object(l["isFunction"])(e.visible)?e.visible.call(this,this.model,e,this):!!Object(l["isNil"])(e.visible)||e.visible},options:{type:Object,default(){return{validateAfterLoad:!1,validateAsync:!1,validateAfterChanged:!1,validationErrorClass:"error",validationSuccessClass:""}}},isNewModel:{type:Boolean,default:!1},tag:{type:String,default:"fieldset",validator(e){return e.length>0}}},data(){const e=new o.a;return{eventBus:e,totalNumberOfFields:0,errors:[]}},computed:{fields(){return this.schema&&this.schema.fields?(this.schema.mode&&this.injectFieldMode(this.schema.fields),this.schema.fields):{}},group(){return this.schema&&this.schema.group?this.schema.group:{}},styleClasses(){return this.schema&&this.schema.styleClasses?this.schema.styleClasses:{}}},watch:{model:{handler(e,t){t!==e&&null!=e&&this.$nextTick(()=>{!0===this.options.validateAfterLoad&&!0!==this.isNewModel?this.validate().then(()=>{},()=>{}):this.child&&this.child.clearValidationErrors&&this.clearValidationErrors()})},immediate:()=>!0}},methods:{translate(...e){return this.$te,this.$te(...e)?this.$t(...e):e&&e[0]},fillErrors(e,t,i){Object(l["isArray"])(e)&&e.length>0&&e.forEach(e=>{t.push({uid:i,error:e})})},onFieldValidated(e,t,i){this.errors=this.errors.filter(e=>e.uid!==i),this.fillErrors(t,this.errors,i);let s=0===this.errors.length;this.$emit("validated",s,this.errors,this)},onModelUpdated(e,t){this.$emit("model-updated",e,t)},validate(){return new Promise((e,t)=>{this.clearValidationErrors();let i=0,s=[];this.eventBus.$on("field-deregistering",()=>{this.eventBus.$emit("fields-validation-terminated",s),t(s)});const a=(n,o,r)=>{if(i++,this.fillErrors(o,s,r),i===this.totalNumberOfFields){this.eventBus.$off("field-validated",a),Object(l["get"])(this.options,"validateAfterChanged",!1)&&this.eventBus.$on("field-validated",this.onFieldValidated),this.errors=s;let i=0===s.length;this.$emit("validated",i,s,this),this.eventBus.$emit("fields-validation-terminated",s),i?e():t(s)}};Object(l["get"])(this.options,"validateAfterChanged",!1)&&this.eventBus.$off("field-validated",this.onFieldValidated),this.eventBus.$on("field-validated",a),this.eventBus.$emit("validate-fields",this)})},clearValidationErrors(){this.errors.splice(0),this.eventBus.$emit("clear-validation-errors",this.clearValidationErrors)},injectFieldMode(e){this.schema.mode&&e.forEach(e=>{e.mode=this.schema.mode,e.fields&&this.injectFieldMode(e.fields)})}},created(){Object(l["get"])(this.options,"validateAfterChanged",!1)&&this.eventBus.$on("field-validated",this.onFieldValidated),this.eventBus.$on("model-updated",this.onModelUpdated),this.eventBus.$on("fields-validation-trigger",()=>this.validate().then(()=>{},()=>{})),this.eventBus.$on("field-registering",()=>{this.totalNumberOfFields=this.totalNumberOfFields+1}),this.eventBus.$on("field-deregistering",()=>{this.totalNumberOfFields=this.totalNumberOfFields-1})},beforeDestroy(){this.eventBus.$off("field-validated"),this.eventBus.$off("model-updated"),this.eventBus.$off("fields-validation-trigger"),this.eventBus.$off("field-registering"),this.eventBus.$off("field-deregistering")}},A=$,F=(i("84af"),Object(h["a"])(A,s,a,!1,null,null,null));t["a"]=F.exports},1:function(e,t){},1138:function(e,t,i){"use strict";var s=i("ccb7"),a=i.n(s);a.a},"11fc":function(e,t,i){"use strict";var s=i("60bb"),a=i.n(s),n=i("3ac4");t["a"]={mixins:[n["a"]],props:{primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey?this.awComponentsConfig.primaryKey:"id"}},url:{type:[String,Function],default:""},apiUrl:{type:[String,Function],default:""},apiTimeout:{type:[String,Number],default:2e4,description:"the duration after with the request will be considered as failed"},apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:()=>({dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",filtersOperator:"",sortField:"sort",searchField:"search"})},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data.body",totalCountPath:"data.totalCount"})},apiQueryParams:{type:Object,default:()=>{},note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestPermanentBodyParams:{type:Object,default:()=>({}),description:"Object of data that will always be merged in the request sent to the server"},apiRequestPermanentQueryParams:{type:Object,default:()=>({}),description:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:()=>({})},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:()=>({})}},mounted(){this.url&&console.warn("Url is @deprecated. Please use api url instead.")},computed:{params(){return console.info("BC this.params is deprecated, use this.apiQueryParams instead"),this.apiQueryParams},opts(){return a.a.merge(this.defaultOptions,this.options)},_url(){const e=this.apiUrl||this.url||this.getApiUrl("apiUrl")||this.getApiUrl("url");return"function"===typeof e?e({parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items}):e&&e.includes("{{")?this.templateParseUrl(e,{...this.selectedItem,parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items}):e},_translatedServerParams(){const e={};return Object.keys(this.serverParams||{}).forEach(t=>{const i=this.apiRequestConfig[t+"Field"]||t;e[i]=this.serverParams[t]}),e},_selectedItemUrl(){if(!this.selectedItem)return null;let e;return this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost"+this._url),e=`${e.pathname}/${this.selectedItem[this.primaryKey]}${e.search}`):e=`${this._url}/${this.selectedItem[this.primaryKey]}`,e}},created(){if(!this.$awApi)try{const e=i("cebe");this.$awApi=e}catch(e){}},methods:{getData(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?a.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?a.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},mergeSelectedItemWithRequestProps(){this.apiRequestPermanentBodyParams&&(this.selectedItem=a.a.merge(this.selectedItem,this.apiRequestPermanentBodyParams))},getApiUrl(e){return this[e]||this.mergedOptions&&this.mergedOptions[e]||this.options&&this.options[e]||this._model&&this._model[e]||this.field&&this.field.url||this.field&&this.field.fieldoptions.url}}}},"13ff":function(e,t,i){},"155a":function(e,t,i){},1893:function(e,t,i){"use strict";var s=i("fbbe"),a=i.n(s);a.a},"1a0a":function(e,t,i){},"1a83":function(e,t,i){"use strict";var s=i("b549"),a=i.n(s);a.a},"1b62":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("60bb"),a=i.n(s);const n={methods:{getSegmentLabel(e){if(!e)return"";let t=e.title||e.label;return t||("string"===typeof e&&e.indexOf("|")>-1?e.split("|")[1]:a.a.startCase(e.field||e.name||(a.a.isString(e)?e:this.getSegmentKey(e))))},getSegmentKey(e){if(!e)return"";let t=e.model||e.field||e.key||e.id;return t||("string"===typeof e&&e.indexOf("|")>-1?e.split("|")[0]:e)}}};i("f1e6"),i("11fc"),i("99b5"),i("5d5e"),i("cae3"),i("b679"),i("c6ce"),i("383c"),i("2914"),i("5a3e"),i("b5ef"),i("a035"),i("96a7"),i("d2cf"),i("6c53"),i("2743"),i("081e"),i("3ac4"),i("eab4")},"1c05":function(e,t,i){"use strict";var s={};i.r(s),i.d(s,"fieldCheckbox",(function(){return O})),i.d(s,"fieldChecklist",(function(){return P})),i.d(s,"fieldInput",(function(){return N})),i.d(s,"fieldLabel",(function(){return Y})),i.d(s,"fieldRadios",(function(){return te})),i.d(s,"fieldSelect",(function(){return le})),i.d(s,"fieldSubmit",(function(){return he})),i.d(s,"fieldTextArea",(function(){return ve})),i.d(s,"fieldUpload",(function(){return Ae})),i.d(s,"fieldCleave",(function(){return Ie})),i.d(s,"fieldDateTimePicker",(function(){return Ee})),i.d(s,"fieldGoogleAddress",(function(){return He})),i.d(s,"fieldImage",(function(){return Je})),i.d(s,"fieldNoUiSlider",(function(){return st})),i.d(s,"fieldPikaday",(function(){return dt})),i.d(s,"fieldStaticMap",(function(){return ft})),i.d(s,"fieldSwitch",(function(){return wt})),i.d(s,"fieldVueMultiSelect",(function(){return kt})),i.d(s,"fieldNumber",(function(){return U}));var a=i("0faf"),n=i("8449"),o=i("60bb"),l=i("5a0c"),r=i.n(l);let d={fieldIsRequired:"This field is required!",invalidFormat:"Invalid format!",numberTooSmall:"The number is too small! Minimum: {0}",numberTooBig:"The number is too big! Maximum: {0}",invalidNumber:"Invalid number",invalidInteger:"The value is not an integer",textTooSmall:"The length of text is too small! Current: {0}, Minimum: {1}",textTooBig:"The length of text is too big! Current: {0}, Maximum: {1}",thisNotText:"This is not a text!",thisNotArray:"This is not an array!",selectMinItems:"Select minimum {0} items!",selectMaxItems:"Select maximum {0} items!",invalidDate:"Invalid date!",dateIsEarly:"The date is too early! Current: {0}, Minimum: {1}",dateIsLate:"The date is too late! Current: {0}, Maximum: {1}",invalidEmail:"Invalid e-mail address!",invalidURL:"Invalid URL!",invalidCard:"Invalid card format!",invalidCardNumber:"Invalid card number!",invalidTextContainNumber:"Invalid text! Cannot contains numbers or special characters",invalidTextContainSpec:"Invalid text! Cannot contains special characters"};function c(e,t,i=d){return Object(o["isNil"])(e)||""===e?t?[u(i.fieldIsRequired)]:[]:null}function u(e){if(null!=e&&arguments.length>1)for(let t=1;t<arguments.length;t++)e=e.replace("{"+(t-1)+"}",arguments[t]);return e}const p={resources:d,required(e,t,i,s=d){return c(e,t.required,s)},number(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=[];return Object(o["isNumber"])(e)?(!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.min)&&e<t.fieldOptions.min&&n.push(u(s.numberTooSmall,t.fieldOptions.min)),!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.max)&&e>t.fieldOptions.max&&n.push(u(s.numberTooBig,t.fieldOptions.max))):n.push(u(s.invalidNumber)),n},integer(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=p.number(e,t,i,s);return Object(o["isInteger"])(e)||n.push(u(s.invalidInteger)),n},double(e,t,i,s=d){let a=c(e,t.required,s);return null!=a?a:!Object(o["isNumber"])(e)||isNaN(e)?[u(s.invalidNumber)]:void 0},string(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=[];return Object(o["isString"])(e)?(!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.min)&&e.length<t.fieldOptions.min&&n.push(u(s.textTooSmall,e.length,t.fieldOptions.min)),!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.max)&&e.length>t.fieldOptions.max&&n.push(u(s.textTooBig,e.length,t.fieldOptions.max))):n.push(u(s.thisNotText)),n},array(e,t,i,s=d){if(t.required){if(!Object(o["isArray"])(e))return[u(s.thisNotArray)];if(0===e.length)return[u(s.fieldIsRequired)]}if(!Object(o["isNil"])(e)){if(!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.min)&&e.length<t.fieldOptions.min)return[u(s.selectMinItems,t.fieldOptions.min)];if(!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.max)&&e.length>t.fieldOptions.max)return[u(s.selectMaxItems,t.fieldOptions.max)]}},date(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=new Date(e);if(!n)return[u(s.invalidDate)];let l=[];if(!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.min)){let e=new Date(t.fieldOptions.min);n.valueOf()<e.valueOf()&&l.push(u(s.dateIsEarly,r.a.format(n),r.a.format(e)))}if(!Object(o["isNil"])(t.fieldOptions)&&!Object(o["isNil"])(t.fieldOptions.max)){let e=new Date(t.fieldOptions.max);n.valueOf()>e.valueOf()&&l.push(u(s.dateIsLate,r.a.format(n),r.a.format(e)))}return l},regexp(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;if(!Object(o["isNil"])(t.pattern)){let i=new RegExp(t.pattern);if(!i.test(e))return[u(s.invalidFormat)]}},email(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)?void 0:[u(s.invalidEmail)]},url(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return n.test(e)?void 0:[u(s.invalidURL)]},creditCard(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;const n=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,o=e.replace(/[^0-9]+/g,"");if(!n.test(o))return[u(s.invalidCard)];let l,r,p,h=0;for(let d=o.length-1;d>=0;d--)l=o.substring(d,d+1),r=parseInt(l,10),p?(r*=2,h+=r>=10?r%10+1:r):h+=r,p=!p;return h%10===0&&o?void 0:[u(s.invalidCardNumber)]},alpha(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=/^[a-zA-Z]*$/;return n.test(e)?void 0:[u(s.invalidTextContainNumber)]},alphaNumeric(e,t,i,s=d){let a=c(e,t.required,s);if(null!=a)return a;let n=/^[a-zA-Z0-9]*$/;return n.test(e)?void 0:[u(s.invalidTextContainSpec)]}};Object.keys(p).forEach(e=>{const t=p[e];Object(o["isFunction"])(t)&&(t.locale=e=>(i,s,a)=>t(i,s,a,Object(o["defaults"])(e,d)))});var h=p,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{id:e.fieldID,type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,required:e.required},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var i=e.value,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);s.checked?o<0&&(e.value=i.concat([n])):o>-1&&(e.value=i.slice(0,o).concat(i.slice(o+1)))}else e.value=a}}})},f=[];const g=e=>Object(o["isString"])(e)?null!=h[e]?h[e]:(console.warn(`'${e}' is not a validator function!`),null):e;function b(e,t,i){let s=Object(o["get"])(i.context,"schema.attributes",{}),a=t.value||"input";Object(o["isString"])(a)&&(s=Object(o["get"])(s,a)||s),Object(o["forEach"])(s,(t,i)=>{e.setAttribute(i,t)})}var y={props:{model:{type:Object},schema:{type:Object},formOptions:{type:Object},eventBus:{type:Object},fieldID:{type:String}},data(){const e=Object(o["uniqueId"])(this.fieldID+"_");return{fieldUID:e,touched:!1,errors:[],debouncedValidateFunc:null,debouncedFormatFunction:null}},directives:{attributes:{bind:b,updated:b,componentUpdated:b}},computed:{value:{cache:!1,get(){let e;return e=Object(o["isFunction"])(Object(o["get"])(this.schema,"get"))?this.schema.get(this.model):Object(o["get"])(this.model,this.schema.model),this.formatValueToField(e)},set(e){this.touch();let t=this.value;e=this.formatValueToModel(e),Object(o["isFunction"])(e)?e(e,t):this.updateModelValue(e,t)}},disabled(){return this.getValueFromOption(this.schema,"disabled")},fieldClasses(){return this.getValueFromOption(this.schema,"fieldClasses",[])},fieldOptions(){return this.getValueFromOption(this.schema,"fieldOptions",{})},inputName(){return this.getValueFromOption(this.schema,"inputName","")},placeholder(){return this.getValueFromOption(this.schema,"placeholder","")},readonly(){return this.getValueFromOption(this.schema,"readonly")},required(){return this.getValueFromOption(this.schema,"required")},values(){return this.getValueFromOption(this.schema,"values",[])}},watch:{errors:{handler(e){this.$emit("errors-updated",e)}}},methods:{getValueFromOption(e,t,i){return Object(o["isFunction"])(this.$parent.getValueFromOption)?this.$parent.getValueFromOption(e,t,i):e?Object(o["isNil"])(e[t])?i:e[t]:void 0},validate(){this.touch(),this.clearValidationErrors();let e=Object(o["get"])(this.formOptions,"validateAsync",!1),t=[];if(this.schema.validator&&!0!==this.readonly&&!0!==this.schema.readonly&&!0!==this.disabled){let i=[];Object(o["isArray"])(this.schema.validator)?this.schema.validator.forEach(e=>{i.push(g(e).bind(this))}):i.push(g(this.schema.validator).bind(this)),i.forEach(i=>{if(e)t.push(i(this.value,this.schema,this.model));else{let e=i(this.value,this.schema,this.model);e&&Object(o["isFunction"])(e.then)?e.then(e=>{e&&(this.errors=this.errors.concat(e))}):e&&(t=t.concat(e))}})}let i=e=>{let t=[];e.forEach(e=>{Object(o["isArray"])(e)&&e.length>0?t=t.concat(e):Object(o["isString"])(e)&&t.push(e)}),Object(o["isFunction"])(this.schema.onValidated)&&this.schema.onValidated.call(this,this.model,t,this.schema);let i=0===t.length;return this.errors=t,this.eventBus&&this.eventBus.$emit("field-validated",i,t,this.fieldUID),t};return e?Promise.all(t).then(i).catch(e=>{console.warn("Problem during field validation",e)}):i(t)},debouncedValidate(){Object(o["isFunction"])(this.debouncedValidateFunc)||(this.debouncedValidateFunc=Object(o["debounce"])(this.validate.bind(this),Object(o["get"])(this.formOptions,"validateDebounceTime",500))),this.debouncedValidateFunc()},updateModelValue(e,t){let i=!1;Object(o["isFunction"])(this.schema.set)?(this.schema.set(this.model,e),i=!0):this.schema.model&&(this.setModelValueByPath(this.schema.model,e),i=!0),i&&(this.eventBus&&this.eventBus.$emit("model-updated",e,this.schema.model),Object(o["isFunction"])(this.schema.onChanged)&&this.schema.onChanged.call(this,this.model,e,t,this.schema),Object(o["get"])(this.formOptions,"validateAfterChanged",!1)&&(Object(o["get"])(this.formOptions,"validateDebounceTime",500)>0?this.debouncedValidate():this.validate()))},clearValidationErrors(){this.errors.splice(0)},setModelValueByPath(e,t){let i=e.replace(/\[(\w+)\]/g,".$1");i=i.replace(/^\./,"");let s=this.model;const a=i.split(".");let n=0;const o=a.length;while(n<o){let e=a[n];if(!(n<o-1))return void this.$root.$set(s,e,t);s&&void 0!==s[e]&&null!==s[e]||this.$root.$set(s,e,{}),s=s[e],++n}},formatValueToField(e){return e},formatValueToModel(e){return e},touch(){this.touched||(this.touched=!0,this.$emit("field-touched"))}},created(){this.eventBus&&(this.eventBus.$on("clear-validation-errors",this.clearValidationErrors),this.eventBus.$on("validate-fields",this.validate),this.eventBus.$emit("field-registering"))},mounted(){const e=function(e,t){return t.filter((function(t){return e.indexOf(t)<0}))},t=["type","model","id","inputName","label","placeholder","hint","help","featured","visible","disabled","required","readonly","validator","styleClasses","labelClasses","fieldClasses","fieldOptions","values","buttons","attributes","get","set","onChanged","onValidated"];if(this.schema){let i=Object.keys(this.schema),s=e(t,i);s.length}},beforeDestroy(){this.eventBus&&(this.eventBus.$off("clear-validation-errors",this.clearValidationErrors),this.eventBus.$off("validate-fields",this.validate),this.eventBus.$emit("field-deregistering",this))}},v={name:"field-checkbox",mixins:[y]},C=v,w=(i("762a"),i("2877")),_=Object(w["a"])(C,m,f,!1,null,null,null),O=_.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[e.useListBox?i("div",{staticClass:"listbox form-control",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return i("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[i("label",[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(i){return e.onChanged(i,t)}}}),e._v(e._s(e.getItemName(t))+" ")])])})),0):e._e(),e.useListBox?e._e():i("div",{staticClass:"combobox form-control",attrs:{disabled:e.disabled}},[i("div",{staticClass:"mainRow",class:{expanded:e.comboExpanded},on:{click:e.onExpandCombo}},[i("div",{staticClass:"info"},[e._v(e._s(e.selectedCount)+" selected")]),i("div",{staticClass:"arrow"})]),i("div",{staticClass:"dropList"},[e.comboExpanded?e._l(e.items,(function(t){return i("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[i("label",[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(i){return e.onChanged(i,t)}}}),e._v(" "+e._s(e.getItemName(t))+" ")])])})):e._e()],2)])])},F=[],k={name:"field-checklist",mixins:[y],data(){return{comboExpanded:!1}},computed:{items(){let e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},selectedCount(){return this.value?this.value.length:0},useListBox(){return this.fieldOptions.listBox}},methods:{getInputName(e){return this.inputName&&this.inputName.length>0?Object(n["slugify"])(this.inputName+"_"+this.getItemValue(e)):Object(n["slugify"])(this.getItemValue(e))},getItemValue(e){if(Object(o["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["value"])return e[this.fieldOptions.value];if("undefined"!==typeof e["value"])return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},getItemName(e){if(Object(o["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["name"])return e[this.fieldOptions.name];if("undefined"!==typeof e["name"])return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},isItemChecked(e){return this.value&&-1!==this.value.indexOf(this.getItemValue(e))},onChanged(e,t){let i=e.target.checked;if(!Object(o["isNil"])(this.value)&&Array.isArray(this.value)||(this.value=[]),i){const e=Object(o["clone"])(this.value);e.push(this.getItemValue(t)),this.value=e}else{const e=Object(o["clone"])(this.value);e.splice(this.value.indexOf(this.getItemValue(t)),1),this.value=e}},onExpandCombo(){this.comboExpanded=!this.comboExpanded}}},S=k,x=(i("c2e9"),Object(w["a"])(S,A,F,!1,null,null,null)),P=x.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{accept:e.fieldOptions.accept,alt:e.fieldOptions.alt,autocomplete:e.fieldOptions.autocomplete,dirname:e.fieldOptions.dirname,disabled:e.disabled,files:e.fieldOptions.files,formaction:e.fieldOptions.formaction,formenctype:e.fieldOptions.formenctype,formmethod:e.fieldOptions.formmethod,formnovalidate:e.fieldOptions.formnovalidate,formtarget:e.fieldOptions.formtarget,height:e.fieldOptions.height,id:e.fieldID,list:e.fieldOptions.list,max:e.fieldOptions.max,maxlength:e.fieldOptions.maxlength,min:e.fieldOptions.min,minlength:e.fieldOptions.minlength,multiple:e.fieldOptions.multiple,name:e.inputName,pattern:e.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,size:e.fieldOptions.size,src:e.fieldOptions.src,step:e.fieldOptions.step,type:e.inputType,width:e.fieldOptions.width},domProps:{checked:e.fieldOptions.checked,value:e.value},on:{blur:e.onBlur,change:function(t){e.schema.onChange},input:e.onInput}}),"color"===e.inputType||"range"===e.inputType?i("span",{staticClass:"helper",domProps:{textContent:e._s(e.value)}}):e._e()])},R=[];const D={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss","datetime-local":"YYYY-MM-DDTHH:mm:ss"};var L={name:"field-input",mixins:[y],computed:{inputType(){return"string"===typeof this.fieldOptions.inputType?this.fieldOptions.inputType.toLowerCase():(console.warn("Missing inputType",this.fieldOptions,this.fieldOptions.inputType),"")}},methods:{formatValueToModel(e){if(null!=e)switch(this.inputType){case"date":case"datetime":case"datetime-local":case"number":case"range":return(t,i)=>{this.debouncedFormatFunc(e,i)}}return e},formatDatetimeToModel(e,t){let i=D[this.inputType],s=r.a.parse(e,i);!1!==s&&(e=this.schema.format?r.a.format(s,this.schema.format):s.valueOf()),this.updateModelValue(e,t)},formatNumberToModel(e,t){Object(o["isNumber"])(e)||(e=NaN),this.updateModelValue(e,t)},onInput(e){let t=e.target.value;switch(this.inputType){case"number":case"range":Object(o["isNumber"])(parseFloat(e.target.value))&&(t=parseFloat(e.target.value));break}this.value=t},onBlur(){Object(o["isFunction"])(this.debouncedFormatFunc)&&this.debouncedFormatFunc.flush(),this.$emit("blur",this.model[this.schema.model],this.schema.model)}},mounted(){switch(this.inputType){case"number":case"range":this.debouncedFormatFunc=Object(o["debounce"])((e,t)=>{this.formatNumberToModel(e,t)},parseInt(Object(o["get"])(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1});break;case"date":case"datetime":case"datetime-local":this.debouncedFormatFunc=Object(o["debounce"])((e,t)=>{this.formatDatetimeToModel(e,t)},parseInt(Object(o["get"])(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1});break}},created(){"file"===this.inputType&&console.warn('The "file" type in input field is deprecated. Use "file" field instead.')}},T=L,M=(i("1138"),Object(w["a"])(T,I,R,!1,null,null,null)),N=M.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fieldInput",e._b({attrs:{type:"number"}},"fieldInput",e.$props,!1))},E=[],B={name:"field-number",mixins:[y],components:{fieldInput:N},computed:{},methods:{},mounted(){this.schema.fieldOptions&&!this.schema.fieldOptions.inputType&&(this.schema.fieldOptions.inputType="number")},created(){}},V=B,q=Object(w["a"])(V,j,E,!1,null,null,null),U=q.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],class:e.fieldClasses,attrs:{id:e.fieldID},domProps:{textContent:e._s(e.value)}})},H=[],W={name:"field-label",mixins:[y]},G=W,z=(i("b2ae"),Object(w["a"])(G,K,H,!1,null,null,null)),Y=z.exports,Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"radio-list",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return i("label",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],key:e.getItemValue(t),class:{"is-checked":e.isItemChecked(t)}},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,name:e.id,readonly:e.readonly,required:e.required,type:"radio"},domProps:{checked:e.isItemChecked(t),value:e.getItemValue(t)},on:{click:function(i){return e.onSelection(t)}}}),e._v(e._s(e.getItemName(t))+" ")])})),0)},J=[],Z={name:"field-radios",mixins:[y],computed:{items(){let e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},id(){return this.schema.model}},methods:{getItemValue(e){if(Object(o["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["value"])return e[this.fieldOptions.value];if("undefined"!==typeof e["value"])return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},getItemName(e){if(Object(o["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["name"])return e[this.fieldOptions.name];if("undefined"!==typeof e["name"])return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},onSelection(e){this.value=this.getItemValue(e)},isItemChecked(e){let t=this.getItemValue(e);return t===this.value}}},X=Z,ee=(i("c08b"),Object(w["a"])(X,Q,J,!1,null,null,null)),te=ee.exports,ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled||e.readonly,readonly:e.readonly,name:e.inputName,id:e.fieldID,multiple:e.schema.multiple||e.schema.multi},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?i:i[0]}}},[e.fieldOptions.hideNoneSelectedText?e._e():i("option",{attrs:{disabled:e.schema.required},domProps:{value:null}},[e._v(" "+e._s(e.fieldOptions.noneSelectedText||"<Nothing selected>")+" ")]),e._l(e.items,(function(t){return[t&&t.group?i("optgroup",{key:e.getItemValue(t),attrs:{label:e.getGroupName(t)}},[t.ops?e._l(t.ops,(function(t){return i("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])})):e._e()],2):e._e(),t.group?e._e():i("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])]}))],2)},se=[],ae={name:"field-select",mixins:[y],computed:{items(){let e=this.schema.values;return"function"==typeof e?this.groupValues(e.apply(this,[this.model,this.schema])):this.groupValues(e)}},methods:{formatValueToField(e){return Object(o["isNil"])(e)?null:e},groupValues(e){let t=[],i={};return e.filter(e=>e).forEach(e=>{i=null,e&&e.group&&Object(o["isObject"])(e)?(i=Object(o["find"])(t,t=>t.group===e.group),i?i.ops.push({id:e.id,name:e.name}):(i={group:"",ops:[]},i.group=e.group,i.ops.push({id:e.id,name:e.name}),t.push(i))):t.push(e)}),t},getGroupName(e){if(e&&e.group)return e.group;throw"Group name is missing! https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"},getItemValue(e){if(Object(o["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["value"])return e[this.fieldOptions.value];if("undefined"!==typeof e["id"])return e.id;throw"`id` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e},getItemName(e){if(Object(o["isObject"])(e)){if("undefined"!==typeof this.fieldOptions["name"])return e[this.fieldOptions.name];if("undefined"!==typeof e["name"])return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e}}},ne=ae,oe=Object(w["a"])(ne,ie,se,!1,null,null,null),le=oe.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{id:e.fieldID,type:"submit",name:e.inputName,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.fieldOptions.buttonText},on:{click:e.onClick}})},de=[],ce={name:"field-submit",mixins:[y],methods:{onClick(e){!0===this.fieldOptions.validateBeforeSubmit?(e.preventDefault(),this.eventBus.$emit("fields-validation-trigger"),this.eventBus.$on("fields-validation-terminated",t=>{!Object(o["isEmpty"])(t)&&Object(o["isFunction"])(this.fieldOptions.onValidationError)?this.fieldOptions.onValidationError(this.model,this.schema,t,e):Object(o["isFunction"])(this.fieldOptions.onSubmit)&&this.fieldOptions.onSubmit(this.model,this.schema,e)})):Object(o["isFunction"])(this.fieldOptions.onSubmit)&&this.fieldOptions.onSubmit(this.model,this.schema,e)}}},ue=ce,pe=(i("fc4c"),Object(w["a"])(ue,re,de,!1,null,null,null)),he=pe.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("textarea",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,maxlength:e.fieldOptions.max,minlength:e.fieldOptions.min,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.required,rows:e.fieldOptions.rows||2},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})},fe=[],ge={name:"field-textArea",mixins:[y]},be=ge,ye=Object(w["a"])(be,me,fe,!1,null,null,null),ve=ye.exports,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",attrs:{accept:e.fieldOptions.accept,disabled:e.disabled,id:e.fieldID,multiple:e.fieldOptions.multiple,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,type:"file"},on:{change:e.onChange}})])},we=[],_e={name:"field-upload",mixins:[y],methods:{onChange(e){Object(o["isFunction"])(this.fieldOptions.onChanged)&&this.fieldOptions.onChanged.call(this,this.model,this.schema,e,this)}}},Oe=_e,$e=(i("9eaf"),Object(w["a"])(Oe,Ce,we,!1,null,null,null)),Ae=$e.exports,Fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,id:e.fieldID},domProps:{value:e.value}})},ke=[],Se={name:"field-cleave",mixins:[y],data(){return{cleave:null}},mounted(){this.$nextTick((function(){window.Cleave?(this.cleave=new window.Cleave(this.$el,Object(o["defaults"])(this.fieldOptions,{creditCard:!1,phone:!1,phoneRegionCode:"AU",date:!1,datePattern:["d","m","Y"],numeral:!1,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:".",blocks:[],delimiter:" ",prefix:null,numericOnly:!1,uppercase:!1,lowercase:!1,maxLength:0})),this.cleave.properties&&this.cleave.properties.hasOwnProperty("result")?this.$watch("cleave.properties.result",()=>{this.value=this.cleave.properties.result}):this.$el.addEventListener("input",this.inputChange)):console.warn("Cleave is missing. Please download from https://github.com/nosir/cleave.js/ and load the script in the HTML head section!")}))},methods:{inputChange(e,t){this.value=this.$el.value}},beforeDestroy(){this.cleave&&(this.cleave.destroy(),this.$el.removeEventListener("input",this.inputChange))}},xe=Se,Pe=Object(w["a"])(xe,Fe,ke,!1,null,null,null),Ie=Pe.exports,Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group date"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,id:e.fieldID},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._m(0)])},De=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"input-group-addon"},[i("span",{staticClass:"glyphicon glyphicon-calendar"})])}];let Le="YYYY-MM-DD HH:mm:ss";var Te={getDefaultInputFormat(){return Le},getDateFormat(){return"undefined"!==typeof this.fieldOptions.format?this.fieldOptions.format:this.getDefaultInputFormat()},formatValueToField(e){if(null!=e){let t;return t="undefined"!==typeof this.fieldOptions.format?r.a.parse(e,this.fieldOptions.format):new Date(e),r.a.format(t,this.getDateFormat())}return e},formatValueToModel(e){if(null!=e){let t=r.a.parse(e,this.getDateFormat());e="undefined"!==typeof this.fieldOptions.format?r.a.format(t,this.fieldOptions.format):t.valueOf()}return e}},Me={name:"field-dateTimePicker",mixins:[y],methods:{...Te},mounted(){this.$nextTick(()=>{if(window.$&&window.$.fn.datetimepicker){let e=this.$el.querySelector(".form-control");$(this.$el).datetimepicker(Object(o["defaults"])(this.fieldOptions,{format:this.getDefaultInputFormat()})).on("dp.change",()=>{this.value=e.value})}else console.warn("Bootstrap datetimepicker library is missing. Please download from https://eonasdan.github.io/bootstrap-datetimepicker/ and load the script and CSS in the HTML head section!")})},beforeDestroy(){window.$&&window.$.fn.datetimepicker&&$(this.$el).data("DateTimePicker").destroy()}},Ne=Me,je=Object(w["a"])(Ne,Re,De,!1,null,null,null),Ee=je.exports,Be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,debounce:"500",id:e.fieldID},domProps:{value:e.value},on:{focus:function(t){return e.geolocate()},input:function(t){t.target.composing||(e.value=t.target.value)}}})},Ve=[],qe={name:"field-googleAddress",mixins:[y],data(){return{autocomplete:"",inputs:{street_number:"long_name",route:"long_name",country:"long_name",administrative_area_level_1:"long_name",administrative_area_level_2:"long_name",locality:"long_name",postal_code:"short_name"}}},mounted(){this.$nextTick(()=>{window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Autocomplete?(this.autocomplete=new google.maps.places.Autocomplete(this.$el,{types:["geocode"]}),this.autocomplete.addListener("place_changed",this.pipeAddress)):console.warn("Google Maps API is missing. Please add https://maps.googleapis.com/maps/api/js?key=YOUR_KEY&libraries=places script in the HTML head section!")})},methods:{pipeAddress(){let e=this.autocomplete.getPlace();if(e){this.value=e.formatted_address;let t={};if(void 0!==e.address_components)for(let i=0;i<e.address_components.length;i++){let s=e.address_components[i].types[0];this.inputs[s]&&(t[s]=e.address_components[i][this.inputs[s]])}Object(o["isFunction"])(this.fieldOptions.onPlaceChanged)&&this.fieldOptions.onPlaceChanged(this.value,t,e,this.model,this.schema)}},geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let t={lat:e.coords.latitude,lng:e.coords.longitude},i=new window.google.maps.Circle({center:t,radius:e.coords.accuracy});this.autocomplete.setBounds(i.getBounds())})}}},Ue=qe,Ke=Object(w["a"])(Ue,Be,Ve,!1,null,null,null),He=Ke.exports,We=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("input",{directives:[{name:"show",rawName:"v-show",value:!0!==e.fieldOptions.hideInput,expression:"fieldOptions.hideInput !== true"},{name:"model",rawName:"v-model",value:e.wrappedValue,expression:"wrappedValue"}],staticClass:"form-control link",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly},domProps:{value:e.wrappedValue},on:{input:function(t){t.target.composing||(e.wrappedValue=t.target.value)}}}),!1!==e.fieldOptions.browse?i("input",{staticClass:"form-control file",attrs:{type:"file",disabled:e.disabled,name:e.inputName},on:{change:e.fileChanged}}):e._e(),i("div",{staticClass:"preview",style:e.previewStyle},[i("div",{staticClass:"remove",attrs:{title:"Remove image"},on:{click:e.remove}})])])},Ge=[],ze={name:"field-image",mixins:[y],computed:{previewStyle(){return!1!==this.fieldOptions.preview?{display:"block","background-image":null!=this.value?"url("+this.value+")":"none"}:{display:"none"}},wrappedValue:{get(){return this.value&&0===this.value.indexOf("data")?"<inline base64 image>":this.value},set(e){e&&0===e.indexOf("http")&&(this.value=e)}}},watch:{model(){let e=this.$el.querySelector("input.file");e&&(e.value="")}},methods:{remove(){this.value=""},fileChanged(e){let t=new FileReader;t.onload=e=>{this.value=e.target.result},e.target.files&&e.target.files.length>0&&t.readAsDataURL(e.target.files[0])}}},Ye=ze,Qe=(i("1a83"),Object(w["a"])(Ye,We,Ge,!1,null,null,null)),Je=Qe.exports,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slider",class:{"contain-pips":e.containPips,"contain-tooltip":e.containTooltip},attrs:{disabled:e.disabled}})},Xe=[],et={name:"field-noUiSlider",mixins:[y],data(){return{slider:null}},watch:{model:function(){window.noUiSlider&&this.slider&&this.slider.noUiSlider&&this.slider.noUiSlider.set(this.value)}},computed:{containPips(){return"undefined"!==typeof this.fieldOptions.pips},containTooltip(){return"undefined"!==typeof this.fieldOptions.tooltips}},methods:{onChange(e){Object(o["isArray"])(e)?this.value=[parseFloat(e[0]),parseFloat(e[1])]:this.value=parseFloat(e)},formatValueToField(e){null!==this.slider&&"undefined"!==typeof this.slider.noUiSlider&&this.slider.noUiSlider.set(e)},formatValueToModel(e){if("undefined"!==typeof this.slider.noUiSlider)return e instanceof Array?[Number(e[0]),Number(e[1])]:Number(e)},getStartValue(){return null!=this.value?this.value:"undefined"!==typeof this.fieldOptions.double?[this.fieldOptions.min,this.fieldOptions.min]:this.fieldOptions.min}},mounted(){this.$nextTick(()=>{window.noUiSlider?(this.slider=this.$el,window.noUiSlider.create(this.slider,Object(o["defaults"])(this.fieldOptions||{},{start:this.getStartValue(),range:{min:this.fieldOptions.min,max:this.fieldOptions.max}})),this.slider.noUiSlider.on("change",this.onChange.bind(this))):console.warn("noUiSlider is missing. Please download from https://github.com/leongersen/noUiSlider and load the script and CSS in the HTML head section!")})},beforeDestroy(){this.slider&&this.slider.noUiSlider.off("change")}},tt=et,it=(i("5c25"),Object(w["a"])(tt,Ze,Xe,!1,null,null,null)),st=it.exports,at=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})},nt=[],ot={name:"field-pikaday",mixins:[y],data(){return{picker:null}},methods:{...Te},mounted(){this.$nextTick(()=>{window.Pikaday?this.picker=new window.Pikaday(Object(o["defaults"])(this.fieldOptions,{field:this.$el,onSelect:()=>{this.value=this.picker.toString()}})):console.warn("Pikaday is missing. Please download from https://github.com/dbushell/Pikaday/ and load the script and CSS in the HTML head section!")})},beforeDestroy(){this.picker&&this.picker.destroy()}},lt=ot,rt=Object(w["a"])(lt,at,nt,!1,null,null,null),dt=rt.exports,ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("img",{attrs:{src:e.mapLink}})},ut=[],pt={name:"field-staticmap",mixins:[y],computed:{mapLink(){if(this.value){let e,t,i=Object(o["defaults"])(this.fieldOptions,{lat:"lat",lng:"lng",zoom:8,sizeX:640,sizeY:640});e=this.value[i.lat],t=this.value[i.lng];let s=`http://maps.googleapis.com/maps/api/staticmap?center=${e},${t}&zoom=${i.zoom}&size=${i.sizeX}x${i.sizeY}`,a=["scale","format","maptype","language","region","markers","path","visible","style","key","signature"];for(let n of a)"undefined"!==typeof i[n]&&(s+=`&${n}=${i[n]}`);if(e&&t)return s}return""}}},ht=pt,mt=(i("b934"),Object(w["a"])(ht,ct,ut,!1,null,null,null)),ft=mt.exports,gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,id:e.fieldID},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var i=e.value,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);s.checked?o<0&&(e.value=i.concat([n])):o>-1&&(e.value=i.slice(0,o).concat(i.slice(o+1)))}else e.value=a}}}),i("span",{staticClass:"label",attrs:{"data-on":e.fieldOptions.textOn||"On","data-off":e.fieldOptions.textOff||"Off",for:e.fieldID}}),i("span",{staticClass:"handle"})])},bt=[],yt={name:"field-switch",mixins:[y],methods:{formatValueToField(e){return null!=e&&this.fieldOptions.valueOn?e===this.fieldOptions.valueOn:e},formatValueToModel(e){return null!=e&&this.fieldOptions.valueOn?e?this.fieldOptions.valueOn:this.fieldOptions.valueOff:e}}},vt=yt,Ct=(i("e0d4"),Object(w["a"])(vt,gt,bt,!1,null,null,null)),wt=Ct.exports,_t=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("multiselect",{attrs:{id:e.fieldOptions.id,options:e.options,value:e.value,multiple:e.fieldOptions.multiple,"track-by":e.fieldOptions.trackBy||null,label:e.fieldOptions.label||null,searchable:e.fieldOptions.searchable,"clear-on-select":e.fieldOptions.clearOnSelect,"hide-selected":e.fieldOptions.hideSelected,placeholder:e.placeholder,"allow-empty":e.fieldOptions.allowEmpty,"reset-after":e.fieldOptions.resetAfter,"close-on-select":e.fieldOptions.closeOnSelect,"custom-label":e.customLabel,taggable:e.fieldOptions.taggable,"tag-placeholder":e.fieldOptions.tagPlaceholder,max:e.fieldOptions.max||null,"options-limit":e.fieldOptions.optionsLimit,"group-values":e.fieldOptions.groupValues,"group-label":e.fieldOptions.groupLabel,"block-keys":e.fieldOptions.blockKeys,"internal-search":e.fieldOptions.internalSearch,"select-label":e.fieldOptions.selectLabel,"selected-label":e.fieldOptions.selectedLabel,"deselect-label":e.fieldOptions.deselectLabel,"show-labels":e.fieldOptions.showLabels,limit:e.fieldOptions.limit,"limit-text":e.fieldOptions.limitText,loading:e.fieldOptions.loading,disabled:e.disabled,"max-height":e.fieldOptions.maxHeight,"show-pointer":e.fieldOptions.showPointer,"option-height":e.fieldOptions.optionHeight},on:{input:e.updateSelected,select:e.onSelect,remove:e.onRemove,"search-change":e.onSearchChange,tag:e.addTag,open:e.onOpen,close:e.onClose}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v(" "+e._s(e.fieldOptions.noResult)+" ")])])},Ot=[],$t={name:"field-vueMultiSelect",mixins:[y],computed:{options(){let e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},customLabel(){return"undefined"!==typeof this.fieldOptions.customLabel&&"function"===typeof this.fieldOptions.customLabel?this.fieldOptions.customLabel:void 0}},methods:{updateSelected(e){this.value=e},addTag(e,t){let i=this.fieldOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},onSearchChange(e,t){let i=this.fieldOptions.onSearch;"function"==typeof i&&i(e,t,this.options)},onSelect(){},onRemove(){},onOpen(){},onClose(){}},created(){this.$root.$options.components["multiselect"]||console.error("'vue-multiselect' is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},At=$t,Ft=Object(w["a"])(At,_t,Ot,!1,null,null,null),kt=Ft.exports;const St=(e,t={})=>{if(t.fields&&t.fields.forEach(t=>{"undefined"!==typeof t.name&&e.component(t.name,t)}),t.validators)for(let i in t.validators)({}).hasOwnProperty.call(t.validators,i)&&(h[i]=t.validators[i]);e.component("VueFormGenerator",a["a"])},xt={component:a["a"],schema:n,validators:h,abstractField:y,fieldsLoader:s,install:St};t["a"]=xt},"1c82":function(e,t,i){"use strict";var s=i("7fb5"),a=i.n(s);a.a},"1caf":function(e,t,i){},"22bf":function(e,t,i){"use strict";var s=i("31e6"),a=i.n(s);a.a},"26d5":function(e){e.exports=JSON.parse('{"AwesomeDefault":{"messages":{"are_you_sure":"Are you sure ?","wont_be_able_recover":"This action cannot be reverted","successfullyCreated":"Successfully created.","successfullyModified":"Successfully modified.","successfullyImported":"successfullyImported","no_data_imported":"no_data_imported","not_imported":"not_imported","all":"All"}},"AwesomeKanban":{"labels":{"addList":"Add a list","add":"Add","listName":"List name","removeList":"Remove list","noData":"No fields selected","unsorted":"Un sorted"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeFilter":{"labels":{"filterData":"Filter data","filterValue":"Filter value","fields":"Fields","filters":"Filters","values":"Values","activeFilter":"Active Filters","addFilter":"Add filter","from":"From","clear":"--Vider--","to":"To"},"filters":{"equals":"Equals (=)","not-equals":"Not equals(<>)","greater-than":"Greater than (>)","greater-or-equals":"Greater or equals (>=)","lesser-than":"Lesser than (<)","lesser-or-equals":"Lesser or equals (<=)","between":"Between","not-between":"Not Between","contains":"Contains","not-contains":"Does not contains","starts-with":"Starts with","ends-with":"Ends with","is-null":"is empty","is-not-null":"is not empty","is-defined":"is defined","is-not-defined":"is not defined","in":"is one of"}},"AwesomeTable":{"buttons":{"filters":"Filters","refresh":"Refresh","excel":"Exporter tout","excel-currentpage":"Export data","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":{"toggle":"Toggle columns filters","activate":"show columns filters","deactivate":"Hide columns fitlers"},"clear-state":"Reset table configuration"},"next":"next","prev":"prev","rows_per_page":"Rows per page","of":"of","page":"page","all":"all","empty":"No results found","searchInput":"Search","more":"Plus d\'actions","actions":"Actions","configuration":"Configuration","automatique-refresh":"Refresh automatically","columns":"Columns","createFirstItem":"Click here to create your first item","bulk":{"row-select":"row(s) selected","clear":"clear","delete":"delete","edit":"edit"}},"AwesomeCrud":{"labels":{"manageTitle":"Manage","createNew":"Add","view":"View","edit":"Edit","add_a":"Add a(n)"},"buttons":{"yes_delete_it":"Yes i confirm","view":"Open","cancel":"Cancel","close":"Close","edit":"Edit","save":"Save","sort":"Sort","delete":"Delete","bulkEdit":"Multiple Edit","openEditLayoutMode":"Edit Layout","closeEditLayoutMode":"Close editor","resetLayout":"Reset the layout","exportLayout":"Export the layout"},"messages":{"successfullyModified":"Successfully modified."}},"dateRangePicker":{"applyLabel":"Apply","cancelLabel":"Cancel","weekLabel":"W","customRangeLabel":"Custom Range"},"AwesomeList":{"labels":{"noData":"No fields selected"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeLayout":{"messages":{"emptyBlockBeforeDelete":"you must empty the block before you can delete it."}},"Notifications":{"messages":{"are_you_sure":"Are you sure ?"},"buttons":{"yes":"Yes","cancel":"Cancel","close":"Close"}}}')},2743:function(e,t,i){"use strict";var s=i("60bb"),a=i.n(s);t["a"]={props:{rolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.rolesStorePath||"user.roles"},note:"Location of the array in the vuex state that contains all the roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"},extendedRolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.extendedRolesStorePath||"extendedRolesStorePath"},note:"Location of the array in the vuex state that contains all the extended roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"}},methods:{userIs(e,t=null){t=this.$store||t;const i=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return i&&Array.isArray(i)&&i.indexOf(e)>-1},userHasRole(e,t=null){t=this.$store||t;const i=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return i&&Array.isArray(i)&&i.indexOf(e)>-1}}}},2746:function(e,t,i){"use strict";var s=i("155a"),a=i.n(s);a.a},2781:function(e,t,i){"use strict";i.r(t);var s=function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"content aw-form",class:"aw-form-"+t.identity},[s("div",{},[s("div",{staticClass:"row mr-0 ml-0"},[s("div",{staticClass:"col-12",class:"page"===t.displayMode?"p-0":""},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"AwesomeForm",class:(e={modal:t._shouldHaveModalClasses,slide:t._shouldHaveSlideClasses,fade:"fade"===t.displayMode||"modal"===t.displayMode||"fullscreen"===t.displayMode,"page  fade":"page"===t.displayMode,show:this.show},e["display-mode-"+t.displayMode]=!0,e["nested-display-mode-"+t.nestedDisplayMode]=!0,e),attrs:{id:t.identity+"FormModal",tabindex:"-1",role:"dialog"}},[s("div",{class:{"modal-dialog":"page"!==t.displayMode,"modal-dialog-centered":"page"!==t.displayMode,"modal-dialog-scrollable":"page"!==t.displayMode,"modal-nested":t._isNested,"modal-full-height":t._shouldHaveSlideClasses,"modal-fullscreen":"fullscreen"===t.displayMode,"modal-lg":"modal"===t.displayMode||"fade"===t.displayMode},attrs:{role:"document"}},["create"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},[s("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("create-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t._useCustomLayout&&t._actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+" ")]):t._e(),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+" ")]):t._e()]):t._e(),!t.standalone&&!t._isEmbedded||t._actions.close?s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e()]):t._e(),s("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,"fields-list":t._getFieldsList,layout:t.layout},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",t._g({attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}},t.$listeners))]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",t._g({attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}},t.$listeners))]}}],null,!1,1697065833)}):t._e(),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("VueFormGenerator",t._g({ref:"form",attrs:{schema:t.createFormSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.createFormSchema=e},"model-updated":t.onModelUpdated}},t.$listeners))]:t._e()]}),{selectedItem:t.selectedItem}),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),!t._isEmbedded&&t.displayFooter?s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+" ")]),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.save"))+" ")])]}))],2):t._e()])]):t._e(),"edit"===t.mode||"view"===t.mode||t._isANestedDetailView?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.editItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},["view"===t.mode||"edit"===t.mode?s("h5",{staticClass:"text-left modal-title mt-0"},[t._t(t.mode+"-form-title",(function(){return[t._v(t._s(t.$t("view"===t.mode?"":"AwesomeCrud.labels.edit"))+" "+t._s(t._name)+" "),s("b",[t._v(t._s(t._editItemTile))])]}),{item:t.selectedItem})],2):t._e(),t.customTopActions?s("div",{staticClass:"btn-group m-0 aw-form-header-actions"},[s("AwesomeActionList",{attrs:{actions:t.customTopActions,parentDisplayMode:t.mode,item:t.selectedItem,parent:t.parent,location:"top"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})],1):t._e(),t._useCustomLayout&&t._actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+" ")]):t._e(),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+" ")]):t._e(),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+" ")]):t._e()]):t._e(),t.editLayoutMode||"edit"!==t.mode&&"view"!==t.mode&&!t._isANestedDetailView?t._e():[t._actions.formPagination&&(t.hasPrevious||t.hasNext)?s("div",{staticClass:"ml-1 aw-form-pagination"},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-light btn-sm float-left btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasPrevious,type:"button"},on:{click:function(e){t.hasPrevious&&t.$awEmit("aw-select-previous-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-left"})]),s("button",{staticClass:"btn btn-light btn-sm float-right btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasNext,type:"button"},on:{click:function(e){t.hasNext&&t.$awEmit("aw-select-next-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-right"})])])]):t._e()],!t.standalone&&!t._isEmbedded||t._actions.close?s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.cancel}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e()],2):t._e(),s("div",{staticClass:"modal-body",class:{"modal-body-nested":t._isANestedDetailView,"view-mode":"view"===t.mode}},[t.nestedModels&&t.nestedModels.length&&"create"!==t.mode&&"list"!==t.nestedLayoutMode?s("ul",{staticClass:"nav nav-tabs mt-0"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link pointer",class:{active:"general"===t.activeNestedTab},attrs:{"data-toggle":"tab"},on:{click:function(e){t.activeNestedTab="general"}}},[t._v(" "+t._s(t.$te("app.nestedtab.labels."+t.identity)?t.$te("app.nestedtab.labels."+t.identity):t.startCase(t.tabTitle||t.name||t.title||t.identity))+" ")])]),t._l(t.nestedModels,(function(e,i){return[e&&e.identity&&t.isNestedModelDisplayable(e)?s("li",{key:i,staticClass:"nav-item nested-model-tab-link"},[s("a",{staticClass:"nav-link pointer",class:{active:t.activeNestedTab===e.identity},attrs:{"data-toggle":"tab"},on:{click:function(i){t.activeNestedTab=e&&e.identity||"general"}}},[e.icon?s("i",{class:e.icon}):t._e(),t._v(" "+t._s(t.getNestedTabsTitle(e))+" ")])]):t._e()]}))],2):t._e(),t._t("edit-form",(function(){return[s("div",{staticClass:"tab-content",class:{row:"sidebar"===t.nestedLayoutMode}},[t._useCustomLayout?s("div",{staticClass:"row"},[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,layout:t.layout,"fields-list":t._getFieldsList},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}})]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}})]}}],null,!1,3509443529)}):t._e()],1):t._e(),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("div",{staticClass:"tab-pane nested-tab main-tab fade",class:{"active show":!t.activeNestedTab||"general"===t.activeNestedTab||"list"===t.nestedLayoutMode,"card p-5 ":"list"===t.nestedLayoutMode}},[s("VueFormGenerator",{ref:"form",attrs:{schema:t._formSchemaGrouped,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t._formSchemaGrouped=e},"model-updated":t.onModelUpdated}})],1)]:t._e(),t.nestedModels&&t.nestedModels.length&&("view"===t.mode||"edit"===t.mode)&&t.selectedItem?[t._l(t.nestedModels,(function(e){return[e&&e.identity&&t.isNestedModelDisplayable(e)?s("div",{key:e.$id,staticClass:"tab-pane nested-tab fade",class:{"active show in":t.activeNestedTab===e.identity||"list"===t.nestedLayoutMode}},["list"===t.nestedLayoutMode?[s("h5",{staticClass:"nested-model-title mt-5 text-primary font-italic mb-0",on:{click:function(i){t.getNestedActions(e).collapse&&(t.nestedModelsCollapseState[e.identity]=!t.nestedModelsCollapseState[e.identity])}}},[t._v(" "+t._s(t.getNestedTabsTitle(e))+" "),s("i",{staticClass:"fa",class:t.nestedModelsCollapseState[e.identity]?"fa-caret-right":"fa-caret-down"})]),s("hr",{staticClass:"mt-0"})]:t._e(),s(e&&e.component?e.component:t.AwesomeCrud,t._b({tag:"div",staticClass:"aw-crud-nested-model nested-list",class:t.getNestedActions(e).collapse&&"list"===t.nestedLayoutMode?t.nestedModelsCollapseState[e.identity]?"collapse":"collapse show":"",attrs:{id:"list-collapse-"+e.identity,parent:t.selectedItem,parentIdentity:t.model&&t.model.identity||t.identity,useRouterMode:!1,"crud-needs-refresh":t.nestedElementsNeedRefresh,"needs-refresh":t.nestedElementsNeedRefresh},on:{"input:needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"input:nested-crud-needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"update:nestedElementsNeedRefresh":function(e){return t.nestedElementsNeedRefresh=e}}},"div",e,!1),[s("div",{attrs:{slot:"crud-title"},slot:"crud-title"})])],2):t._e()]}))]:t._e()],2)]}),{selectedItem:t.selectedItem}),t._t("after-edit-form",null,{selectedItem:t.selectedItem})],2),!t._isEmbedded&&t.displayFooter?s("div",{staticClass:"modal-footer"},[t._t("edit-modal-footer",(function(){return[t.standalone?t._e():s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+" ")]),t._actions.delete&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-danger btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.delete"))+" ")]):t._e(),"edit"===t.mode?s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.save"))+" ")]):t._e(),"view"===t.mode&&t._actions.edit&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-info btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.editFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-pencil"}),t._v(" "+t._s(t.$t("AwesomeCrud.buttons.edit"))+" ")]):t._e(),t.customInlineActions?[s("AwesomeActionList",{attrs:{actions:t.customInlineActions,parentDisplayMode:t.mode,item:t.selectedItem,location:"inline"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})]:t._e(),"view"!==t.mode||t.standalone?t._e():s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.close"))+" ")])]}))],2):t._e()])]):t._e(),"bulkEdit"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.bulkEditItems()}}},[s("div",{staticClass:"modal-header bg-primary text-white"},[s("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("bulk-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t.standalone||t._isEmbedded?t._e():s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cancel()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t.formSchema&&t.formSchema.fields?[s("VueFormGenerator",{ref:"form",attrs:{schema:t.formSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.formSchema=e},"model-updated":t.onModelUpdated}})]:t._e()]}),{selectedItem:t.selectedItem}),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),t._isEmbedded?t._e():s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[s("button",{staticClass:"btn btn-default btn-main-style mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+" ")]),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("AwesomeCrud.buttons.save"))+" ")])]}))],2)])]):t._e()])])]),t._shouldShowBackdrop?s("div",{staticClass:"modal-backdrop backdrop-custom show",class:"display-mode-"+t.displayMode,staticStyle:{background:"#111"},attrs:{id:t.identity+"Backdrop"}}):t._e()])])])])},a=[],n=i("60bb"),o=i("3dd1"),l=i.n(o),r=i("d2cf"),d=i("99b5"),c=i("11fc"),u=i("b679"),p=i("6c53"),h=i("cae3"),m=i("a035"),f=i("5a3e"),g=i("383c"),b=i("0faf"),y=(i("dac4"),i("beb7")),v=i("8fd7"),C=i("7aa9"),w=i("8449");const _={mode:"local",url:null,columns:null,createPath:null,viewPath:null,editPath:null,bulkEditPath:null,queryParams:{},stats:!1,autoRefresh:!1,responseField:"body",useCustomLayout:!1};var O={name:"AwesomeForm",introduction:"A component to forms from a json schema",model:{prop:"item",event:"change"},components:{AwesomeCrud:()=>y["a"],AwesomeLayout:v["a"],AwesomeActionList:C["a"],VueFormGenerator:b["a"]},mixins:[f["a"],d["a"],c["a"],m["a"],u["a"],p["a"],r["a"],h["a"]],props:{item:{type:Object,required:!1},itemId:{type:[String,Number],required:!1},bulkItems:{type:Array,required:!1},title:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},identity:{type:String,required:!0},modelName:{type:String,required:!1},standalone:{type:Boolean,required:!1,default:!0,description:"Defines whether the component is used as part of another parent component\n        (usually AwesomeCrud) or alone. Some actions won't have the same behavior"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},needsRefresh:{type:[Boolean,String],default:!1,note:"Define whether the content of the table list should be refreshed"},nestedSchemas:{type:Array,required:!1,default:()=>[],note:"@deprecated, use nested models"},nestedModels:{type:Array,required:!1,default:()=>[],note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,note:"The model identity of the parent."},nestedDisplayMode:{type:String,required:!1,default:"list",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"},translations:{type:Object,required:!1,default:()=>({AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel",close:"Close"}}}),note:"Translation labels to use when vue-i18n is not present"},mode:{type:String,required:!0,values:["create","edit","view","bulkEdit"],validator:e=>-1!==["create","edit","view","bulkEdit"].indexOf(e),description:"Define what mode should the form be used in (create| edit | view | bulkEdit "},displayMode:{type:String,required:!1,default:"sidebar",node:"Manages the way the form is displayed. This field is relevant mostly when using Awesome form as part of AwesomeCrud.\n\n        'modal': Display as a modal\n        'fade': (legacy)  Display as a modal\n        'slide': (legacy)  Display as right size side menu\n        'sidebar':   Display as right size side menu\n        'sidebar-right':   Display as right size side menu\n        'sidebar-left':  Display as Left size side menu\n        'fullscreen':   Display as a full screen component\n        'page':   Display as an in page component\n      ",values:["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"],validator:e=>-1!==["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"].indexOf(e)},useSimpleCreateForm:{type:Boolean,required:!1,default:!1,node:"If true then the create form will display only required attributes"},options:{type:Object,default:()=>_},actions:{type:Object,default:()=>g["a"],note:"actions active in this instance"},customInlineActions:{type:Array,default:()=>[],note:"custom action in footer and in awTable row"},customTopActions:{type:Array,default:()=>[],note:"custom top actions"},layout:{type:[Array,Object],note:"Layout of the form",default:()=>[]},editLayoutMode:{type:Boolean},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},updateRouter:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url. @Deprecated, use `useRouterMode` instead."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},displayHeader:{type:Boolean,default:!0,node:"Controls if the header of the modal or the page should be displayed"},displayFooter:{type:Boolean,default:!0,node:"Controls if the footer of the modal or the page should be displayed"},hasNext:{type:Boolean,default:!1,note:"Controls if the next button should be displayed"},hasPrevious:{type:Boolean,default:!1,note:"Controls if the previous button should be displayed"},useCustomLayout:{type:Boolean,default:!1,note:"If the form layout can be changed"},displayFields:{type:Array,note:"The fields that should be displayed in the form"}},data(){return{AwesomeCrud:y["a"],$modal:null,parentPath:"",selectedItem:{},isRefreshing:!1,nestedElementsNeedRefresh:!1,show:!1,showBackDrop:!1,mergedOptions:{},innerNestedModels:[],activeNestedTab:"general",formOptions:{validayeAsync:!0,validateAfterLoad:!1,validateAfterChanged:!0},nestedModelsCollapseState:{}}},computed:{_title(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):Object(n["startCase"])(this._model.singularName):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):Object(n["startCase"])(this.identity):""},_titlePlural(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):Object(n["startCase"])(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te(`app.labels.${this.identity}s`)?this.$t(`app.labels.${this.identity}s`):Object(n["startCase"])(this.identity+"s"):""},_name(){const e=this.name||this._model&&this._model.name;if(e){if(this.$te(e)){const t=this.$t(e);if("string"===typeof t)return t}return Object(n["startCase"])(e)}return this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):Object(n["startCase"])(this.identity):""},_namePlural(){const e=this.namePlural||this._model&&this._model.namePlural;return e?this.$te(e)?this.$t(e):Object(n["startCase"])(e):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):Object(n["startCase"])(this.identity):""},_selectedItemUrl(){let e;return this.itemIdComputed?(this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost"+this._url),e=`${e.pathname}/${this.itemIdComputed}${e.search}`):e=`${this._url}/${this.itemIdComputed}`,e):this._url?this._url:void 0},_model(){return this.model||this.getModelFromStore(this.identity)},_mergedOptions(){let e=Object(n["merge"])({},_,this.options,this._model?this._model.options:{});return this.options!==_&&(e=Object(n["merge"])(e,this.options)),this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=Object(n["merge"])(this.mergedOptions.queryParams||this.$route.query.filters)),e.exportUrl||(e.exportUrl=this._url+"/export"),e.importUrl||(e.importUrl=this._url+"/import"),e||{}},formSchema(){if(!this._schema)return[];const e=this.parseSchema(this._schema);return e.styleClasses="row",e.mode=this.mode,e.fields&&(e.fields=e.fields.filter(e=>!this.displayFields||this.displayFields.includes(e.model)).map(t=>(t.styleClasses&&-1!==t.styleClasses.indexOf("col-")||(t.styleClasses=(t.styleClasses||"")+" col-12"),"bulkEdit"===e.mode&&(t.required=!1),t))),e},simpleFormSchema(){let e=this.formSchema.fields.filter(e=>e.required);return e.length||(e=this.formSchema.fields),{...this.formSchema,fields:e}},createFormSchema(){return this.useSimpleCreateForm?this.simpleFormSchema:this._formSchemaGrouped},_actions(){const e=Object(n["merge"])({},g["a"],this.actions||this._mergedOptions&&this._mergedOptions.actions);return Object.entries(e).forEach(([t,i])=>{"boolean"!==typeof i&&(e[t]=this.templateParseConditionalField(i))}),e},_formSchemaGrouped(){return this.layout&&Array.isArray(this.layout)&&this.layout.length?{...this.formSchema,type:"group",fields:this.layout.map(e=>({...e,type:"group",legend:e.legend||e.title,wrapperClasses:""+(e.wrapperClasses||""),cols:e.cols,styleClasses:""+(e.classes||e.styleClasses||""),headerClasses:""+(e.headerClasses||""),styles:""+(e.styles||""),fields:this.formSchema.fields.filter(t=>e.fields.includes(t.model))}))}:this.formSchema},_useCustomLayout(){return!(!this.useCustomLayout||!this.layout)},_editItemTile(){if(!this.itemIdComputed)return"";if(this._model&&this._model.displayField){const e=this.getItemProperty(this.selectedItem,this._model.displayField);if(e)return e}return this.itemIdComputed},_schema(){return this.schema||this._model&&this._model.schema},_shouldShowBackdrop(){return-1===["page","fullscreen","sideform"].indexOf(this.displayMode)&&this.show},_shouldHaveModalClasses(){return["fade","modal","fullscreen","sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_shouldHaveSlideClasses(){return["sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_getFieldsList(){const e=[];return this.formSchema.fields.forEach(t=>{let i=!1;this.layout&&Array.isArray(this.layout)&&this.layout.forEach(e=>{Object(n["includes"])(e.fields,t.model)&&(i=!0)}),i||e.push(t.model)}),e},shouldDisplayHeaderCpt(){return!["page","sidebar","sideform"].includes(this.displayMode)||this.displayHeader},itemIdComputed(){let e;return this.itemId?e=this.itemId:this.item&&this.item[this.primaryKey]?e=this.item[this.primaryKey]:this.selectedItem&&this.selectedItem[this.primaryKey]&&(e=this.selectedItem[this.primaryKey]),"string"===typeof e&&e.includes("{{")?this.templateParseText(e,{currentItem:this.item||this.selectedItem}):e}},watch:{name:"loadModel",identity:"loadModel",model:"loadModel",mode:"onModeChanged",options:"mergeOptions",item:"refreshComponent",needsRefresh:"refreshComponent",selectedItem:"onChange"},created(){},mounted(){if(this.openModalDebounced=Object(n["debounce"])(this.openModal,300,{leading:!0}),this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.modelName&&(this.identity=this.modelName),this.nestedModels.forEach(e=>{this.$set(this.nestedModelsCollapseState,e.identity,!!e.initiallyCollapsed)}),this.loadModel(),this.item&&(this.selectedItem=this.item),"create"===this.mode&&(this.selectedItem=Object(w["createDefaultObject"])(this.formSchema),this.selectedItem=Object(n["merge"])(this.selectedItem,this.item)),this.nestedElementsNeedRefresh=!0,setTimeout(()=>{this.nestedElementsNeedRefresh=!1},100),this.$route&&this.useRouterMode){const e=this.$route.matched[this.$route.matched.length-1];if(this.$route.path.endsWith("/new")||this.$route.path.endsWith("/create"))return"create"!==this.$route.params.id&&"new"!==this.$route.params.id||delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n["merge"])(this.selectedItem,this.$route.query.item)),void this.$awEmit("create",this.selectedItem,{reset:!1});if(this.$route.params.id){if("bulkEdit"===this.$route.params.id)return delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n["merge"])(this.selectedItem,this.$route.query.item)),void this.$awEmit("bulkEdit",this.selectedItem,{reset:!1});this.parentPath=e.path.replace("/edit","").replace("/:id","")}else this.parentPath=e.path}const e=this.mode+"Function";if(!this[e])throw new Error("no_action_available_for_mode_"+this.mode)},beforeRouteEnter(e,t,i){i(e=>{e.closeModal()})},beforeRouteLeave(e,t,i){i(e=>{e.closeModal()})},beforeDestroy(){document.body.classList.remove("modal-open")},methods:{$alert:l.a,startCase:n["startCase"],upperFirst:e=>Object(n["upperFirst"])(e),refreshComponent(e,t){e&&!1!==e&&(this.identity&&this.loadModel(),this.nestedElementsNeedRefresh=!0,setTimeout(()=>{this.nestedElementsNeedRefresh=!1,this.$emit("update:crudNeedsRefresh",!1),this.$emit("update:needsRefresh",!1),this.$emit("input:crudNeedsRefresh",!1),this.$emit("input:needsRefresh",!1)},100))},onTableRefresh(){this.statsNeedsRefresh=!0},onModeChanged(e,t){e!==t&&"create"===e&&(this.selectedItem=Object(w["createDefaultObject"])(this.formSchema)),this.loadModel()},mergeOptions(){this.options&&this.options.deletePermitted&&this.actions.delete&&this.$store&&this.$store.state&&!this.options.deletePermitted.some(e=>this.$store.state.user.roles.indexOf(e.toUpperCase())>=0)&&(this.actions.delete=!1),this.mergedOptions=Object(n["merge"])({},_,this.mergedOptions,this.options),this.$route&&this.$route.query&&this.$route.query.filters&&(this.mergedOptions.queryParams=Object(n["merge"])(this.mergedOptions.queryParams||this.$route.query.filters))},loadModel(){this.mergeOptions(),setTimeout(()=>{this.openModalDebounced()},100),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl=this._url+"/export"),this.mergedOptions.importUrl||(this.mergedOptions.importUrl=this._url+"/import"),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),"bulkEdit"!==this.mode&&"create"!==this.mode||this.selectedItem?this.selectedItem=this.item:this.selectedItem={}||Object(w["createDefaultObject"])(this.formSchema),this._selectedItemUrl&&this.itemIdComputed&&this.$awApi.get(""+this._selectedItemUrl).then(e=>{const t=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?Object(n["get"])(e,this.apiResponseConfig.dataPath):e.data;this.selectedItem=t,this.$awEmit("itemFetched",this.selectedItem),this.$awEmit("item-fetched",{component:"aw-form",context:this,item:Object(n["cloneDeep"])(t),identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent})}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1,this.$awEmit("input:needs-refresh",!1)})},getShemaForFields(e){if(!e||!e.length)return;const t=this.formSchema.fields.filter(t=>e.indexOf(t.model)>-1);return{...this.formSchema,fields:t}},openModalDebounced:()=>{},openModal(){switch(this.displayMode){case"modal":case"fade":document.body.classList.add("modal-open");break;case"slide":case"sidebar":case"sidebar-right":case"sidebar-left":case"fullscreen":document.body.classList.add("modal-open");break}this.show=!0,this.showBackdrop=!0},closeModal(){this.standalone||(this.parentPath&&this.useRouterMode,this.selectedItem={},setTimeout(()=>{this.show=!1,this.showBackdrop=!1},100),document.body.classList.remove("modal-open"))},cancel(){this.$awEmit("cancel",this.selectedItem||this.item,{context:this.mode})},close(){this.$awEmit("closeRequested",this.selectedItem&&this.selectedItem.id?this.selectedItem:this.item,{context:this.mode}),this.closeModal()},goToEditPage(e){if(!this._mergedOptions.editPath)return this.useRouterMode&&this.$router.push(`${this.parentPath}/${e[this.primaryKey]||this.itemIdComputed}/edit`),void this.editFunction(e);this.$router.push(this._mergedOptions.editPath.replace(":id",e[this.primaryKey]||this.itemIdComputed).replace("{{id}}",e[this.primaryKey]||this.itemIdComputed))},goToViewPage(e){if(!this._mergedOptions.viewPath)return this.useRouterMode&&this.$router.push({},null,`${this.parentPath}/${e[this.primaryKey]||this.itemIdComputed}`),this.activeNestedTab="general",void this.viewFunction(e);this.$router.push(this._mergedOptions.viewPath.replace(":id",e[this.primaryKey]||this.itemIdComputed).replace("{{id}}",e[this.primaryKey]||this.itemIdComputed))},async createItem(){if(!this._url)return this.$emit("save",this.selectedItem),this.$emit("change",this.selectedItem),!1;if(this.$refs.form){let t=this.$refs.form.validate();if(t.then)try{t=await t}catch(e){t=e}if(t&&t.length>0)return void this.$awEmit("validation-errors",{errors:t})}else console.warn("Unable to find the reference to the schema form on ",this.$route.path);return this.mergeSelectedItemWithRequestProps(),this.$awEmit("before-create",{component:"aw-form",context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent}),this.$awApi.post(this._url,this.selectedItem,{timeout:this.apiTimeout}).then(e=>{this.selectedItem=Object(n["get"])(e,this.apiResponseConfig.dataPath),this.$awEmit("item-created",{component:"aw-form",context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent}),this.$awNotify({title:this.$t("AwesomeDefault.messages.successfullyCreated",{title:this.type}),type:"success"}),this.$awEmit("itemCreated",this.selectedItem,{context:this.mode}),this.nestedElementsNeedRefresh=!0,this.$forceUpdate(),this.close()}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1,this.nestedElementsNeedRefresh=!1})},async bulkEditItems(){if(!this._url)return console.warn("AWESOMECRUD ERROR:: No url for submitting"),!1;if(this.$refs.form){let t=this.$refs.form.validate();if(t.then)try{t=await t}catch(e){t=e}if(t&&t.length>0)return void this.$awEmit("validation-errors",{errors:t})}else console.warn("Unable to find the reference to the schema form on ",this.$route.path);this.bulkItems.forEach(e=>{e[this.primaryKey]&&(e=Object(n["merge"])(e,this.selectedItem),this.$awEmit("itemsBulkEdited",e))}),this.close()},async editItem(){if(!this._url)return this.$emit("save",this.selectedItem),this.$emit("change",this.selectedItem),!1;if(!this.selectedItem[this.primaryKey]&&!this.itemIdComputed)return console.warn("AWESOMECRUD ERROR:: No primary key on this item",this.selectedItem,this.primaryKey),!1;if(this.$refs.form){let t=this.$refs.form.validate();if(t.then)try{t=await t}catch(e){t=e}if(t&&t.length>0)return void this.$awEmit("validation-errors",{errors:t})}return this.mergeSelectedItemWithRequestProps(),this.$awEventBus&&this.$awEventBus.$emit("before-update",{context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent}),this._selectedItemUrl?(this.$awApi.put(""+this._selectedItemUrl,this.selectedItem,{timeout:this.apiTimeout}).then(e=>{this.$awEmit("item-edited",{data:e.data}),this.$awNotify({title:this.$t("AwesomeDefault.messages.successfullyModified",{title:this.type}),type:"success"}),this.nestedElementsNeedRefresh=!0,this.$forceUpdate(),this.$awEmit("itemEdited",this.selectedItem,{context:this.mode}),this.close()}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1,this.nestedElementsNeedRefresh=!1}),!1):void 0},createFunction(e){this.$awEmit("create",e)},editFunction(e){this.activeNestedTab="general",this.$awEmit("edit",e)},viewFunction(e){this.$awEmit("view",e)},nestedViewFunction(e){this.$awEmit("nestedView",e),this.openModalDebounced()},deleteFunction(e){this.$awEmit("delete",e)},bulkEditFunction(e){this.$awEmit("bulkEdit",e)},getNestedItem(){this.mode="view",this._selectedItemUrl&&this.$awApi.get(""+this._selectedItemUrl).then(e=>{this.selectedItem=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?Object(n["get"])(e,this.apiResponseConfig.dataPath):e.data.body,this.$awEmit("itemFfetched",this.selectedItem),this.$awEmit("item-fetched",{component:"aw-form",context:this,item:this.selectedItem,identity:this.identity,parentIdentity:this.parentIdentity,parent:this.parent})}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},customAction(e){const{action:t}=e;return this.$awEmit(this.identity+"-custom-action",t),t&&t.action&&t.action(e,this)},listUpdated(e){this.$awEmit("list-updated",e),this.$awEmit(this.identity+"-list-updated",e)},renderSidebar(){},renderTabs(){},renderColumns(e){return e},renderGroup(){},renderForm(e={component:"VueFormGenerator",props:{}}){},openEditLayoutMode(){this.$awEmit("open-edit-layout-mode")},closeEditLayoutMode(){this.$awEmit("close-edit-layout-mode")},resetLayout(){const e={i:`awesomeForm-${this.identity}-${Date.now()}`,x:0,y:0,w:12,h:6,maxW:12,minH:2,legend:this.identity,fields:this.formSchema.fields.map(e=>e.model)};this.$awEmit("layout-resetted",[e])},exportLayout(){this.$awExport(this.layout)},onLayoutUpdated(e){this.$awEmit("layout-updated",e)},onLayoutFieldsUpdated(e){this.$awEmit("layout-fields-updated",e)},getNestedTabsTitle(e){return e.tabTitle?e.tabTitle:e.namePlural?e.namePlural:e.title?e.title:e.name?e.name:this.$te("awForm.labels.tabs."+e.identity)?this.$t("awForm.labels.tabs."+e.identity):this.startCase(e.identity)},getNestedActions(e){return Object(n["merge"])({},g["a"],e.actions)},isNestedModelDisplayable(e){return void 0===e.tabIsVisible||this.templateParseConditionalField(e.tabIsVisible,{parent:this.selectedItem})},onChange(e){this.$emit("change",e)},onModelUpdated(e,t){this.$emit("model-updated",e,t)}}},$=O,A=(i("2746"),i("2877")),F=Object(A["a"])($,s,a,!1,null,"08b98750",null);t["default"]=F.exports},"289a":function(e,t){e.exports=vuedraggable},2914:function(e,t,i){"use strict";t["a"]={props:{options:{},value:[String,Boolean,Array,Object,Number,Date,Function],type:{type:String,values:["image","boolean","url","html","object","array","date","relation","checkbox","component"]},src:String,row:Array,format:[String,Function],inputFormat:String,field:String,component:[String,Object],relation:String,relationUrl:String,relationLabel:String,relationKey:String,displayField:String,multiple:Boolean,storePath:String,store:Array,displayLabelCache:{type:Object,default:()=>null},onClickUrl:[String,Function],displayActions:{type:[Boolean,Number],default:!0,description:"display contextual actions when hovering the item "},isClickable:{type:[Boolean,Number],default:void 0,description:"Whether it's possible to click on the item"},tag:{type:[String,Object],default:"div"},prefix:String,suffix:String,label:String,styles:String,classes:String,imageClasses:[String,Array,Object],imageStyles:[String,Array,Object],isSafe:{type:Boolean,default:!1},striptags:{type:Boolean,default:!1,description:"Strip HTML tags from the html"},tagsToKeep:{type:Array,default:()=>["br","p"],description:"tags to keep the html"},embed:{type:Boolean,default:!1,description:"Embed the target content into an iframe"},displayExpandButton:{type:Boolean,default:!0,description:"Display a button to expand the size of the iframe"}},data(){return{}},methods:{clickOnItem(e){this.$emit("on-awesome-display-clicked",e)}}}},"2e65":function(e,t,i){"use strict";var s=i("8de2"),a=i.n(s);a.a},"31e6":function(e,t,i){},"32a2":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-table-segments bg-white"},[i("ul",{staticClass:"nav nav-pills"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:e.selectedSegment&&""!==e.selectedSegment&&"ALL"!==e.selectedSegment?"":"active",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.onClickOnSegment("ALL")}}},[e._v(e._s(e.$t("AwesomeDefault.messages.all")))])]),e._l(e._segmentsList,(function(t,s){return i("li",{key:s,staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:e.getSegmentKey(t)===e.selectedSegment?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(i){return e.onClickOnSegment(t)}}},[e._v(e._s(e.getSegmentLabel(t)))])])}))],2)])},a=[],n=i("60bb"),o=i.n(n),l=i("5a3e"),r=i("cae3"),d=i("eab4"),c=i("3ac4"),u=i("1b62"),p={name:"AwesomeSegments",components:{},mixins:[d["a"],l["a"],r["a"],c["a"],u["a"]],props:{field:{type:[Object,String],default:()=>null},name:{type:String,default:""},namePlural:{type:String,default:""},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path"},translations:{type:Object,default:()=>({"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty"})},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."}},data(){return{totalCount:0,isRefreshing:!1,selectedSegment:"ALL",segmentOptions:[]}},computed:{_segmentsList(){const e=o.a.get(this.field,"fieldOptions.filterDropdownItems")||o.a.get(this.field,"enum")||o.a.get(this.field,"fieldOptions.values")||o.a.get(this.field,"fieldOptions.option");return e&&e.length?e:this.segmentOptions},dataUrl(){let e=this.url||this.field.relationUrl;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,{...this.$props.model,currentItem:this.$props.model,context:this})),e||""}},watch:{_segmentsList(){this.$emit("segment-list-changed",this._segmentsList)}},created(){this.$t||(this.$t=e=>this.translations[e]||e,this.$te=e=>!!this.translations[e])},beforeMount(){},mounted(){this.dataUrl&&this.preloadFn()},beforeDestroy(){},methods:{onClickOnSegment(e){if(!e)return"";this.selectedSegment=this.getSegmentKey(e),this.$emit("aw-segment-changed",this.selectedSegment,e),this.$emit("change",{segmentField:this.field.field||this.field.model,segmentValue:this.getSegmentKey(e)})},preloadFn(){this.dataUrl&&this.$awApi.get(`${this.dataUrl}${-1===this.dataUrl.indexOf("?")?"?":"&"}perPage=100`,{params:{...o.a.get(this.field,"fieldOptions.queryParams")}}).then(e=>{this.segmentOptions=this.getData(e)}).finally(()=>{this.isDataReady=!0})},getData(e){const t=this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?o.a.get(e,this.apiResponseConfig.dataPath):e.data;if(Array.isArray(t))return t.map(e=>this.field.relationKey?{label:e[this.field.relationLabel],id:e[this.field.relationKey]}:e)}}},h=p,m=i("2877"),f=Object(m["a"])(h,s,a,!1,null,null,null);t["a"]=f.exports},"33a0":function(e,t){e.exports=vue2-daterange-picker},"35fa":function(e,t,i){},"383c":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));const s={advancedFiltering:!0,autoRefresh:!0,bulkDelete:!0,bulkEdit:!0,changeDisplayMode:!0,collapse:!0,columnsFilters:!0,create:!1,dateFilter:!1,delete:!0,edit:!0,editLayout:!0,export:!1,exportLocal:!1,filter:!0,formPagination:!0,import:!1,itemsPerRow:!0,noActions:!1,pagination:!0,refresh:!0,search:!0,tableConfiguration:!0,view:!0},a={scrollSensitivity:500,animation:200,moveList:!1,moveCard:!0,fields:{title:"",subtitle:"",image:"",description:"",labels:"",users:""},splittingField:"",splittingValues:null,sortField:"",sortOrder:"asc"}},"398f":function(e,t,i){},"3a6c":function(e,t,i){},"3ac4":function(e,t,i){"use strict";var s=i("60bb"),a=i.n(s),n=i("2743"),o=i("5a0c"),l=i.n(o),r=i("f906"),d=i.n(r);l.a.extend(d.a),t["a"]={props:{},mixins:[n["a"]],methods:{contextDataMerger(e=null){return Object(s["merge"])({parent:this.parent,context:this,currentItem:this.selectedItem||e,items:this.items,$state:this.$store&&this.$store.state,userHasRole:this.userHasRole,componentMode:this.mode||this.displayMode,moment:l.a,dayjs:l()},e)},templateParser(e,t){t=this.contextDataMerger(t),s["templateSettings"].interpolate=/{{([\s\S]+?)}}/g;const i=Object(s["template"])(e);return i(t)},templateParseText(e,t){try{return this.templateParser(e,t)}catch(i){return console.warn("[templateParserText]",i.message,t),e}},templateParseUrl(e,t){try{return this.templateParser(e,t)}catch(i){return console.warn("[templateParser]",i.message),e}},templateParseBoolean(e,t=null){try{if(!e||-1===e.indexOf("{{"))return e;const i=this.templateParser(e,t);return"1"===i||"true"===i||(0===i||"0"===i||"false"===i||console.warn("[VAC] boolean templates must revolve to a boolean result.",i,"was returned for template",e),!1)}catch(i){return console.warn("[templateParseBoolean]",i.message),!1}},templateParseFunc(e,t=null){try{return e&&"function"===typeof e?(t=this.contextDataMerger(t),e(t)):e}catch(i){return console.warn("[templateParseFunc]",i.message),e}},templateParseConditionalField(e,t=null){return"boolean"==typeof e?e:Object(s["isString"])(e)?this.templateParseBoolean(e,t):Object(s["isFunction"])(e)?!!this.templateParseFunc(e,t):e},getItemProperty(e,t){if(!e)return"";if(t&&t.indexOf("{{")>-1&&t.indexOf("}}")>-1){let i=this.templateParseText(t,{...e,currentItem:e});return i}return a.a.get(e,t)},parseUrl(e,t){return this.templateParseUrl(e,{...this.selectedItem,parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items,...t})}}}},"3b48":function(e,t,i){},"3c38":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticClass:"progress",staticStyle:{height:"5px","border-radius":"0px",position:"absolute",top:"0",left:"0",width:"100%","z-index":"10000"}},[i("div",{staticClass:"bg-primary progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"5%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])])}],n={name:"ProgressBar",components:{},mixins:[],emits:["input","refresh"],props:{value:{default:""},autoRefresh:{type:[Boolean]},autoRefreshInterval:{type:[Number],default:30}}},o=n,l=i("2877"),r=Object(l["a"])(o,s,a,!1,null,null,null);t["a"]=r.exports},4212:function(e,t){e.exports=chartist},5017:function(e,t,i){},"517e":function(e,t,i){},"51ac":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-kanban aw-listing"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("kanban-header-left"),i("div",{directives:[{name:"show",rawName:"v-show",value:e.segmentFieldDefinitionComputed,expression:"segmentFieldDefinitionComputed"}],staticClass:"card aw-segment-table-wrapper d-none"},[i("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange,"segment-list-changed":e.onSegmentListChanged}})],1)],2),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("kanban-header-right",(function(){return[i("button",{staticClass:"btn btn-primary",staticStyle:{visibility:"hidden"}},[e._v(" ")])]}))],2),i("div",{staticClass:"card aw-kanban-card"},[i("div",{staticClass:"d-block"},[i("div",{staticClass:"card-header aw-kanban-header"},[i("div",{staticClass:"row"},[e.isRefreshing?i("ProgressBar"):e._e(),i("div",{staticClass:"col-12 col-md-8"},[i("h3",{staticClass:"text-left aw-kanban-title"},[e._t("kanban-title",(function(){return[e.titleComputed?[e._v(e._s(e.titleComputed)+" "),i("span",{staticClass:"badge badge-primary d-inline p-1"},[e._v(e._s(e.totalCount))])]:e._e()]})),e.actions&&e.actions.refresh?i("auto-refresh-button",{attrs:{"auto-refresh":e.autoRefresh,"auto-refresh-interval":e.autoRefreshInterval},on:{refresh:function(t){return e.getItems({useSkeleton:!0})}},model:{value:e.isRefreshing,callback:function(t){e.isRefreshing=t},expression:"isRefreshing"}}):e._e(),i("div",{staticClass:"btn-group btn-group-sm float-right awesome-list-buttons"},[e._t("top-actions"),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions.filter&&e.actions.advancedFiltering?i("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.filters"))+" "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+" ")]):e._e(),i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-simple dropdown-toggle btn-sm",attrs:{slot:"reference",type:"button"},slot:"reference"},[e._v(" "+e._s(e.$t("AwesomeTable.more"))+" ")]),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("top-more-actions"),e.actions&&e.actions.export?i("button",{staticClass:"btn  btn-sm text-success btn-block",on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("common.buttons.excel"))+" ")]):e._e()],2)])],1)],2)],2)]),i("div",{staticClass:"col-12 col-md-4"},[e.actions.search?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.$t("AwesomeTable.searchInput")},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()]),i("div",{staticClass:"col-12"},[e.displayAwFilter?i("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),i("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}})],1)],1)])]),i("div",{staticClass:"card-body"},[i("div",{ref:"scrollableDiv",staticClass:"awesome-kanban"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:e.localLists,group:"lists",animation:e.options.animation,"ghost-class":"moving-list",scrollSensitivity:e.scrollSensitivity||e.options.scrollSensitivity,disabled:!e.options.moveList},on:{change:e.listChanged}},e._l(e.localLists,(function(t,s){return i("KanbanList",{key:s,attrs:{animation:e.options.animation,columns:e.columns,"custom-list-actions":e.customListActions,descriptionField:e.descriptionField,disabled:!e.options.moveCard,"display-labels-cache":e.displayLabelsCache,fields:e.options.fields,"card-click-resolver":e.cardClickResolver,id:t.id,imageField:e.imageField,items:t.content,labelsField:e.labelsField,"scroll-sensitivity":e.options.scrollSensitivity,showColumns:e.options.showColumns,subtitleField:e.subtitleField,title:t.title,titleField:e.titleField,userImageField:e.userImageField,usersField:e.usersField,userTitleField:e.userTitleField,group:"card",allowRemovingList:e.actions.removeList},on:{"remove-list":e.onRemoveList,customListAction:e.onCustomListAction,change:e.onCardChanged,cardRemoved:e.onCardRemoved,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked,cardMoved:e.onCardMoved,choose:e.onChoose,unchoose:e.onUnChoose},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)})})),1),e.actions&&e.actions.addKanbanList?i("div",{staticClass:"card add-list",on:{click:function(t){return t.stopPropagation(),e.editForm.apply(null,arguments)}}},[i("div",{staticClass:"card-body"},[e.isAddingList?e._e():i("div",{staticClass:"card-text"},[i("i",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.$t("AwesomeKanban.labels.addList"))+" ")]),e.isAddingList?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newListName,expression:"newListName"}],staticClass:"form-control mb-1",attrs:{type:"text",placeholder:e.$t("AwesomeKanban.labels.listName")},domProps:{value:e.newListName},on:{input:function(t){t.target.composing||(e.newListName=t.target.value)}}}),i("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.newListName},on:{click:function(t){return t.stopPropagation(),e.addList.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("AwesomeKanban.labels.add"))+" ")]),i("button",{staticClass:"btn btn-primary ml-1",on:{click:function(t){return t.stopPropagation(),e.clearForm.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-times"})])]):e._e()])]):e._e()],1)])])])},a=[],n=i("60bb"),o=i.n(n),l=i("97d1"),r=i.n(l),d=i("5a3e"),c=i("5d5e"),u=i("99b5"),p=i("6c53"),h=i("b5ef"),m=i("f1e6"),f=i("1b62"),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list",class:e.items&&e.items.length?"list-has-items":"list-no-items"},[i("div",{staticClass:"list-content"},[i("div",{staticClass:"list-header"},[i("div",{staticClass:"list-title"},[e._t("kanban-list-title",(function(){return[e._v(" "+e._s(e.title)+" ")]}),{title:e.title,items:e.items,id:e.id})],2),i("div",{staticClass:"list-actions"},[i("div",{staticClass:"dropdown column dropleft"},[i("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideActionDropdown,expression:"hideActionDropdown"}],staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button","aria-haspopup":"true","aria-expanded":"false"},on:{click:e.toggleActionDropdown}},[i("i",{staticClass:"fa fa-ellipsis-h"})]),i("div",{staticClass:"dropdown-menu",class:e.showActionDropdown?"show":"",attrs:{"aria-labelledby":"filter"}},[e._l(e.customListActions,(function(t,s){return[i("a",{key:s,staticClass:"dropdown-item",class:t.class,attrs:{href:"javascript:void(0)",id:t.name+"-"+s,"data-title":t.title||t.label,"data-tooltip":t.title||t.label},on:{click:function(i){e.$emit("customListAction",{action:t,items:e.items,location:"",id:t.name+"-"+s}),e.hideActionDropdown()}}},[t.icon?i("i",{class:t.icon}):e._e(),i("span",{domProps:{innerHTML:e._s(t.label?e.$t(t.label):"")}})])]})),e.customListActions.length?i("div",{staticClass:"dropdown-divider"}):e._e(),e.allowRemovingList?i("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.removeList.apply(null,arguments)}}},[e._v(e._s(e.$t("AwesomeKanban.labels.removeList")))]):e._e()],2)])])]),i("div",{staticClass:"list-cards"},[i("Draggable",{staticClass:"draggable-card",attrs:{list:e.items,group:e.group,animation:e.animation,"ghost-class":"moving-card",delay:300,"delay-on-touch-only":!0,"scroll-sensitivity":e.scrollSensitivity},on:{change:e.cardChanged,choose:function(t){return e.onChoose(t)},unchoose:function(t){return e.onUnChoose(t)}}},[e._t("kanban-list-items",(function(){return e._l(e.items,(function(t,s){return i("div",{key:s,staticClass:"card",on:{click:function(i){return e.cardClicked(t,i)}}},[i("router-link",{staticClass:"kanban-card-link",attrs:{to:e.cardClickResolver&&e.cardClickResolver(t)?e.cardClickResolver(t):"",tag:e.cardClickResolver&&e.cardClickResolver(t)?"a":"div"}},[e._t("kanban-list-item",(function(){return[e.imageField&&e.getItemProperty(t,e.imageField)?i("img",{staticClass:"card-img-top",attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),i("div",{staticClass:"card-body"},[e.usersField&&e.getItemProperty(t,e.usersField)?[i("div",{staticClass:"pull-right kanban-card-users-avatars"},[e._l(e.getItemUsers(t,e.usersField),(function(t,s){return[e.getUserAvatar(t)?i("img",{key:s,staticClass:"kanban-user-img",attrs:{alt:e.getItemProperty(t,e.userTitleField),src:e.getUserAvatar(t)}}):i("span",{key:s,staticClass:"text-info user-initials"},[e._v(e._s(e.getUserInitials(t)))])]}))],2)]:e._e(),e.getItemProperty(t,e.titleField)?i("h5",{staticClass:"card-title text-truncate"},[e._v(" "+e._s(e.getItemProperty(t,e.titleField))+" ")]):e._e(),e.getItemProperty(t,e.subtitleField)?i("h6",{staticClass:"card-subtitle mb-2 text-muted text-truncate"},[e._v(" "+e._s(e.getItemProperty(t,e.subtitleField))+" ")]):e._e(),e.getItemProperty(t,e.descriptionField)?i("p",{staticClass:"card-text"},[e._v(" "+e._s(e.getItemProperty(t,e.descriptionField))+" ")]):e._e(),e.getLabelsProperty(t,e.labelsField)?i("div",{staticClass:"pull-right tags-field"},e._l(e.getItemProperty(t,e.labelsField),(function(t,s){return i("small",{key:s,staticClass:"badge badge-primary kanban-label"},[e._v(e._s(t))])})),0):e._e(),e.columns&&e.columns.length&&(!e.hasFormattingData||e.displayColumnsInCards)?e._l(e.getAllowedData(t),(function(t,s){return i("div",{key:s},[e._v(" "+e._s(s)+" : "),i("AwesomeDisplay",{attrs:{type:e.getField(s).type,value:t,relation:e.getField(s).relation,"relation-label":e.getField(s).relationLabel,"relation-url":e.getField(s).relationUrl,"relation-key":e.getField(s).relationKey,"display-label-cache":e.displayLabelsCache}})],1)})):e._e(),e.hasFormattingData||e.displayColumnsInCards?e._e():i("p",{staticClass:"card-text"},[e._v(" "+e._s(e.$t("AwesomeKanban.labels.noData"))+" ")])],2)]}),{title:e.title,item:t,index:s})],2)],1)}))}),{title:e.title,items:e.items})],2)],1)])])},b=[],y=i("8bbf"),v=i.n(y),C=i("e67d"),w=i.n(C),_=i("3ac4"),O=i("0dce"),$={name:"KanbanList",components:{AwesomeDisplay:O["a"]},mixins:[d["a"],h["a"],_["a"]],directives:{ClickOutside:w.a},props:{id:{type:String,required:!0},title:{type:[String,Boolean],default:""},items:{type:Array,default:()=>[]},group:{type:String,default:"default"},animation:{type:Number,default:200},scrollSensitivity:{type:Number,default:500},columns:{type:Array,default:()=>[]},customListActions:{type:Array,default:()=>[]},displayLabelsCache:{type:Object,default:()=>({})},displayColumnsInCards:{type:Boolean,default:!1},allowRemovingList:{type:Boolean,default:!1},cardClickResolver:Function},created(){this.$root.$options.components["Draggable"]||v.a.options.components["Draggable"]||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!")},data:()=>({showActionDropdown:!1}),methods:{removeList(){this.$emit("remove-list",{id:this.id,title:this.title}),this.hideActionDropdown()},cardChanged(e){this.$emit("change",e,{id:this.id,title:this.title},this.items),e&&(e.added&&this.$emit("cardAdded",e.added,{id:this.id,title:this.title},this.items),e.removed&&this.$emit("cardRemoved",e.removed,{id:this.id,title:this.title},this.items),e.moved&&this.$emit("cardMoved",e.moved,{id:this.id,title:this.title},this.items))},getAllowedData(e){let t={};return Object.keys(e).forEach(i=>{this.columns.forEach(s=>{s.field===i&&(t=Object.assign(t,o.a.pick(e,[i])))})}),t},getField(e){const t=o.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},cardClicked(e,t){this.$emit("cardClicked",e,t)},getItemUsers(e,t){const i=this.getItemProperty(e,t);return Array.isArray(i)?i:[i]},hideActionDropdown(){this.showActionDropdown=!1},toggleActionDropdown(){this.showActionDropdown=!this.showActionDropdown},getLabelsProperty(e,t){const i=this.getItemProperty(e,t);return Array.isArray(i)?i:[i]},getUserInitials(e){const t="string"===e?e:this.getItemProperty(e,this.userTitleField);return t?t.includes(" ")?t.trim().split(" ").map(e=>e.slice(0,1)).join(""):t.substring(0,2):""},getUserAvatar(e){const t=this.getItemProperty(e,this.userImageField)||e&&e.src;return t||""},onChoose(e){this.$emit("choose",e)},onUnChoose(e){this.$emit("unchoose",e)}},computed:{hasFormattingData(){return this.titleField||this.imageField||this.subtitleField||this.descriptionField||this.labelsField}}},A=$,F=(i("91be"),i("2877")),k=Object(F["a"])(A,g,b,!1,null,"53105d1a",null),S=k.exports,x=i("5598"),P=i("32a2"),I=i("76d4"),R=i("3c38"),D=i("383c"),L={name:"AwesomeKanban",components:{AutoRefreshButton:I["a"],AwesomeFilter:x["a"],AwesomeSegments:P["a"],KanbanList:S,ProgressBar:R["a"],Popper:r.a},mixins:[d["a"],u["a"],c["a"],p["a"],h["a"],f["a"],m["a"]],props:{perPage:{type:[String,Number],default:200},splittingField:{type:[String,Object]},sortField:{type:[String,Object]},sortOrder:{type:String,default:"asc",validator:e=>["asc","desc"].includes(e)},splittingValues:{type:Array},lists:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},options:{type:Object,default:()=>D["b"]},actions:{type:Object,default:()=>({refresh:!0,addKanbanList:!0,removeList:!1})},displayOrphansList:{type:Boolean,default:!0},displayColumnsInCards:{type:Boolean,default:!1},customListActions:{type:Array,default:()=>[],note:"See https://enyosolutions-team.github.io/vue-awesome-components/guide/awesomecrud/custom-actions.html"},scrollSensitivity:{type:Number,default:500,note:"See https://github.com/SortableJS/Sortable/tree/master/plugins/AutoScroll#scrollsensitivity-option"},cardClickResolver:Function},created(){this.$root.$options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!"),this.reorderListItemsDebounced=o.a.debounce(this.reorderListItems,200)},mounted(){this.handleLists(),this.serverParams&&this.serverParams.page>1&&(this.updateParams({page:0}),this.pushChangesToRouter({query:{page:0}},!0),this.connectRouteToPagination(this.$route),this.getItems())},computed:{_model(){return this.model||this.getModelFromStore(this.identity)},titleComputed(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.pluralName?this.$te(this._model.pluralName)?this.$t(this._model.pluralName):o.a.startCase(this._model.pluralName):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):o.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):o.a.startCase(this._model.name):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):""},splittingValuesComputed(){return this.splittingValues&&Array.isArray(this.splittingValues)&&this.splittingValues.length?this.splittingValues:this.splittingFieldApiValues},segmentFieldDefinitionComputed(){if(!this.splittingField)return"";if(this.columns){const e=this.columns.find(e=>e.field===this.splittingField);if(e)return e}return""},_filterableColumns(){return this.columns.map(e=>(e.filterOptions&&(e.filterOptions.enabled=(void 0===this.displayAwFilter||this.displayAwFilter)&&(void 0===e.filterOptions.filterable||e.filterOptions.filterable)),e))}},watch:{lists(){this.handleLists()},data(){this.handleLists()},splittingField(){this.handleLists()},splittingValuesComputed(){this.handleLists()},"options.sortField"(){this.orderCardInLists()},"options.sortOrder"(){this.orderCardInLists()},search(e){this.onSearch({searchTerm:e})}},data:()=>({localLists:[],isAddingList:!1,newListName:"",isRefreshing:!1,displayLabelsCache:{},splittingFieldApiValues:[],displayAwFilter:!1,search:"",scrollBox:{}}),methods:{addList(){this.newListName&&(o.a.some(this.localLists,{title:this.newListName})||(this.localLists.push({id:this.newListName,title:this.newListName,content:[]}),this.newListName="",this.isAddingList=!1),this.$awEmit("aw-kanban-list-added",this.localLists[this.localLists.length-1]))},clearForm(){this.isAddingList=!1,this.newListName=""},editForm(){this.isAddingList=!0},onRemoveList(e){this.localLists=o.a.filter(this.localLists,t=>t.title!==e),this.$emit("removeList",e),this.$awEmit("aw-kanban-list-removed",e)},listChanged(e){this.$emit("listChanged",e),this.$awEmit("aw-kanban-list-changed",e,this.localLists)},onCardChanged(e,t,i){this.$emit("cardChanged",e,t,i),this.reorderListItemsDebounced(i)},onCardRemoved(e,t){this.$emit("cardRemoved",e,t)},onCardAdded(e,t,i){this.$emit("cardAdded",e,t,i),this.changeItemSplittingValue(e,t,i)},onCardMoved(e,t){this.$emit("cardAdded",e,t)},onCardClicked(e,t){this.$emit("cardClicked",e,t)},handleLists(){if(this.lists&&this.lists.length)this.localLists=o.a.cloneDeep(this.lists);else{const e=this.displayOrphansList?[{id:"unsorted",title:this.$t("AwesomeKanban.labels.unsorted"),content:this.data?this.data.filter(e=>void 0==e[this.splittingField]):[]}]:[];this.localLists=o.a.cloneDeep(e)}this.splitItemsInLists(),this.orderCardInLists()},splitItemsInLists(){this.splittingField&&this.splittingValuesComputed&&Array.isArray(this.splittingValuesComputed)&&this.splittingValuesComputed.forEach(e=>{let t=e,i=e.toString();"object"===typeof e&&(t=this.segmentFieldDefinitionComputed.relation&&e[this.segmentFieldDefinitionComputed.relationKey]||e.id||e,i=this.segmentFieldDefinitionComputed.relation&&e[this.segmentFieldDefinitionComputed.relationLabel]||e.label||t);let s=[];this.data?(s=o.a.filter(this.data,[this.splittingField,t]),"unsorted"===t&&(s=s.push(...this.data.filter(e=>e[this.splittingField]==t)))):(this.localLists.forEach(e=>{s.push(o.a.filter(e.content,[this.splittingField,t])),o.a.remove(e.content,e=>e[this.splittingField]===t)}),s=o.a.flatten([...s])),o.a.some(this.localLists,{id:t,title:i})||this.localLists.push({id:t,title:i,content:s})})},orderCardInLists(){const e=this.sortOrder?this.sortOrder.toLowerCase():"asc";this.sortField&&this.localLists.forEach(t=>{t.content.length>1&&(t.content=o.a.orderBy(t.content,e=>e[this.sortField],[e]))})},onCustomListAction(e){this.$emit("customListAction",e)},getSegmentValues(e){return e&&(e.fieldOptions&&e.fieldOptions.filterDropdownItems||e.enum||e.fieldOptions.values||e.fieldOptions.options)},async changeItemSplittingValue({element:e,newIndex:t},i,s){e[this.splittingField]="unsorted"===i.id||void 0===i.id?null:i.id,this.sortField&&delete e[this.sortField];const a=this._url.split("?");a[0]=`${a[0]}/${e[this.primaryKey]}`,await this.$awApi.put(a.join("?"),e)},async reorderListItems(e){if(this.sortField&&e){const t=e.map((e,t)=>{const i=this._url.split("?");return delete e[this.splittingField],i[0]=`${i[0]}/${e[this.primaryKey]}`,this.$awApi.put(i.join("?"),{...e,[this.sortField]:t})});await Promise.all(t)}},onSegmentListChanged(e){this.splittingFieldApiValues=e},onMouseMove(e){const t=this.$refs.scrollableDiv;this.scrollBox||(this.scrollBox=this.$refs.scrollableDiv.getBoundingClientRect()),document.querySelector("#scrollableDiv");const i=document.body.offsetWidth-e.pageX,s=e.pageX-this.scrollBox.x;i<50&&t.scrollLeft+t.offsetWidth<t.scrollWidth?t.scrollLeft+=10:s<0&&t.scrollLeft>0&&(t.scrollLeft-=10)},onChoose(e){this.scrollBox=this.$refs.scrollableDiv.getBoundingClientRect(),document.addEventListener("dragover",this.onMouseMove)},onUnChoose(e){document.removeEventListener("dragover",this.onMouseMove)}}},T=L,M=(i("1893"),Object(F["a"])(T,s,a,!1,null,null,null));t["a"]=M.exports},5264:function(e,t,i){"use strict";var s=i("bf7a"),a=i.n(s);a.a},5598:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-filter"},[e.editFilters?i("div",{staticClass:"filtering"},[i("h6",{staticClass:"card-subtitle text-muted mb-2"},[e._v(e._s(e.$t("AwesomeFilter.labels.filterData")))]),i("form",{staticClass:"container",on:{submit:function(t){return t.preventDefault(),e.addFilter()}}},[i("div",{staticClass:"dropdown column  pl-0"},[i("select",{ref:"filterField",staticClass:"form-control btn-outline-primary",attrs:{placeholder:Object.keys(e.currentField).length?e.currentField.label:e.$t("AwesomeFilter.labels.fields")},on:{change:e.selectFilter}},[i("option",{staticClass:"text-primary",attrs:{value:""},on:{click:function(t){t.preventDefault(),e.currentField={}}}},[e._v(e._s(e.$t("AwesomeFilter.labels.fields")))]),i("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._l(e._filterableFields,(function(t,s){return i("option",{key:s,domProps:{value:t.field},on:{click:function(i){e.currentField=t}}},[e._v(" "+e._s(t.label)+" ")])}))],2)]),i("awesome-filter-operator",{attrs:{"current-field":e.currentField,"in-popper":""},model:{value:e.currentOperator,callback:function(t){e.currentOperator=t},expression:"currentOperator"}}),i("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue,"current-value-label":e.currentValueLabel},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t},"update:currentValueLabel":function(t){e.currentValueLabel=t},"update:current-value-label":function(t){e.currentValueLabel=t}}}),i("div",{staticClass:"awesome-filter-add-block pt-1 "},[i("button",{staticClass:"btn btn-primary btn-block chip-button",attrs:{disabled:!Object.keys(e.currentField).length,type:"button"},on:{click:function(t){return t.preventDefault(),e.addFilter()}}},[i("i",{staticClass:"fa fa-save"})])])],1)]):e._e(),e.permanentFilter||e.permanentInput?i("div",[i("div",{staticClass:"chip-groups"},[i("div",{staticClass:"chip chip-primary dark chip-permanent",class:{"aw-filter-no-label":!e.showLabel,"aw-filter-no-operator":!e.showOperator}},[i("div",{staticClass:"chip-content"},[e.showLabel?i("span",{staticClass:"form-control"},[e._v(e._s(e.fieldLabel||e.field))]):e._e(),e.showOperator?i("awesome-filter-operator",{attrs:{"current-field":e.currentField,"permanent-input":e.permanentInput},model:{value:e.currentOperator,callback:function(t){e.currentOperator=t},expression:"currentOperator"}}):e._e(),i("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue,"current-value-label":e.currentValueLabel,"permanent-input":e.permanentInput},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t},"update:currentValueLabel":function(t){e.currentValueLabel=t},"update:current-value-label":function(t){e.currentValueLabel=t}}})],1)])])]):e._e(),e.displayFilters&&e.advancedFilters&&e.advancedFilters.length?i("div",{staticClass:"active-filter"},[i("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v(e._s(e.$t("AwesomeFilter.labels.activeFilter")))]),i("div",{staticClass:"chip-groups"},e._l(e.advancedFilters,(function(t,s){return i("div",{key:s,staticClass:"chip chip-primary bg-primary dark"},[i("div",{staticClass:"chip-content"},[i("span",{staticClass:"form-control"},[e._v(e._s(t.field?t.field.label:""))]),i("strong",{staticClass:"ml-2 mr-2"},[e._v(" "+e._s(t.filter?t.filter.shortText||t.filter.text:"")+" ")]),"object"===typeof t.value?i("div",[e._l(t.value,(function(s,a){return["relation"===t.field.type?i("span",{key:a},[i("AwesomeDisplay",e._b({attrs:{field:t.field.field,type:"relation",value:s,isClickable:!1}},"AwesomeDisplay",t.field,!1))],1):i("span",{key:a},[e._v(" "+e._s(s))])]}))],2):i("div",[t.valueLabel?i("span",[e._v(" "+e._s(t.valueLabel))]):"relation"===t.field.type?i("span",[i("AwesomeDisplay",e._b({attrs:{field:t.field.field,type:"relation",value:t.value,isClickable:!1}},"AwesomeDisplay",t.field,!1))],1):i("span",[e._v(e._s(t.value))])]),i("button",{staticClass:"btn text-muted d-none p-0",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),e.editFilter(t)}}},[i("i",{staticClass:"fa fa-edit"})]),i("button",{staticClass:"btn text-muted p-1",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),e.removeFilter(t)}}},[i("i",{staticClass:"fa fa-times-circle"})])])])})),0)]):e._e()])},a=[],n=i("60bb"),o=i.n(n),l=i("0dce"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown column awesome-filter-operator"},[i("select",{staticClass:"btn form-control btn-outline-primary",class:{"font-weight-bold":e._filterSelected},attrs:{disabled:!(e.currentField&&e.currentField.field)||e.permanentInput},on:{change:e.updateFilter}},[i("option",{staticClass:"dropdown-item",attrs:{disabled:""}},[e._v(e._s(e.$t("AwesomeFilter.labels.filters")))]),i("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._l(e._getFilters,(function(t){return i("option",{key:t.value,domProps:{value:t.value,selected:t.value===(e.currentOperator&&e.currentOperator.value)}},[e._v(" "+e._s(e.formatLabel(t)))])}))],2)])},d=[],c=i("5a3e"),u={name:"AwesomeFilterOperator",mixins:[c["a"]],model:{prop:"currentOperator",event:"update"},props:{currentField:{type:Object,required:!0},currentOperator:{type:Object,required:!0},permanentInput:{type:Boolean},inPopper:{type:Boolean}},data:()=>({filters:[],rules:{text:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],object:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],datetime:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isNotDefined"],number:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],integer:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],time:["$eq","$ne","$gt","$gte","$lt","$lte","$isNull","$isNotNull","$isDefined","$isNotDefined"],relation:["$eq","$ne","$in","$isNull","$isNotNull","$isDefined","$isNotDefined"],boolean:["$eq","$ne","$isNull","$isNotNull","$isDefined","$isNotDefined"]}}),methods:{updateFilter(e){let t={};e.target.value&&(t=this.filters.find(t=>t.value===e.target.value)),this.$emit("update",t)},formatLabel(e){return this.currentOperator&&e.value===this.currentOperator.value&&e.shortText||e.text}},computed:{_getFilters(){if(this.currentField&&Object.keys(this.currentField).length){const e=o.a.filter(this.filters,e=>{if(o.a.includes(this.rules[this.currentField.type],e.value))return e});if(e.length)return e}return this.filters},_filterSelected(){return this.currentOperator&&Object.keys(this.currentOperator).length>0}},mounted(){this.filters=[{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},{shortText:"",text:this.$t("AwesomeFilter.filters.in"),value:"$in"},{shortText:"!=",text:this.$t("AwesomeFilter.filters.not-equals"),value:"$ne"},{shortText:">",text:this.$t("AwesomeFilter.filters.greater-than"),value:"$gt"},{shortText:">=",text:this.$t("AwesomeFilter.filters.greater-or-equals"),value:"$gte"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-than"),value:"$lt"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-or-equals"),value:"$lte"},{text:this.$t("AwesomeFilter.filters.between"),value:"$between"},{text:this.$t("AwesomeFilter.filters.not-between"),value:"$notBetween"},{text:this.$t("AwesomeFilter.filters.contains"),value:"$like"},{text:this.$t("AwesomeFilter.filters.not-contains"),value:"$notLike"},{text:this.$t("AwesomeFilter.filters.starts-with"),value:"$startsWith"},{text:this.$t("AwesomeFilter.filters.ends-with"),value:"$endsWith"},{text:this.$t("AwesomeFilter.filters.is-null"),value:"$isNull"},{text:this.$t("AwesomeFilter.filters.is-not-null"),value:"$isNotNull"},{text:this.$t("AwesomeFilter.filters.is-defined"),value:"$isDefined"},{text:this.$t("AwesomeFilter.filters.is-not-defined"),value:"$isNotDefined"}]}},p=u,h=i("2877"),m=Object(h["a"])(p,r,d,!1,null,"b95b5eb0",null),f=m.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return["$isNull","$isNotNull","$isDefined","$isNotDefined"].includes(e.currentFilter.value)?e._e():i("div",{staticClass:"column awesome-filter-value"},[Object.keys(e.currentField).length||e.permanentInput?i("div",["number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"===e.currentFilter.value||"$notBetween"===e.currentFilter.value?("text"===e.currentField.type||"html"===e.currentField.type||"string"===e.currentField.type||"url"===e.currentField.type)&&!e.currentFieldEnum||e.permanentInput?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e():i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),"text"!==e.currentField.type&&"string"!==e.currentField.type&&"url"!==e.currentField.type||!e.currentFieldEnum?"number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"!==e.currentFilter.value&&"$notBetween"!==e.currentFilter.value?"boolean"===e.currentField.type?i("div",{staticClass:"form-element"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"true"}},[e._v("true")]),i("option",{attrs:{value:"false"}},[e._v("false")]),i("option",{domProps:{value:"NULL"}},[e._v("Null")])])]):"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"===e.currentFilter.value||"$between"===e.currentFilter.value?"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"!==e.currentFilter.value&&"$between"!==e.currentFilter.value?"relation"===e.currentField.type?i("FieldVSelect",{staticClass:"form-control input-group-sm",attrs:{schema:Object.assign({},e.currentField,{model:e.currentField.field,hidden:!1,fieldOptions:Object.assign({},e.currentField,{hidden:!1})}),model:{},multiple:e.currentFilter&&"$in"===e.currentFilter.value,taggable:"",placeholder:e.$t("AwesomeFilter.labels.filterValue"),url:e.currentField.relationUrl,clientID:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):"object"===e.currentField.type?i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}):"time"===e.currentField.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control input-group-sm",attrs:{type:"time",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e():i("div",{staticClass:"form-element"},[i("date-range-picker",{staticClass:"form-group vgt-date-range",attrs:{"date-range":e.dateRangePicker,"locale-data":e.dateRangePicker.locale,open:"left"},on:{update:e.onDateFilter}})],1):i("div",{staticClass:"form-element"},[i("date-range-picker",{staticClass:"form-group",attrs:{"locale-data":e.dateRangePicker.locale,"date-range":e.dateRangePicker,"single-date-picker":!0,"time-picker":!0,open:"left","time-picker-increment":1,"show-week-numbers":!1,"show-dropdowns":!1,ranges:!1},on:{update:e.onDateFilter}})],1):i("div",{staticClass:"form-element between"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value.from,expression:"value.from",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.from")},domProps:{value:e.value.from},on:{input:function(t){t.target.composing||e.$set(e.value,"from",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.value.to,expression:"value.to"}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.to")},domProps:{value:e.value.to},on:{input:function(t){t.target.composing||e.$set(e.value,"to",t.target.value)}}})]):i("div",{staticClass:"dropdown"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{"aria-labelledby":"field"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.$t("AwesomeFilter.labels.values")))]),e._l(e.currentFieldEnum,(function(t,s){return i("option",{key:s,domProps:{selected:t===e.value}},[e._v(" "+e._s(t)+" ")])}))],2)]),e.isUnsupportedType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control input-group-sm v-else",class:"field-type-"+e.currentField.type,attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e()],1):e._e()])},b=[],y=i("33a0"),v=i.n(y),C=(i("53b4"),i("5a0c")),w=i.n(C),_=i("5e0f"),O=i.n(_),$=i("59cd");w.a.extend(O.a);var A={name:"AwesomeFilterValue",mixins:[c["a"]],components:{DateRangePicker:v.a,FieldVSelect:$["a"]},props:{currentField:{type:Object,required:!0},currentFilter:{type:Object,required:!0},currentValue:{required:!0},currentValueLabel:{type:String,required:!1},permanentInput:{type:Boolean}},data:()=>({value:"",valueLabel:"",dateRangePicker:{startDate:w()(),endDate:w()().add(7,"days"),locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:w.a.weekdaysMin(),monthNames:w.a.monthsShort(),firstDay:1}}}),computed:{currentFieldEnum(){return this.currentField.enum||this.currentField.filterOptions&&this.currentField.filterOptions.filterDropdownItems},isUnsupportedType(){return!this.currentField.type||-1===["string","number","integer","boolean","datetime","date","time","relation","object","text"].indexOf(this.currentField.type)}},methods:{updateValue(e){this.$emit("update:current-value",e)},onDateFilter(e){e&&("$notBetween"!==this.currentFilter.value&&"$between"!==this.currentFilter.value?this.value=w()(e.startDate.toISOString()).format("YYYY-MM-DD HH:mm"):this.value={from:e.startDate.toISOString().slice(0,10),to:e.endDate.toISOString().slice(0,10)})},onRelationValueChanged(e){this.currentField.relation&&this.currentField.relationLabel&&(this.valueLabel=e[this.currentField.relationLabel]),this.valueLabel&&this.$emit("update:current-value-label",this.valueLabel)}},watch:{value(e){this.updateValue(e)},currentField(e){e&&"object"===typeof e&&Object.keys(e).length?"datetime"===e.type||"date"===e.type?this.value=(new Date).toISOString():"boolean"===e.type?this.value=!0:this.value="":this.value=""},currentFilter(e){"$between"!==e.value&&"$notBetween"!==e.value||(this.value={from:"",to:""})}},mounted(){this.value=this.currentValue,this.dateRangePicker.locale.applyLabel=this.$t("dateRangePicker.applyLabel"),this.dateRangePicker.locale.cancelLabel=this.$t("dateRangePicker.cancelLabel"),this.dateRangePicker.locale.weekLabel=this.$t("dateRangePicker.weekLabel"),this.dateRangePicker.locale.customRangeLabel=this.$t("dateRangePicker.customRangeLabel")}},F=A,k=(i("5264"),Object(h["a"])(F,g,b,!1,null,null,null)),S=k.exports,x={name:"AwesomeFilter",mixins:[c["a"]],components:{AwesomeDisplay:l["a"],AwesomeFilterOperator:f,AwesomeFilterValue:S},props:{advancedFilters:{type:Array,default:()=>[]},field:{type:String},fieldLabel:{type:String},defaultOperator:{type:String},fields:{type:Array},displayFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is for displaying active filters"},editFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is in a PopperJS"},permanentFilter:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom filter mode (Always display filter)"},permanentInput:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom input mode (Always display filter) that fire call on API"},showLabel:{type:Boolean,default:!0,note:"Should be we show the label of the filter or not"},showOperator:{type:Boolean,default:!0,note:"Should be we show the operator of the filter or not"}},data:()=>({currentField:{},currentValue:"",currentValueLabel:"",currentOperator:{},selectedFilters:[]}),methods:{addFilter(){const e=["$isNull","$isNotNull","$isDefined","$isNotDefined"].indexOf(this.currentOperator.value)>-1||this.currentValue;if(Object.keys(this.currentField).length){let t={field:this.currentField,value:e,valueLabel:this.currentValueLabel||"",filter:this.currentOperator};this.selectedFilters.push(t),this.permanentFilter||this.permanentInput||(this.currentField={},this.currentValue="",this.currentOperator={shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},this.$refs["filterField"].value=""),this.parseFilter(this.selectedFilters)}},editFilter(e){this.$emit("toggle-edit",e)},removeFilter(e){this.selectedFilters=o.a.without(this.selectedFilters,e),this.parseFilter(this.selectedFilters)},parseFilter(e,t={dispatch:!0}){let i={};e.forEach(e=>{const t={[e.field.field]:{[e.filter.value]:e.value}};this.permanentFilter||this.permanentInput||!o.a.has(i,`${e.field.field}.${e.filter.value}`)?o.a.has(i,""+e.field.field)||o.a.has(i,"$relation")?i=t:o.a.merge(i,t):i[e.field.field][e.filter.value]=o.a.flattenDeep([i[e.field.field][e.filter.value],e.value]),this.permanentInput&&(e.field.field.split(".").length>1?i={$relation:o.a.cloneDeep(i)}:o.a.merge(i,t))}),t.dispatch&&this.$emit("update-filter",i,e)},selectFilter(e){e.target.value?this.currentField=this._filterableFields.find(t=>t.field===e.target.value):this.currentField={}}},computed:{_filterableFields(){return this.fields.filter(e=>!e.filterOptions||void 0==e.filterOptions.enabled||e.filterOptions.enabled)}},watch:{advancedFilters(e){this.selectedFilters=e},currentOperator(){(this.permanentFilter||this.permanentInput)&&this.addFilter()},currentValue(){(this.permanentFilter||this.permanentInput)&&this.addFilter()},currentValueLabel(e){}},mounted(){this.currentOperator=this.defaultOperator?{shortText:this.defaultOperator,text:this.$t("AwesomeFilter.filters."+this.defaultOperator),value:this.defaultOperator}:{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},(this.permanentFilter||this.permanentInput)&&(this.fields&&this.fields.length?this.currentField=this.fields.filter(e=>e.field===this.field)[0]:this.currentField={field:this.field,label:this.field,type:"string"})}},P=x,I=(i("8204"),Object(h["a"])(P,s,a,!1,null,null,null));t["a"]=I.exports},5694:function(e,t,i){"use strict";var s=i("7f89"),a=i.n(s);a.a},"56d7":function(e,t,i){"use strict";i.r(t);i("21b6"),i("1a0a"),i("630d"),i("abe2");var s=i("8bbf"),a=i.n(s),n=i("4328"),o=i.n(n),l=i("cebe"),r=i.n(l),d=i("1c05"),c=i("96a7"),u=i("ddbd"),p=i.n(u),h=i("6389"),m=i.n(h),f=i("85b3"),g=i.n(f),b=i("289a"),y=i.n(b),v=(i("0deb"),i("a354")),C=i("26d5"),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app"},[e._m(0),i("div",{staticClass:"container"},[i("router-view")],1)])},O=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[i("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[e._v("Demo PlayGround")]),i("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[i("span",{staticClass:"navbar-toggler-icon"})]),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[i("ul",{staticClass:"navbar-nav"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/"}},[e._v(" Home "),i("span",{staticClass:"sr-only"},[e._v("(current)")])])]),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/awesometable"}},[e._v("AwesomeTable")])]),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/awesomelist"}},[e._v("Awesomelist")])]),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/awesomekanban"}},[e._v("Awesome Kanban")])]),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/awesomecrud"}},[e._v("Awesome crud")])]),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/awesomecrud-advanced"}},[e._v("Awesome Crud advanced")])]),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/awesomelayout"}},[e._v("Awesome Layout")])])])])])}],$={name:"App",components:{},data(){return{}},methods:{}},A=$,F=(i("5c0b"),i("2877")),k=Object(F["a"])(A,w,O,!1,null,null,null),S=k.exports,x=i("60bb"),P=i.n(x),I=i("1881"),R=i.n(I),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("enyo-select",{attrs:{id:e.fieldOptions.id,options:e.internalOptions,value:e.internalValue,multiple:e.fieldOptions.multiple,"track-by":e._trackBy||null,label:e.fieldOptions.label||null,max:e.schema.max||e.fieldOptions.max||null,searchable:e.schema.searchable||e.fieldOptions.searchable||!0,"internal-search":e.schema.internalSearch||e.fieldOptions.internalSearch||!e.dataUrl,disabled:e.disabled,url:e.dataUrl},on:{"search-change":e.apiRequestDebounced,input:e.updateSelected},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},L=[],T=i("081e"),M={mixins:[T["a"],d["a"].abstractField],props:[],data(){return{myModel:""}},computed:{fieldOptions(){return this.schema&&this.schema.fieldOptions||{}},internalOptions(){return this.apiOptions||this.schema.fieldOptions.values||this.schema.fieldOptions.options||this.schema.values},customLabel(){if("undefined"!==typeof this.schema.fieldOptions&&"undefined"!==typeof this.schema.fieldOptions.customLabel&&"function"===typeof this.schema.fieldOptions.customLabel)return this.schema.fieldOptions.customLabel},dataUrl(){return this.url||this.fieldOptions.url},_trackBy(){return this.$props.trackBy||this.fieldOptions.trackBy||this.schema.foreignKey}},watch:{vModelValue(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)},value(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)}},created(){this.apiRequestDebounced=_.debounce(e=>(console.warn("","DEBOUNCED",this),this.loadRemoteEntities(e)),2e3)},methods:{addTag(e,t){const i=this.fieldOptions.onNewTag;"function"===typeof i&&i(e,t,this.options,this.value)},async setIncomingValue(e,t,i){if(e!==t){if(console.warn("[WARN] ","NEW VALUE => setIncomingValue",t,i),console.warn("","INCOMING VALUE REQUESTED IN setIncomingValue SELECT",e,t),this.dataUrl&&(!this.internalOptions||this.internalOptions.length<1)&&!i&&(console.warn("","list is empty i'm going to search more options"),await this.apiRequestDebounced(e)),Array.isArray(e))this.internalValue=this.internalOptions&&this.internalOptions.filter(t=>{const i="string"===typeof t?t:t[this._trackBy];return e.indexOf(i)>-1});else if(this.internalValue=this.internalOptions&&this.internalOptions.find(t=>{const i="string"===typeof t?t:t[this._trackBy];return i==e}),console.warn("incoming value ",e,this.dataUrl,this.internalValue),!this.internalValue&&this.dataUrl&&!i){console.warn("[fieldES]","remote load",e);const t=await this.apiRequestDebounced(e);t&&(console.warn("","take 2",e,this.internalOptions.length),this.setIncomingValue(e,null,!0))}}else console.warn("[WARN] ","SAME VALUE",e)},updateSelected(e){if(this.internalValue=e,e&&"string"!==typeof e&&"number"!==typeof e)if(Array.isArray(e)){const t=e.map(e=>this._trackBy&&e[this._trackBy]?e[this._trackBy]:e);this.$emit("input",t),this.value=t}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},onSearchChange(e,t){const i=this.fieldOptions.onSearch;console.warn("onSearch",e),"function"===typeof i?i(e,t,this.options):this.apiRequestDebounced(e)},onSelect(){},onRemove(){},onOpen(){},onClose(){}}},N=M,j=Object(F["a"])(N,D,L,!1,null,null,null),E=j.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group field-file-input row"},[i("div",{staticClass:"col-12"},[i("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}})],1),i("div",{staticClass:"col-12 p-0 mt-1"},[e.valueIsNotObject?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control mt-1",attrs:{type:"text",placeholder:"url"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e()])])},V=[],q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"base64-upload"},[i("i",{staticClass:"fa fa-upload text-primary upload-icon"}),e.isImage?i("img",{style:e.imageStyle,attrs:{src:e.srcComputed}}):e._e(),e.isImage?e._e():i("p",{staticClass:"form-control",class:e.inputClass},[e._v(e._s(e.name||e.nameComputed||e.placeholder))]),i("input",{attrs:{type:"file",disabled:e.disabled||e.readonly,accept:e.isImage?"image/*":"*"},on:{change:e.onChange}})])},U=[],K={name:"Base64Upload",props:{imageSrc:[String,Object],inputClass:String,disabled:[String,Boolean],readonly:[String,Boolean],imageStyle:Object,type:{type:String,default:"text"},placeholder:{type:String,default:"Drag and drop a file (or click here)"},accept:{type:String,default:""}},data(){return{src:this.imageSrc,name:""}},computed:{isImage(){return this.src&&this.type&&0===this.type.indexOf("image")||this.src&&this.src.type&&0===this.src.type.indexOf("image")},srcComputed(){let e=this.src||this.imageSrc;return e?e&&e.base64?(e=e&&e.base64?e.base64:e,0===e.indexOf("data:")?e:`data:${this.type};base64,${e}`):e:""},nameComputed(){return this.name?this.name:this.src&&this.src.name||this.imageSrc&&this.imageSrc.name||""}},methods:{onChange(e){if(e.target.files&&e.target.files[0]){let t=e.target.files[0],i=new FileReader;i.addEventListener("load",e=>{this.src=e.target.result;let[,i]=this.src.split(",");this.name=t.name||this.src&&this.src.name,this.$forceUpdate(),this.$emit("change",{size:t.size,type:t.type,name:t.name,base64:i})}),i.readAsDataURL(t)}}}},H=K,W=(i("b95f"),Object(F["a"])(H,q,U,!1,null,"9fb25a6c",null)),G=W.exports,z={name:"field-filePicker",components:{Base64Upload:G},mixins:[d["a"].abstractField],data(){return{refresh:Date.now(),type:this.schema&&this.schema.fieldOptions&&(this.schema.fieldOptions.type||this.schema.fieldOptions.inputType),inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass}},computed:{placeholderComputed(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder},valueIsNotObject(){return!this.value||"object"!==typeof this.value}},watch:{value(e,t){e!==t&&(this.refresh=Date.now())}},mounted(){this.oldValue=this.value},beforeDestroy(){},methods:{onChangeImage(e){e&&e.type.indexOf("image")>-1&&(this.type=e.type),this.value=e}}},Y=z,Q=(i("1c82"),Object(F["a"])(Y,B,V,!1,null,null,null)),J=Q.exports,Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-json-text-editor"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control field-json-textarea",attrs:{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.innerValue},on:{input:[function(t){t.target.composing||(e.innerValue=t.target.value)},e.saveJson]}}),e._v(" "),i("div",{staticClass:"text-right"},[e.warning?i("div",{staticClass:"text-danger"},[i("i",{staticClass:"fa fa-exclamation-circle"}),e._v(" "+e._s(e.$t(e.warning))+" ")]):e._e(),e.warning||e.typing||!this.innerValue?e._e():i("div",{staticClass:"text-success"},[i("i",{staticClass:"fa fa-check"})]),e.typing?i("div",{staticClass:"text-info"},[e._v(" ... ")]):e._e()])])},X=[],ee={name:"field-json-textarea",mixins:[d["a"].abstractField],data(){return{innerValue:"",warning:"",typing:!1,debounce:null}},computed:{},watch:{value(e,t){e!==t&&(this.innerValue=JSON.stringify(e,null,2))}},beforeDestroy(){},methods:{saveJson(e){this.typing=!0,clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.warning="",this.typing=null,this.innerValue=e.target.value;try{this.innerValue&&(this.value=JSON.parse(this.innerValue))}catch(t){this.warning="common.messages.invalid_json"}},300)}}},te=ee,ie=(i("b5ca"),Object(F["a"])(te,Z,X,!1,null,null,null)),se=ie.exports,ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group"},[i("DateRangePicker",e._b({class:{"date-range-timepicker-only":e.isTimepickerOnly,readonly:e.schema.readonly,disabled:e.schema.disabled},attrs:{"input-id":e.inputId,open:"auto","single-date-picker":!0,"date-range":e.formatValue,"locale-data":e.dateRangePickerConfig.locale,disabled:e.schema.disabled||e.schema.readonly,readonly:e.schema.readonly,ranges:!1,opens:"center"},on:{update:e.onDateSelected}},"DateRangePicker",e.fieldOptions,!1),[i("template",{slot:"input"},[i("span",{staticClass:"text-truncate"},[e._v(e._s(e.formatValueForDisplay))]),i("i",{staticClass:"fa fa-calendar picker-icon"})])],2)],1)},ne=[],oe=i("5a0c"),le=i.n(oe),re=i("f906"),de=i.n(re),ce=i("33a0"),ue=i.n(ce);i("53b4");le.a.extend(de.a);const pe="DD.MM.YYYY HH:mm";var he={mixins:[d["a"].abstractField],components:{DateRangePicker:ue.a},props:{},mounted(){this.inputId=P.a.uniqueId("datetime_")},computed:{fieldOptions(){const e=this.schema&&this.schema.fieldOptions?this.schema&&this.schema.fieldOptions:{};return P.a.merge({timePicker:!0,datePicker:!0,autoApply:!1,showDropdowns:!0,timePickerIncrement:5,showWeekNumbers:!1},e)},isTimepickerOnly(){return this.fieldOptions.timePicker&&!this.fieldOptions.datePicker},formatValue(){return this.value?this.value instanceof Date?{startDate:this.value.toISOString?this.value.toISOString():this.value||""}:"object"===typeof this.value&&this.value.startDate?this.value:{startDate:this.value.toISOString?this.value.toISOString():this.value||""}:{startDate:""}},getDateFormat(){return this.fieldOptions.format?this.fieldOptions.format:pe},formatValueForDisplay(){return this.value?le()(this.value).format(this.getDateFormat):this.value}},data(){return{inputId:"",dateRange:{startDate:new Date,endDate:new Date},dateRangePickerConfig:{startDate:(new Date).toISOString(),locale:{direction:"ltr",separator:" - ",applyLabel:"Select",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:le.a.weekdaysMin(),monthNames:le.a.monthsShort(),firstDay:1}}}},methods:{getDefaultInputFormat(){return pe},onDateSelected(e){e&&e.startDate?this.value=e.startDate:this.value=""}},beforeDestroy(){}},me=he,fe=(i("5755"),Object(F["a"])(me,ae,ne,!1,null,"62d9d73a",null)),ge=fe.exports,be=i("59cd"),ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group field-file-input aw-form-field-image-picker row"},[i("div",{staticClass:"col-12 m-0 p-0"},[i("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}})],1),e.value?i("div",{staticClass:"image-picker-actions"},[i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openImageInTab.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-external-link"})]),i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.removeImage.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-trash"})])]):e._e(),i("div",{staticClass:"col-12 mt-1 p-0"},[e.valueIsNotObject?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control image-picker-input p-0 m-0 mt-1",attrs:{placeholder:"url",type:"text"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e()])])},ve=[],Ce={components:{Base64Upload:G},mixins:[d["a"].abstractField],data(){return{refresh:Date.now(),type:"image",inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass}},computed:{placeholderComputed(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder},valueIsNotObject(){return!this.value||"object"!==typeof this.value}},watch:{value(e,t){e!==t&&(this.refresh=Date.now())}},mounted(){this.oldValue=this.value},beforeDestroy(){},methods:{openImageInTab(){window.open(this.value,"_blank")},removeImage(){this.value=""},onChangeImage(e){e&&-1!==!e.type.indexOf("image")&&(this.value=e)}}},we=Ce,_e=(i("2e65"),Object(F["a"])(we,ye,ve,!1,null,null,null)),Oe=_e.exports,$e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-field-array"},[e._l(e.internalValue,(function(t,s){return i("div",{key:s,staticClass:"env-row row"},[void 0!==t?[i("button",{staticClass:"btn btn-danger btn-sm btn-delete pull-right",attrs:{type:"button"},on:{click:function(t){return e.removeItem(s)}}},[i("i",{staticClass:"fa fa-trash"})]),i("div",{staticClass:"col-12"},[e.schema.itemsSchema&&"object"===e.schema.itemsSchema.type?[i("div",{staticClass:"form-group"},[i("awesome-form",{attrs:{mode:"edit",displayMode:"page",item:e.internalValue[s],"v-model":e.internalValue[s],identity:s+"",schema:e.schema.itemsSchema,displayHeader:!1,displayFooter:!1}})],1)]:[i("div",{staticClass:"form-group"},["checkbox"===e.inputType?i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"checkbox"},domProps:{checked:Array.isArray(e.internalValue[s])?e._i(e.internalValue[s],null)>-1:e.internalValue[s]},on:{change:[function(t){var i=e.internalValue[s],a=t.target,n=!!a.checked;if(Array.isArray(i)){var o=null,l=e._i(i,o);a.checked?l<0&&e.$set(e.internalValue,s,i.concat([o])):l>-1&&e.$set(e.internalValue,s,i.slice(0,l).concat(i.slice(l+1)))}else e.$set(e.internalValue,s,n)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):"radio"===e.inputType?i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"radio"},domProps:{checked:e._q(e.internalValue[s],null)},on:{change:[function(t){return e.$set(e.internalValue,s,null)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:e.inputType},domProps:{value:e.internalValue[s]},on:{change:function(t){e.schemaComputed.onChange},blur:function(t){return e.saveItem()},input:function(t){t.target.composing||e.$set(e.internalValue,s,t.target.value)}}})])]],2)]:e._e()],2)})),i("button",{staticClass:"float-right btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){return e.addItem()}}},[i("i",{staticClass:"fa fa-plus"})])],2)},Ae=[],Fe={name:"field-array",mixins:[d["a"].abstractField],components:{},data(){return{warning:"",internalValue:[]}},computed:{schemaComputed(){return{...this.schema,model:"",fieldOptions:{...this.schema.fieldOptions,inputType:null}}},inputType(){let{type:e,format:t}=this.schema.itemsSchema;if(Array.isArray(e)){const t=["string","number","boolean"];for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1){e=t[i];break}}switch(e){case"string":switch(t){case"email":return"email";case"date-time":case"datetime":return"date-time";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return e}}},watch:{value(e,t){e&&Array.isArray(e)&&(this.internalValue=e)}},mounted(){this.value&&Array.isArray(this.value)&&(this.internalValue=this.value)},beforeDestroy(){},methods:{addItem(){let e;switch(this.saveItem(),this.schema.itemsSchema.type){case"object":e={};break;case"array":e=[];break;case"number":e=0;break;default:e=""}this.internalValue.push(e),this.$forceUpdate()},removeItem(e){this.$delete(this.internalValue,e),this.$forceUpdate()},saveItem(){this.value=this.internalValue}}},ke=Fe,Se=(i("7ed7"),Object(F["a"])(ke,$e,Ae,!1,null,"139b53a9",null)),xe=Se.exports,Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-custom-component"},[i(e.schema.component,e._g(e._b({tag:"component",model:{value:e.model[e.schema.model],callback:function(t){e.$set(e.model,e.schema.model,t)},expression:"model[schema.model]"}},"component",e.$props,!1),e.$listeners))],1)},Ie=[],Re={name:"FieldComponent",mixins:[d["a"].abstractField],mounted(){},computed:{},methods:{},beforeDestroy(){}},De=Re,Le=Object(F["a"])(De,Pe,Ie,!1,null,null,null),Te=Le.exports,Me=i("beb7"),Ne=i("8fd7"),je=i("2781"),Ee=i("51ac"),Be=i("09b8"),Ve=i("6f66"),qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("multiselect",e._b({attrs:{value:e.internalValue||e.value,searchable:e.searchable,"internal-search":e.internalSearch,loading:e.isLoading,options:e.internalOptions,label:e.label},on:{input:e.updateSelected,"search-change":e.loadRemoteEntities}},"multiselect",e.filteredProps,!1),[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v(" "+e._s(e.noResult)+" ")])])],1)},Ue=[],Ke={name:"EnyoSelect",components:{},props:{options:{type:Array,default:()=>[]},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],internalSearch:[Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},mixins:[T["a"]],data(){return{isLoading:!1,apiOptions:!1}},watch:{},computed:{filteredProps(){const e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e}},methods:{},created(){this.$root.$options.components.multiselect||console.error("`vue-multiselect` is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},He=Ke,We=(i("577a"),Object(F["a"])(He,qe,Ue,!1,null,null,null)),Ge=We.exports,ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"clearfix"},[i("button",{class:e.options.class||"btn btn-info",attrs:{type:"button"},on:{click:e.buttonClick}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.options.label||"Upload")+" ")]),i("input",{ref:"inputButton",staticStyle:{display:"none"},attrs:{type:"file",name:"file",visbility:"hidden"},on:{change:e.filesChange}})])},Ye=[],Qe={name:"UploadButton",inheritAttrs:!1,props:{name:String,options:Object},computed:{},mounted(){this.reset()},methods:{reset(){const e=this.$refs.inputButton;e&&(e.value="")},buttonClick(e){const t=this.$refs.inputButton;t&&t.click()},filesChange(e){const t=e.target.files||e.dataTransfer.files;if(!t.length)return;const i=t[0];if(this.options.maxSize){const e=i.size&&i.size/Math.pow(1e3,2);if(e>this.options.maxSize)return void this.$awNotify({message:`Upload ${e} size exceeding`,type:"warning"})}this.options.upload&&this.uploadFiles(e),this.options.base64&&this.base64(e,i)},uploadFiles(e){const t=new FormData,i=e.target.name,s=e.target.files;Array.from(Array(s.length).keys()).map(e=>{t.append(i,s[e],s[e].name)}),this.options.targetUrl?this.options.method?this.$awApi[this.options.method.toLowerCase()](this.options.targetUrl,t,{timeout:6e4}).then(e=>{this.$emit("uploaded",e.data)}).catch(e=>{this.$emit("upload-failed",e.response?e.response.data:e)}).finally(()=>{setTimeout(()=>{this.reset()},300)}):this.$awNotify({message:"Upload Method is Required",type:"warning"}):this.$awNotify({message:"The Upload Url is Required",type:"warning"})},base64(e,t){const i=new FileReader;i.onload=e=>{const t=e.target.result;t&&this.$emit("base64",t)},i.readAsDataURL(t)}}},Je=Qe,Ze=Object(F["a"])(Je,ze,Ye,!1,null,null,null),Xe=Ze.exports,et=i("9336"),tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"card "+e.className},[e.$slots.image?i("div",{staticClass:"card-image"},[e._t("image")],2):e._e(),e.$slots.header?i("div",{staticClass:"card-header",class:e.headerClass},[e._t("header")],2):e._e(),i("div",{staticClass:"card-body",class:e.bodyClass},[e._t("default")],2),e.$slots.footer?i("div",{staticClass:"card-footer",class:e.footerClass},[i("hr"),e._t("footer")],2):e._e()])},it=[],st={name:"EnyoCard",props:{className:String,headerClass:String,bodyClass:String,footerClass:String}},at=st,nt=Object(F["a"])(at,tt,it,!1,null,null,null),ot=nt.exports,lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("enyo-card",{staticClass:"card-stats",class:e.className},[i("div",{staticClass:"row"},[e.$slots.header?i("div",{staticClass:"col-5"},[i("div",{staticClass:"icon-big text-center"},[e._t("header")],2)]):e._e(),e.$slots.content?i("div",{staticClass:"col-7"},[i("div",{staticClass:"numbers"},[e._t("content")],2)]):e._e()]),e.$slots.footer?i("div",{staticClass:"stats",attrs:{slot:"footer"},slot:"footer"},[e._t("footer")],2):e._e()])},rt=[],dt={name:"EnyoStatsCard",components:{EnyoCard:ot},props:{className:String}},ct=dt,ut=Object(F["a"])(ct,lt,rt,!1,null,null,null),pt=ut.exports,ht=function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"card-table-and-chart",class:(e={"card-stats-fullscreen":t.fullscreen},e[t.className]=t.className,e)},["table"===t.currentState?s("AwesomeTable",{attrs:{identity:t.identity,title:t.title,columns:t.tableColumns,rows:t.dataSource,"table-needs-refresh":t.needsRefresh||t.internalRefreshRequested,perPage:t.tableOptions?t.tableOptions.perPage:"",options:t.tableOptions,actions:t.tableActions}},[s("template",{slot:"table-top-actions"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v(" Barres ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v(" Graphe ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v(" Camembert ")]),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])],2):t._e(),"bar"===t.currentState?s("enyo-chart-card",{attrs:{identity:t.identity,"chart-type":"Bar","chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v(" "+t._s(t.title)+" "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v(" Liste ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v(" Graphe ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v(" Camembert ")]),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),"line"===t.currentState?s("enyo-chart-card",{attrs:{"chart-type":"Line",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v(" "+t._s(t.title)+" "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v(" Liste ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v(" Barres ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v(" Camembert ")]),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),"pie"===t.currentState?s("enyo-chart-card",{attrs:{"chart-type":"Pie",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"responsive-options":t.pieResponsiveOptions,"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v(" "+t._s(t.title)+" "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v(" Liste ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v(" Barres ")]),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v(" Graphe ")]),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e()],1)},mt=[],ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card",class:e.chartClasses},[e.$slots.header?i("div",{staticClass:"card-header",class:e.headerClasses},[e._t("header")],2):e._e(),i("div",{staticClass:"card-body"},[i("div",{staticClass:"ct-chart",attrs:{id:e.chartId}})]),e.$slots.footer?i("div",{staticClass:"card-footer"},[e._t("footer")],2):e._e()])},gt=[],bt={name:"EnyoChartCard",components:{},props:{classes:String,headerClasses:String,chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:()=>({})},chartData:{type:Object,default:()=>({labels:[],series:[]})},responsiveOptions:[Object,Array],graphNeedsRefresh:{type:Boolean,default:!1}},data(){return{chartist:null,chartId:"no-id",chart:null,animationsClasses:""}},computed:{chartClasses(){return`${this.class||""} ${this.animationsClasses} `},$Chartist(){return this.chartist}},watch:{graphNeedsRefresh:"initChart",chartData:"initChart",chartOptions:"initChart"},async mounted(){this.chartist=await Promise.resolve().then(i.t.bind(null,"4212",7)),this.updateChartId(),setTimeout(()=>{this.initChart()},100)},methods:{initChart(){const e="#"+this.chartId;let t={},i={},s={};if(this.$Chartist){switch(this.chartType){case"Pie":t={series:this.chartData.series[0],labels:this.chartData.labels},i={...this.chartOptions,labelInterpolationFnc(e,i){return`${e} (${Math.round(t.series[i]/t.series.reduce((e,t)=>e+t)*100)}%)`}},this.chart=this.$Chartist[this.chartType](e,t,i,this.responsiveOptions);break;case"Line":s={...this.chartOptions,plugins:[this.$Chartist.plugins.ctPointLabels({textAnchor:"middle"})]},this.chart=this.$Chartist[this.chartType](e,this.chartData,s,this.responsiveOptions);break;case"Bar":this.chart=this.$Chartist[this.chartType](e,this.chartData,this.chartOptions,this.responsiveOptions);break}if(this.$emit("initialized",this.chart),this.$emit("update:graphNeedsRefresh",!1),window.matchMedia){const e=window.matchMedia("print");if(e.matches)return}"Line"===this.chartType&&this.animateLineChart(),"Bar"===this.chartType&&this.animateBarChart(),"Pie"===this.chartType&&this.animatePieChart()}},updateChartId(){const e=(new Date).getTime().toString(),t=this.getRandomInt(0,e);this.chartId="div_"+t},getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e},animateLineChart(){let e=0;const t=500,i=80;this.chart&&(this.chart.on("draw",s=>{"line"===s.type||"area"===s.type?s.element.animate({d:{begin:600,dur:700,from:s.path.clone().scale(1,0).translate(0,s.chartRect.height()).stringify(),to:s.path.clone().stringify(),easing:this.$Chartist.Svg.Easing.easeOutQuint}}):"point"===s.type&&(e++,s.element.animate({opacity:{begin:e*i,dur:t,from:0,to:1,easing:"ease"}}))}),e=0)},animateBarChart(){let e=0;const t=500,i=80;this.chart&&this.chart.on("draw",s=>{"bar"===s.type&&(e++,s.element.animate({opacity:{begin:e*i,dur:t,from:0,to:1,easing:"ease"}}))})},animatePieChart(){let e=0;const t=150,i=80;this.chart&&this.chart.on("draw",s=>{"slice"===s.type&&(e++,s.element.animate({opacity:{begin:e*i,dur:t,from:0,to:1,easing:"ease"}}))})}}},yt=bt,vt=Object(F["a"])(yt,ft,gt,!1,null,null,null),Ct=vt.exports,wt={name:"TableAndChartsCard",introduction:"A component that display graphs to go along an ajaxTable list",token:"\n  <table-and-charts-card\n  :title=\"'Visites par ' + $t('common.labels.' + activeTab)\"\n  :table-columns=\"[{field: activeTab, type:'date'}, {field:'value', label:'#'}]\"\n  :data-source=\"performanceStats.user_visit[activeTab].list\"\n  :needs-refresh.sync=\"tableNeedsRefresh\"\n  :table-options=\"{headerStyle: 'primary', actions:{noActions: true, filter: false, refresh: false} }\"\n  :chart-options=\"{headerStyle: 'primary' }\"\n  :chart-col-key=\"activeTab\"\n\n  ></table-and-charts-card>",description:"",components:{EnyoChartCard:Ct,AwesomeTable:Ve["a"]},props:{tableColumns:{type:Array,required:!0},title:String,initialState:{type:String,default:"table"},identity:{type:[String,Number],default:()=>Date.now()},chartOptions:{type:Object,default(){return{headerStyle:"primary"}}},tableOptions:{type:Object,default(){return{headerStyle:"primary"}}},tableActions:{type:Object,default(){return{noActions:!0,filter:!1}}},chartRowKey:{type:String,default:()=>"value"},chartColKey:{type:String,default:()=>"date"},dataSource:{type:Array,required:!0},className:String,needsRefresh:Boolean},data(){return{currentState:this.initialState,internalRefreshRequested:!1,fullscreen:!1,pieResponsiveOptions:[["screen and (min-width: 640px)",{chartPadding:30,labelOffset:100,labelDirection:"explode"}],["screen and (min-width: 1024px)",{labelOffset:80,chartPadding:20}]]}},methods:{selectProp(e,t){return e.map(e=>P.a.get(e,t))},setTab(e){this.currentState=e},toggleFullscreen(){this.fullscreen=!this.fullscreen,this.internalRefreshRequested=!0,setTimeout(()=>{this.internalRefreshRequested=!1},200)}}},_t=wt,Ot=(i("e42f"),Object(F["a"])(_t,ht,mt,!1,null,null,null)),$t=Ot.exports,At=i("5bd6");const Ft=(e,t={})=>{t&&(e.prototype.awComponentsConfig={displayLabelsCache:{},relationsAreClickable:!0,primaryKey:"id",modelsStorePath:"",rolesStorePath:"",extendedRolesStorePath:"",hideIdsInSelect:!1},t.config&&(e.prototype.awComponentsConfig=P.a.merge(e.prototype.awComponentsConfig,t.config)),t["AwesomeCrud"]&&t["AwesomeCrud"].props&&(Me["a"].props=P.a.merge(Me["a"].props,t["AwesomeCrud"].props)),t["AwesomeForm"]&&t["AwesomeForm"].props&&(je["default"].props=P.a.merge(je["default"].props,t["AwesomeForm"].props)),t["AwesomeList"]&&t["AwesomeList"].props&&(Be["a"].props=P.a.merge(Be["a"].props,t["AwesomeList"].props)),t["AwesomeTable"]&&t["AwesomeTable"].props&&(Ve["a"].props=P.a.merge(Ve["a"].props,t["AwesomeTable"].props)),t["FieldVSelect"]&&t["FieldVSelect"].props&&(be["a"].props=P.a.merge(be["a"].props,t["FieldVSelect"].props))),e.use(R.a),e.use(d["a"],{fields:P.a.values(d["a"].fieldsLoader),options:t}),e.component("enyo-card",ot),e.component("enyo-stats-card",pt),e.component("enyo-stats",At["a"]),e.component("enyo-table-and-charts-card",$t),e.component("upload-button",Xe),e.component("enyo-select",Ge),e.component("live-edit",et["a"]),e.component("fieldDateTime",ge),e.component("fieldEnyoSelect",E),e.component("fieldVSelect",be["a"]),e.component("fieldFileInput",J),e.component("fieldFilePicker",J),e.component("fieldJsonTextarea",se),e.component("field-json-textarea",se),e.component("field-json",se),e.component("fieldImagePicker",Oe),e.component("fieldComponent",Te),e.component("field-array",xe),e.component("ajax-table",Ve["a"]),e.component("enyo-ajax-table",Ve["a"]),e.component("AwesomeTable",Ve["a"]),e.component("AwesomeList",Be["a"]),e.component("AwesomeLayout",Ne["a"]),e.component("AwesomeForm",je["default"]),e.component("crud-component",Me["a"]),e.component("awesome-crud",Me["a"]),e.component("awesome-kanban",Ee["a"]),e.prototype.$awEventBus||(e.prototype.$awEventBus=new e),e.prototype.$awApi||(t&&t.$awApi?e.prototype.$awApi=t.$awApi:e.prototype.$http?e.prototype.$awApi=e.prototype.$http:e.prototype.$awApi=r.a.create({})),e.mixin(c["a"])};var kt=Ft;a.a.use(p.a),a.a.use(m.a),a.a.component("Draggable",y.a),a.a.component("vue-form-generator",d["a"],[]),a.a.mixin(c["a"]),a.a.use(d["a"],{fields:P.a.values(d["a"].fieldsLoader)}),a.a.use(kt,{config:{modelsStorePath:"model.models"},global:{props:{apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data",totalCountPath:"data.totalCount"})}}},FieldVSelect:{props:{apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data",totalCountPath:"data.totalCount"})},preloadQueryParam:{default:"_limit=10"}}},AwesomeCrud:{props:{primaryKey:{type:String,default:"id"}}}}),a.a.config.productionTip=!1,a.a.use(g.a);const St=new g.a({locale:"fr",messages:{fr:v,en:C}}),xt=new m.a({mode:"history",parseQuery(e){return o.a.parse(e)},stringifyQuery(e){var t=o.a.stringify(e);return t?"?"+t:""},routes:[{path:"/",component:()=>i.e("chunk-358346e4").then(i.bind(null,"47df"))},{path:"/awesomelist",component:()=>i.e("chunk-63c68468").then(i.bind(null,"eac1"))},{path:"/awesometable",component:()=>i.e("chunk-f70cfd68").then(i.bind(null,"c5bc"))},{path:"/awesomecrud-advanced",component:()=>i.e("chunk-5ada739e").then(i.bind(null,"12a8"))},{path:"/awesomecrud",component:()=>i.e("chunk-91eb2a32").then(i.bind(null,"4817"))},{path:"/awesomecrud/:id",component:()=>i.e("chunk-91eb2a32").then(i.bind(null,"4817"))},{path:"/awesomecrud/:id/edit",component:()=>i.e("chunk-91eb2a32").then(i.bind(null,"4817"))},{path:"/awesomekanban",component:()=>i.e("chunk-1ac876bb").then(i.bind(null,"edd0"))},{path:"/awesomelayout",component:()=>i.e("chunk-e16ff65a").then(i.bind(null,"ca5e"))}]});a.a.prototype.$http=r.a.create({headers:{Accept:"application/json","Content-Type":"application/json"}}),window.vm=new a.a({i18n:St,router:xt,render:e=>e(S)}).$mount("#app");t["default"]=window.vm},5755:function(e,t,i){"use strict";var s=i("b0e5"),a=i.n(s);a.a},"577a":function(e,t,i){"use strict";var s=i("3a6c"),a=i.n(s);a.a},5922:function(e,t,i){},"59cd":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-vue-select"},[!e.isAjax||e.isDataReady?i("v-select",e._b({attrs:{multiple:e.multiple||e.fieldOptions.multiple||e.schema&&e.schema.multiple,taggable:e.fieldOptions.taggable,label:e.fieldOptions.label||"label",filterable:!e._useApiFilter,options:e.computedOptions,disabled:e.isDisabled,required:e.required,placeholder:e.schema.placeholder||e.fieldOptions.placeholder,value:e.model[e.schema.model],reduce:e.reduce,getOptionLabel:e.formatLabel},on:{open:e.preloadFn,search:e.onSearch,input:e.updateSelected}},"v-select",e.fieldOptions,!1)):e._e(),!e.schema.relation&&!e.schema.relationRoute||e.fieldOptions.disableRelationActions||e.isDisabled?e._e():i("div",{staticClass:"aw-field-select-relation-actions"},[e.model&&e.model[e.schema.model]?[e.schema.relationRoute?e._e():i("router-link",{staticClass:"external-link pr-1",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]}},[i("i",{staticClass:"fa fa-eye text-info"})]),e.schema.relationRoute?e._e():i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]+"/edit"}},[i("i",{staticClass:"fa fa-edit text-info"})])]:e._e(),e.schema.relationRoute?e._e():i("Popper",{attrs:{trigger:"clickToOpen",transition:"fade","append-to-body":!0,options:{placement:"auto",modifiers:{offset:{offset:"0,10px"}}}},on:{show:function(t){e.displayEditModal=!0},hide:function(t){e.displayEditModal=!1}}},[i("button",{staticClass:"external-link",attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayEditModal=!0}},slot:"reference"},[i("i",{staticClass:"fa fa-plus text-info"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.displayEditModal,expression:"displayEditModal"}],ref:"vselectPopup",staticClass:"vselect-popup-width"},[e.displayEditModal?i("AwesomeForm",{attrs:{identity:e.schema.relation,mode:"create",item:{},displayMode:"page",standalone:!1,useSimpleCreateForm:!0},on:{closeRequested:function(t){e.displayEditModal=!1,e.loadRemoteEntities()},itemCreated:e.onNewItemCreated,cancel:function(t){e.displayEditModal=!1}}}):e._e()],1)]),e.schema.relationRoute&&e.isFunction(e.schema.relationRoute)?i("div",{staticClass:"external-link",on:{click:function(t){return e.schema.relationRoute("new")}}},[e._v("   "),i("i",{staticClass:"fa fa-plus text-info"})]):e._e(),e.schema.relationRoute&&!e.isFunction(e.schema.relationRoute)?i("router-link",{staticClass:"external-link",attrs:{to:e.schema.relationRoute+"/new"}},[e._v("   "),i("i",{staticClass:"fa fa-plus text-info"})]):e._e()],2)],1)},a=[],n=i("ad09"),o=i.n(n),l=i("60bb"),r=i.n(l),d=i("97d1"),c=i.n(d),u=i("1c05"),p=i("081e"),h=(i("11fc"),{name:"field-vSelect",components:{vSelect:o.a,Popper:c.a,AwesomeForm:()=>Promise.resolve().then(i.bind(null,"2781"))},mixins:[p["a"],u["a"].abstractField],props:{apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:()=>({dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",sortField:"sort",searchField:"search"})},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:()=>({dataPath:"data.body",totalCountPath:"data.totalCount"})},apiQueryParams:{type:Object,default:()=>({}),note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:()=>({})},preloadQueryParam:{type:String,default:"perPage=10000"},multiple:{type:Boolean,default:!1},addNewUrl:{type:[String,Function],default:""}},async mounted(){this.schema&&(this.schema.fieldOptions&&this.schema.fieldOptions.preload?this.preloadFn():this.model&&this.onSearch(this.model[this.schema.model]||"",()=>null))},data(){return{isDataReady:!1,displayEditModal:!1}},computed:{fieldOptions(){return this.schema&&this.schema.fieldOptions||this.$props.fieldOptions||{}},internalOptions(){return this.apiOptions||this.fieldOptions.values||this.fieldOptions.options||this.schema&&this.schema.values},customLabel(){if("undefined"!==typeof this.fieldOptions&&"undefined"!==typeof this.fieldOptions.customLabel&&"function"===typeof this.fieldOptions.customLabel)return this.fieldOptions.customLabel},dataUrl(){let e=this.url||this.fieldOptions.url||this.schema.relationUrl||this.schema.fieldOptions.relationUrl;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,{...this.$props.model,currentItem:this.$props.model,context:this})),e},_trackBy(){return this.$props.trackBy||this.fieldOptions&&(this.fieldOptions.trackBy||this.fieldOptions.relationKey)||this.schema&&(this.schema.relationKey||this.schema.foreignKey)},_labelField(){return this.fieldOptions.relationLabel||this.schema.relationLabel||this.fieldOptions.label||"label"},_values(){return this.model&&Array.isArray(this.model[this.schema.model])?this.model[this.schema.model].map(e=>e[this._trackBy]):this.model[this.schema.model]},_preloadQueryParam(){return this.fieldOptions.preloadQueryParam||this.preloadQueryParam},_usePreloadMode(){return this.fieldOptions&&this.fieldOptions.preload},_useApiFilter(){return this.dataUrl&&!this._usePreloadMode},popupCss(){if(this.$refs.vselectPopup){const e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":9999999,top:`calc(50vh - ${e.height/2}px) / 2)`,left:`calc(50vw - ${e.width/2}px) / 2)`,width:e.width+"px",background:"#fff"}}const e=300,t=300;return{position:"fixed","z-index":9999999,top:`calc(50vh - ${t/2}px)`,left:`calc(50vw - ${e/2}px)`,width:e+"px",height:t+"px",background:"#fff"}},isDisabled(){return this.disabled||this.schema.disabled||this.schema.readonly}},watch:{vModelValue(e,t){e!=t&&this.setIncomingValue(e,t)},value(e,t){e!=t&&this.setIncomingValue(e,t)}},created(){this.apiRequestDebounced=r.a.debounce(e=>this.loadRemoteEntities(e),200)},methods:{get:r.a.get,kebabCase:r.a.kebabCase,isFunction:r.a.isFunction,addTag(e,t){const i=this.fieldOptions.onNewTag;"function"===typeof i&&i(e,t,this.options,this.value)},async setIncomingValue(e,t,i){if(e!==t)if(this.dataUrl&&(!this.internalOptions||this.internalOptions.length<1)&&!i&&await this.apiRequestDebounced(e),Array.isArray(e))this.internalValue=this.internalOptions&&this.internalOptions.filter(t=>{const i="string"===typeof t?t:t[this._trackBy];return e.indexOf(i)>-1});else if(this.internalValue=this.internalOptions&&this.internalOptions.find(t=>{const i="string"===typeof t?t:t[this._trackBy];return i==e}),!this.internalValue&&this.dataUrl&&!i){const t=await this.apiRequestDebounced(e);t&&this.setIncomingValue(e,null,!0)}},updateSelected(e){if(this.updateSelectedItem(e),this.internalValue=e,e&&"string"!==typeof e&&"number"!==typeof e)if(Array.isArray(e)){const t=e.map(e=>this._trackBy&&e[this._trackBy]?e[this._trackBy]:e);this.$emit("input",t),this.value=t}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},updateSelectedItem(e){if(this.internalValue=e,e&&"string"!==typeof e&&"number"!==typeof e)if(Array.isArray(e)){const t=e.map(e=>(this._trackBy&&e[this._trackBy],e));this.$emit("itemSelected",t)}else this.$emit("itemSelected",e);else this._trackBy?this.$emit("itemSelected",this.internalOptions.find(t=>void 0!==t[this._trackBy]&&t[this._trackBy]===e)):this.$emit("itemSelected",e)},onSearch(e,t){this._useApiFilter&&(t(!0),this.search(t,e,this))},preloadFn(){this.dataUrl&&this.$awApi.get(`${this.dataUrl}${-1===this.dataUrl.indexOf("?")?"?":"&"}${this._preloadQueryParam||"perPage=100"}&_vac=1&_vac_source=vselect`,{params:{...this.fieldOptions.queryParams}}).then(e=>{this.apiOptions=this.getData(e)}).finally(()=>{this.isDataReady=!0})},search(e,t,i){this.$awApi.get(this.dataUrl,{params:{...this.fieldOptions.queryParams,search:t,_vac:1,_vac_source:"vselect"}}).then(e=>{this.apiOptions=this.getData(e)}).finally(()=>{e(!1),this.isDataReady=!0})},searchDebounced:r.a.debounce((e,t,i)=>{i.$awApi.get(i.dataUrl,{params:{...i.fieldOptions.queryParams,search:t,_vac:1,_vac_source:"vselect"}}).then(e=>{i.apiOptions=i.getData(e)}).finally(()=>{e(!1),i.isDataReady=!0})},150),templateParser(e,t){r.a.templateSettings.interpolate=/{{([\s\S]+?)}}/g;const i=r.a.template(e);return i(t)},formatLabel(e){if(r.a.isString(e)||r.a.isNumber(e))return e;let t;if(this._labelField.indexOf("{{")>-1)try{t=this.templateParser(this._labelField,{...e,currentItem:e})}catch(i){console.warn("[vSelect][templateParser]",i.message)}else t=this.get(e,this._labelField,"");return this.fieldOptions.taggable?t||e:this.awComponentsConfig.hideIdsInSelect||this.fieldOptions.hideIdsInSelect?""+t:`${t} [${e[this._trackBy]}]`},reduce(e){return r.a.isString(e)||r.a.isNumber(e)?e:this.fieldOptions.taggable?e&&e[this._trackBy]?e[this._trackBy]:e:this.get(e,this._trackBy)},getData(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?r.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?r.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},getCss(){if(this.$refs.vselectPopup){const e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":"9999999",top:`calc(50vh - ${e.height/2}px) / 2)`,left:`calc(50vw - ${e.width/2}px) / 2)`,width:e.width+"px"}}return{}},onNewItemCreated(e){this.updateSelected(e)}}}),m=h,f=(i("f45f"),i("2877")),g=Object(f["a"])(m,s,a,!1,null,null,null);t["a"]=g.exports},"5a3e":function(e,t,i){"use strict";var s=i("26d5"),a=i("60bb");t["a"]={props:{translations:{type:Object,default:()=>({})}},computed:{_translations(){return Object(a["merge"])(this.translations,s)}},created(){this.$t||(this.$t=e=>{const t=Object(a["get"])(this._translations,e)||e;return t},this.$te=e=>!!Object(a["get"])(this._translations,e))}}},"5bd6":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-12"},[i("div",{staticClass:"row"},e._l(e.stats,(function(t,s){return i("div",{key:t.label,staticClass:"filter-box col-md-3 cl-xs-6"},[i("div",{staticClass:"card card-statistics",class:t.color||e.getColor(s)},[i("div",{staticClass:"box text-center"},[i("h3",{staticClass:"font-light text-white mt-1"},[e._v(" "+e._s(t.value)+" ")]),i("h6",{staticClass:"text-white"},[e._v(" "+e._s(e.$t(t.label))+" ")])])])])})),0)])},a=[],n=i("60bb"),o=i.n(n),l=i("11fc"),r=i("cae3"),d={name:"EnyoCrudStatsSection",mixins:[l["a"],r["a"]],components:{},props:{url:{type:String,default:""},entity:{type:String,default:""},statsNeedsRefresh:{type:Boolean,default:!1},store:{type:Array,default:()=>[]}},data(){return{colors:["card-black","card-purple","card-teal","card-blue","card-success","card-warning","card-info","card-primary","card-danger"],stats:[]}},watch:{statsNeedsRefresh:"getStats",url:"getStats",entity:"getStats"},created(){},mounted(){this.getStats()},beforeDestroy(){},methods:{getStats:o.a.debounce((function(){this.$awApi.get(this.url,{}).then(e=>{if(e&&e.data){const t=this.apiResponseConfig&&this.apiResponseConfig.dataPath?o.a.get(e,this.apiResponseConfig.dataPath):e.data;this.stats=t,Array.isArray(t)||(this.stats=Object.entries(t).map(([e,t])=>({label:e,value:t.value||t,color:t.color,index:t.index})))}}).catch(e=>{console.error(e)}),this.refreshCompleted()}),100,void 0),refreshCompleted(){this.$emit("update:statsNeedsRefresh",!1)},getColor(e){const t=this.colors.length;return this.stats[e]&&this.stats[e].class?this.stats[e].class:this.colors[e>=t?e%t:e]}}},c=d,u=(i("a7a6"),i("2877")),p=Object(u["a"])(c,s,a,!1,null,"3e9e3ba0",null);t["a"]=p.exports},"5bf5":function(e,t,i){},"5c0b":function(e,t,i){"use strict";var s=i("9c0c"),a=i.n(s);a.a},"5c25":function(e,t,i){"use strict";var s=i("d43f"),a=i.n(s);a.a},"5d5e":function(e,t,i){"use strict";var s=i("4328"),a=i.n(s),n=i("5a0c"),o=i.n(n),l=i("60bb"),r=i.n(l),d=i("11fc"),c=i("c6ce"),u=i("cae3");t["a"]={mixins:[d["a"],u["a"],c["a"]],props:{autoRefresh:{type:Boolean,default:!1,description:"Should we auto refresh the page ?"},autoRefreshInterval:{type:Number,default:20,description:"Interval in seconds that should be used to refresh the page"},rows:{type:Array,default:()=>[]},url:{type:String,default:""},useRouterMode:{type:Boolean,default:!1,description:"Determine whether the component should interact with the vue-router."},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},identity:{type:[String,Number],required:!1,note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},title:{type:[String,Boolean],default:""},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3,note:"Limit serves in case of local pagination to limit the number of results from the api, in order to avoid memory overflows"},options:{type:Object,default:()=>({})},mode:{default:"local",type:String},savePaginationState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation page, perPage"},saveColumnsState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation (columns, sort etc"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"}},data(){return{totalCount:0,isRefreshing:!1,serverParams:{filters:{},range:{},sort:{},page:0,perPage:this.perPage},columnFilters:{},advancedFilters:[],parsedAdvancedFilters:{},data:[],showSkeleton:!1,routeQueryParams:{},segmentQueryField:"",segmentValue:""}},computed:{params(){return this.apiQueryParams},opts(){return r.a.merge(this.defaultOptions,this.options)},_translatedServerParams(){const e={};this.injectSegmentFilter(this.segmentQueryField,this.segmentValue);const t=r.a.merge({},this.serverParams,this.apiQueryParams,this.apiRequestPermanentQueryParams);return Object.keys(t).forEach(i=>{const s=this.apiRequestConfig[i+"Field"]||i;e[s]=t[i]}),"local"===this.mode&&(e.perPage=this.limit),e},isSaveStateEnabledCpt(){return this.saveColumnsState||this.savePaginationState},_actions(){const e=r.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(e).forEach(([t,i])=>{"boolean"!==typeof i&&(e[t]=this.templateParseConditionalField(i))}),e},_actionsBeforeCalculation(){return r.a.merge({},this.actions||this.mergedOptions&&this.mergedOptions.actions||this.optionsComputed&&this.optionsComputed.actions||this.options&&this.options.actions)},segmentFieldDefinitionComputed(){if(!this.segmentField)return"";if(this.columns){const e=this.columns.find(e=>e.field===this.segmentField);if(e)return e}return""},_saveStateKey(){return`${this.identity}-${this.$options.name}-${window.location.pathname}-state`}},watch:{needsRefresh:"refreshLocalData",apiQueryParams:{deep:!0,handler(e,t){e&&JSON.stringify(e)!==JSON.stringify(t)&&(this.serverParams=r.a.merge({},this.apiQueryParams,this.serverParams),this.getItems({useSkeleton:!0,source:"[apiListMixin] apiQueryParams"}))}},entity:"entityChanged",rows:"refreshLocalData",url:"refreshLocalData",$route(e){this.connectRouteToPagination(e)}},created(){},beforeMount(){const e=window.navigator?navigator.language||navigator.userLanguage:"en";o()().locale(e)},mounted(){this.$awEventBus&&this.$awEventBus.$on("aw-table-needs-refresh",this.refreshLocalData),this.onSearch=r.a.debounce(this.onSearchFresh,300),this.restoreComponentState(),this.connectRouteToPagination(this.$route),this.serverParams=r.a.merge({},this.serverParams,this.apiQueryParams),this.getItems({useSkeleton:!0,source:"[apiListMixin] refreshLocalData"})},beforeDestroy(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh",this.refreshLocalData)},methods:{startCase:r.a.startCase,async refreshLocalData(e){this._url&&"local"!==this.mode?(this.serverParams=r.a.merge({},this.serverParams,this.apiQueryParams),await this.getItems({useSkeleton:!0,source:"[apiListMixin] refreshLocalData"})):(this.data=this.rows,this.totalCount=this.rows?this.rows.length:0,this.$forceUpdate()),this.localRefreshCompleted()},entityChanged(){this.data=this._url?[]:this.rows,this.serverParams={},this.getItems({useSkeleton:!0,source:"[apiListMixin] entityChanged"})},localRefreshCompleted(){this.$emit("update:needsRefresh",!1),this.$emit("afterRefresh",{data:this.data}),this.$emit("after-local-refresh",{data:this.data})},getItems(e={useSkeleton:!1}){if(this.refresh)this.refresh({filters:this.serverParams&&this.serverParams.filters,translatedParams:this._translatedServerParams});else if(this._url)return e.useSkeleton&&(this.showSkeleton=e.useSkeleton),this.isRefreshing=!0,this.$awEmit("before-api-refresh",{component:"aw-listing",url:this._url}),this.$awApi.get(`${this._url}${-1===this._url.indexOf("?")?"?":"&"}${a.a.stringify(this._translatedServerParams,{})}`,{}).then(e=>{this.$awEmit("after-api-refresh",{response:e,component:"aw-listing",url:this._url}),this.data=this.apiResponseConfig&&this.apiResponseConfig.dataPath?r.a.get(e,this.apiResponseConfig.dataPath):e.data,this.totalCount=this.apiResponseConfig&&this.apiResponseConfig.totalCountPath?r.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount,this.$emit("crud-list-updated",this.data),this.$emit("afterRefresh",this.data),this.$awEmit("table-refreshed",{component:"aw-listing",url:this.url,data:this.data}),this.$emit("dataChanged",this.data),this.$awEmit("data-changed",{component:"aw-listing",url:this.url,data:this.data}),this.$awEmit("after-refresh",{component:"aw-listing",url:this.url,data:this.data})}).catch(e=>{console.warn(e),this.apiErrorCallback(e)}).finally(()=>{this.showSkeleton=!1,this.isRefreshing=!1})},onClick(e){this.opts&&this.opts.actions&&this.opts.actions.view&&this.$emit("view",e),this.$emit("itemClicked",e)},updateParams(e={page:void 0,search:void 0,perPage:void 0,columnFilters:void 0,advancedFilters:void 0,parsedAdvancedFilters:void 0,filters:void 0,columns:void 0,sort:void 0,permanent:!1}){const t=e.columnFilters&&Object.keys(e.columnFilters).length?Object.assign({},e.columnFilters):{};Object.keys(t).length>0&&(this.columnFilters={},Object.keys(t).forEach(e=>{void 0!=t[e]&&""!=t[e]&&(this.columnFilters[""+e]={$default:t[e]})}),delete e.columnFilters),void 0!==e.page&&(this.serverParams.page=e.page),e.columns&&(this.columnsState=e.columns),e.sort&&(this.serverParams.sort=e.columns),e.advancedFilters&&(this.advancedFilters=e.advancedFilters,delete e.advancedFilters),e.parsedAdvancedFilters&&(this.parsedAdvancedFilters=e.parsedAdvancedFilters,delete e.parsedAdvancedFilters),e.permanent?Object.keys(this.parsedAdvancedFilters).forEach(e=>{this.serverParams.filters[e]&&"$relation"!==e&&delete this.serverParams.filters[e],Object.keys(this.parsedAdvancedFilters[e]).forEach(t=>{"$relation"===e?Object.keys(this.parsedAdvancedFilters[e][t]).forEach(i=>{this.parsedAdvancedFilters[e][t][i]||(delete this.parsedAdvancedFilters[e][t],this.serverParams.filters[e]&&this.serverParams.filters[e][t]&&delete this.serverParams.filters[e][t])}):this.parsedAdvancedFilters[e][t]||(delete this.serverParams.filters[e],delete this.parsedAdvancedFilters[e])})}):delete this.serverParams.filters,this.serverParams=r.a.merge({},this.serverParams,e,{advancedFilters:void 0,filters:{...this.parsedAdvancedFilters,...this.columnFilters}},this.apiQueryParams)},sortFn(e,t,i,s,a){return e<t?-1:e>t?1:0},onPageChange(e){this.updateParams({page:e.currentPage}),this.pushChangesToRouter({query:{...this.$route.query,page:e.currentPage}},!1),"remote"===this.mode&&this.getItems({useSkeleton:!0,source:"[apiListMixin] onPageChange"})},onPerPageChange(e){this.updateParams({perPage:e.currentPerPage}),this.pushChangesToRouter({query:{...this.$route.query,perPage:e.currentPerPage}},!0),"remote"===this.mode&&this.getItems({useSkeleton:!0,source:"[apiListMixin] onPerPageChange"})},onSearch:()=>null,onSearchFresh(e){let t=e.searchTerm;this.updateParams({search:t,page:0}),"remote"===this.mode&&(this.pushChangesToRouter({query:{...this.$route.query,search:e.searchTerm}},!0),this.getItems({useSkeleton:!0,source:"[apiListMixin] onSearch"}))},onSelectionChanged(e){e&&(this.selectedRows=e.selectedRows)},pushChangesToRouter(e={},t=!1){if(this.saveComponentState(),!this.useRouterMode)return;const i=t?"replace":"push",s={...this.routeQueryParams,...this.$route.query,...e.query,sort:void 0};Object.keys(s).forEach(e=>{void 0===s[e]&&delete s[e]}),this.$router[i]({path:this.$route.path,...e,query:s}).catch(e=>{"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.warn(e)})},connectRouteToPagination(e){if(this.useRouterMode){if(Object.keys(e.query).length)return this.updateParams({page:e.query.page,search:e.query.search||void 0,perPage:e.query.perPage||void 0,filters:e.query.filters||void 0}),void(this.routeQueryParams={page:e.query.page||void 0,search:e.query.search||void 0,perPage:e.query.perPage||void 0,filters:e.query.filters||void 0});if(Object.keys(this.routeQueryParams).length)return this.updateParams({...this.routeQueryParams,columns:void 0}),void this.pushChangesToRouter(void 0,!0)}},exportCurrentArrayToExcel(){let e="";const t=this.data[0];Object.keys(t).forEach(t=>{e+=t+","}),e+="\r\n",this.data.forEach(t=>{Object.values(t).forEach(t=>{e+=t+","}),e+="\r\n"}),e="data:application/csv,"+encodeURIComponent(e);const i=document.createElement("A");i.setAttribute("href",e),i.setAttribute("download",(this.entity||this.identity||this.name||this.title||this.$options.name)+".csv"),document.body.appendChild(i),i.click()},saveComponentState(){if(this.isSaveStateEnabledCpt&&this.identity&&window.localStorage)try{const e={...this.columnsState};delete e.__ACTIONS,localStorage.setItem(this._saveStateKey,JSON.stringify({routeQueryParams:this.savePaginationState?{...this.routeQueryParams,filters:void 0}:void 0,columnsState:this.saveColumnsState?e:void 0,columnsFilterState:this.saveColumnsState?this.columnsFilterState:void 0,columnFilters:this.saveColumnsState?this.columnFilters:void 0,advancedFilters:this.saveColumnsState?this.advancedFilters:void 0,listingDisplayMode:this.listingDisplayMode}))}catch(e){console.warn("saveComponentState",e.message)}},async restoreComponentState(){if(this.isSaveStateEnabledCpt&&this.identity&&window.localStorage)try{let e=await localStorage.getItem(this._saveStateKey);e&&(e=JSON.parse(e),this.savePaginationState&&(this.routeQueryParams=e.routeQueryParams),e.columnsState&&this.saveColumnsState&&(this.columnsState=e.columnsState),e.columnsFilterState&&this.saveColumnsState&&(this.columnsFilterState=e.columnsFilterState),e.listingDisplayMode&&this.listingDisplayMode&&this.enabledListingModes&&this.enabledListingModes.includes(e.listingDisplayMode)&&(this.listingDisplayMode=e.listingDisplayMode))}catch(e){console.warn(e.message)}},clearComponentState(){try{window.localStorage&&localStorage.removeItem(this._saveStateKey)}catch(e){console.warn(e)}},exportCallBack(){this.exportUrl?this.$awApi.get(this.exportUrl,{}).then(e=>{if(e.data.url){const t=document.createElement("a"),i=e.data.url.split("/").pop();t.download=`${this.entity||""}_export_${i||""}`,t.href=e.data.url,t.click(),t.remove()}}).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export url",type:"warning"})},injectSegmentFilter(e,t){if("ALL"===t){delete this.serverParams[e];const t=this.apiRequestConfig.filtersField;this.serverParams[t]&&this.serverParams[t][e]&&delete this.serverParams[t][e],this.segmentValue=""}else this.serverParams.filters||(this.serverParams.filters={}),this.apiRequestConfig.filtersField?(this.serverParams[this.apiRequestConfig.filtersField][e]||(this.serverParams[this.apiRequestConfig.filtersField][e]={}),this.apiRequestConfig.filtersOperator?this.serverParams[this.apiRequestConfig.filtersField][e][this.apiRequestConfig.filtersOperator]=this.segmentValue:this.serverParams[this.apiRequestConfig.filtersField][e]=this.segmentValue):this.serverParams[e]=this.segmentValue},onSegmentChange({segmentField:e,segmentValue:t}){this.segmentValue=t,this.segmentQueryField=e,this.injectSegmentFilter(e,t),this.updateParams({page:0}),this.getItems({useSkeleton:!0,source:"[apiListMixin] segmentChanged"})}}}},"5e21":function(e,t,i){},6051:function(e,t,i){},"60bb":function(e,t){e.exports=lodash},"630d":function(e,t,i){},6389:function(e,t){e.exports=vue-router},"6c53":function(e,t,i){"use strict";var s=i("60bb"),a=i.n(s);t["a"]={props:{modelsStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.modelsStorePath||"data.models"},note:"Location of the array in the vuex state that contains all the models eg if you provide data.models => we will look ink this.$store.state.data.models"}},methods:{getModelFromStore(e,t=null){if(e&&(t=t||this.modelsStorePath,this.$store&&this.$store.state))if(t){const i=a.a.get(this.$store,t)||a.a.get(this.$store.state,t);if(i){if(Array.isArray(i))return i.find(t=>t.identity===e||t.modelName===e);if("object"===typeof i)return i[e]||i[e]}}else console.warn("[relationMixin][modelsStorePath] path not defined",t)},getRelation(e){return e.field&&e.field.relation||e.relation},getRelationUrl(e){const t=this.getRelation(e),i=e.field&&e.field.relationUrl||e.relationUrl;if(i||t){if(i)return i;{let e=this.getModelFromStore(t);return e||console.warn("[relationMixin][raceCondition] model not found for",t,"in",this.modelsStorePath),e?e.url||e.apiUrl:""}}},getRelationKey(e){const t=this.getRelation(e),i=e.field&&e.field.relationKey||e.relationKey;if(i||t){if(i)return i;if(e.foreignKey)return e.foreignKey;{const e=this.getModelFromStore(t);return e&&e.primaryKeyField||this.primaryKey}}},getRelationLabel(e){const t=this.getRelation(e),i=e.field&&e.field.relationLabel||e.relationLabel;if(i||t){if(i)return i;{const e=this.getModelFromStore(t);return e&&e.displayField||"label"}}}}}},"6f66":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-table aw-listing"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("table-header-left"),e.segmentFieldDefinitionComputed?i("div",{staticClass:"card aw-segment-table-wrapper"},[i("awesome-segments",{attrs:{apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,field:e.segmentFieldDefinitionComputed},on:{change:e.onSegmentChange}})],1):e._e()],2),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("table-header-right")],2),i("div",{staticClass:"card aw-table-card aw-table"},[e.showHeader?i("div",{staticClass:"card-header",class:"aw-table-header "+(e.optionsComputed.headerStyle?"colored-header bg-"+e.optionsComputed.headerStyle:"")},[e.isRefreshing?i("ProgressBar"):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-8"},[i("h3",{staticClass:"card-title aw-table-title text-left"},[e._t("table-title",(function(){return[e._tableTitle?[e._v(" "+e._s(e._tableTitle)+" "),i("label",{staticClass:"badge badge-primary p-1",attrs:{for:""}},[e._v(e._s(e.totalCount))])]:e._e()]})),e._actions&&e._actions.refresh?i("auto-refresh-button",{attrs:{"auto-refresh":e.autoRefresh,"auto-refresh-interval":e.autoRefreshInterval},on:{refresh:function(t){return e.getItems({useSkeleton:!0})}},model:{value:e.isRefreshing,callback:function(t){e.isRefreshing=t},expression:"isRefreshing"}}):e._e(),i("div",{staticClass:"aw-table-top-actions float-right m-0 p-0"},[e._t("table-top-actions"),e.canHideColumns?i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"top"}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[e._v(" "+e._s(e.$t("AwesomeTable.columns"))+" ")]),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},e._l(e.sortedColumns,(function(t,s){return i("button",{key:s,staticClass:"dropdown-item col",class:{"text-light bg-primary":e.columnsState[t.field],"d-none":"__ACTIONS"===t.field},attrs:{type:"button",href:"#"},on:{click:function(i){return e.toggleColumn(t.field)}}},[e._v(" "+e._s(t.label)+" ")])})),0)]):e._e(),e._actions&&e._actions.tableConfiguration&&(e._actions.export||e._actions.exportLocal||e._actions.import||e._actions.columnsFilters||e._actions.dropdownActions)?i("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button",id:"configurationButton"},slot:"reference"},[i("i",{staticClass:"fa fa-cog"}),e._v(" "+e._s(e.$t("AwesomeTable.more"))+" ")]),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("table-top-more-actions"),e._actions.columnsFilters?i("button",{staticClass:"btn btn-sm btn-simple btn-main-style",class:{"btn-primary":e.columnsFilterState,"btn-danger":!e.columnsFilterState},attrs:{type:"button"},on:{click:function(t){return e.toggleFilter()}}},[i("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.columnsFilterState?e.$t("AwesomeTable.buttons.columnsFilters.deactivate"):e.$t("AwesomeTable.buttons.columnsFilters.activate"))+" ")]):e._e(),e._actions&&e._actions.export?i("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.excel"))+" ")]):e._e(),e._actions&&e._actions.exportLocal?i("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCurrentArrayToExcel}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.excel-currentpage"))+" ")]):e._e(),e.isSaveStateEnabledCpt?i("button",{staticClass:"btn btn-sm btn-simple text-info btn-main-style btn-block",attrs:{type:"button"},on:{click:e.clearComponentState}},[i("i",{staticClass:"fa fa-trash"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.clear-state"))+" ")]):e._e()],2)]):e._e(),e._actions.filter&&e._actions.advancedFiltering?i("button",{staticClass:"btn btn-sm btn-simple mt-0",class:{"btn-primary":e.advancedFiltersCount||e.displayAwFilter,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false",id:"advancedFilterButton"},on:{click:e.toggleAdvancedFilters},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v(" "+e._s(e.$t("AwesomeTable.buttons.filters"))+" "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+" ")]):e._e()],2)],2),i("p",{staticClass:"card-category"},[e._t("table-subtitle")],2)]),i("div",{staticClass:"col-12 col-md-4"},[e.actions.search?i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.$t("AwesomeTable.searchInput")},domProps:{value:e.searchInput},on:{input:function(t){t.target.composing||(e.searchInput=t.target.value)}}}):e._e(),e.actions.dateFilter?i("date-range-picker",{staticClass:"form-group aw-filter-date-range",class:{"mt-1":e.actions.search},attrs:{placeholder:e.$t("AwesomeTable.daterange.start"),"date-range":{startDate:e.defaultStartDate,endDate:e.defaultEndDate},"locale-data":e.datePicker.locale,opens:"left"},on:{update:e.onDateFilter}}):e._e()],1),e.collapsible?i("button",{staticClass:"btn btn-sm btn-i",staticStyle:{position:"absolute",top:"0",right:"0",padding:"0"},attrs:{"data-toggle":"collapse","data-target":"#awTable-"+this._uid||!1}},[i("i",{staticClass:"fa fa-minus"})]):e._e()])],1):e._e(),i("div",{staticClass:"card-body aw-table-card-body collapse show",class:e.collapsible?"collapse show":"",attrs:{id:"awTable-"+this._uid||!1}},[e.displayAwFilter?i("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e.advancedFilters.length?i("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering,"toggle-edit":function(t){e.displayAwFilter=!0}}}):e._e(),i("div",{staticClass:"table-responsive"},[i("vue-good-table",{ref:"table-"+e.entity,attrs:{mode:e.mode,"total-rows":e.totalCount,"style-class":"vgt-table table striped",columns:e.displayedColumns,"fixed-header":e.optionsComputed&&e.optionsComputed.fixedHeader,"max-height":e.optionsComputed.maxHeight,rows:e.data||[],"filter-options":{enabled:e._actions.filter},"sort-options":{initialSortBy:e.initialSortBy},"search-options":{enabled:e._actions.search,placeholder:this.$t("AwesomeTable.searchInput"),externalQuery:e.searchInput},"pagination-options":{enabled:!e._actions||e._actions.pagination,nextLabel:this.$t("AwesomeTable.next"),prevLabel:this.$t("AwesomeTable.prev"),rowsPerPageLabel:this.$t("AwesomeTable.rows_per_page"),ofLabel:this.$t("AwesomeTable.of"),pageLabel:this.$t("AwesomeTable.page"),allLabel:this.$t("AwesomeTable.all"),perPage:e.perPageComputed,setCurrentPage:parseInt(e.serverParams.page)||void 0},"select-options":{enabled:!0,selectOnCheckboxOnly:!0,selectionInfoClass:"awesome-table-selection",selectionText:this.$t("AwesomeTable.bulk.row-select"),clearSelectionText:this.$t("AwesomeTable.bulk.clear"),disableSelectInfo:!1,selectAllByGroup:!0}},on:{"on-page-change":e.onPageChange,"on-sort-change":e.onSortChange,"on-column-filter":e.onColumnFilter,"on-per-page-change":e.onPerPageChange,"on-search":e.onSearch,"on-cell-click":e.clickOnLine,"on-selected-rows-change":e.onSelectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(t){return[e.showSkeleton?i("Skeleton",{attrs:{count:1,loading:!0}}):["__ACTIONS"!==t.column.field?i("div",{staticClass:"aw-table-router-link"},[i("awesome-display",e._b({staticClass:"pointer text-avoid-overflow",attrs:{apiResponseConfig:e.apiResponseConfig,apiRequestHeaders:e.apiRequestHeaders,value:e.getItemProperty(t.row,t.column.field)}},"awesome-display",t.column,!1))],1):"__ACTIONS"===t.column.field?i("span",{staticClass:"text-right aw-table-actions-field"},[e.templateParseConditionalField(e._actionsBeforeCalculation.view,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.$emit("view",t.row,i)}}},[i("i",{staticClass:"fa fa-eye text-info"})]):e._e(),e.templateParseConditionalField(e._actionsBeforeCalculation.edit,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.$emit("edit",t.row,i)}}},[i("i",{staticClass:"fa fa-pencil fa fa-pencil text-primary"})]):e._e(),e.templateParseConditionalField(e._actionsBeforeCalculation.delete,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.$emit("delete",t.row)}}},[i("i",{staticClass:"fa fa-trash text-danger"})]):e._e(),e._t("table-row-actions",(function(){return[e.customInlineActions?[i("AwesomeActionList",{attrs:{actions:e.customInlineActions,item:t.row,parent:e.parent,location:"inline",parentDisplayMode:"table"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),function(){return null}.apply(null,arguments)},customAction:function(t){return e.$emit("customAction",t)}}})]:e._e()]}),{item:t.row})],2):"list-of-value"===t.column.type||"lov"===t.column.type?i("span",{staticClass:"pointer",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.clickOnLine(t,i)}}},[e._v(e._s(e.getLovValue(t.formattedRow[t.column.field],t.column.listName)))]):"list-of-data"===t.column.type?i("span",{staticClass:"pointer",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.clickOnLine(t,i)}}},[e._v(e._s(e.getDataValue(t.formattedRow[t.column.field],t.column.listName)))]):e._e()]]}}])},[i("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[e.customBulkActions?[i("AwesomeActionList",{attrs:{actions:e.customBulkActions,items:e.selectedRows,columns:e.columns,parent:e.parent,parentDisplayMode:"table",location:"bulk"},on:{customAction:function(t){return e.$emit("customAction",t)}}})]:e._e(),e._actions.bulkDelete&&e._actions.delete?i("button",{staticClass:"btn btn-sm btn-primary ml-2 mr-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkDelete",e.selectedRows)}}},[i("i",{staticClass:"fa fa-trash"}),e._v(" "+e._s(e.$t("AwesomeTable.bulk.delete"))+" ")]):e._e(),e._actions.bulkEdit&&e._actions.edit?i("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkEdit",e.selectedRows)}}},[i("i",{staticClass:"fa fa-pencil"}),e._v(" "+e._s(e.$t("AwesomeTable.bulk.edit"))+" ")]):e._e()],2),e.customTableTopActions.length?i("div",{attrs:{slot:"table-actions"},slot:"table-actions"},[e.customTableTopActions?[i("AwesomeActionList",{staticClass:"ml-1",attrs:{actions:e.customTableTopActions,columns:e.columns,location:"tabletop",parentDisplayMode:"table"},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":e.permanentFiltering}}),e.optionsComputed.autoSearch?e._e():i("button",{staticClass:"btn btn-sm btn-primary btn-add-item ",attrs:{type:"button"},on:{click:e.doRefresh}},[i("i",{staticClass:"fa fa-search"})])]:e._e()],2):e._e(),i("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e._t("table-empty-state",(function(){return[i("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("AwesomeTable.empty"))+" "),i("br"),i("i",{staticClass:"fa fa-file-o fa-4x"}),i("br"),e._actions.create?i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.$emit("create")}}},[e._v(" "+e._s(e.$t("AwesomeTable.createFirstItem"))+" "),i("i",{staticClass:"fa fa-plus text-primary"})]):e._e()])]}))],2)])],1)],1)])])},a=[],n=i("60bb"),o=i.n(n),l=i("33a0"),r=i.n(l),d=(i("53b4"),i("ddbd")),c=i("5a0c"),u=i.n(c),p=i("5e0f"),h=i.n(p),m=i("97d1"),f=i.n(m),g=i("db65"),b=i("f1e6"),y=i("99b5"),v=i("5d5e"),C=i("5a3e"),w=i("cae3"),_=i("eab4"),O=i("383c"),$=i("0dce"),A=i("5598"),F=i("7aa9"),k=i("32a2"),S=i("76d4"),x=i("3c38");u.a.extend(h.a);var P={name:"AwesomeTable",token:'\n  <AwesomeTable  :title="title" :columns="tableColumns" :rows="dataSource" :needsRefresh="needsRefresh" :options="tableOptions">\n  <template slot="table-actions"></template>\n  <template slot="table-top-actions"></template>\n  <template slot="table-top-more-actions"></template>\n  <template slot="table-subtitle"></template>\n  <template slot="table-row-actions"></template>\n\n  </AwesomeTable>\n  ',components:{AwesomeActionList:F["a"],AwesomeDisplay:$["a"],AwesomeFilter:A["a"],AwesomeSegments:k["a"],AutoRefreshButton:S["a"],DateRangePicker:r.a,popper:f.a,ProgressBar:x["a"],Skeleton:g["Skeleton"],VueGoodTable:d["VueGoodTable"]},mixins:[_["a"],C["a"],y["a"],v["a"],w["a"],b["a"]],props:{columns:{type:Array,description:"The columns to display in the table",default:()=>[]},columnsDisplayed:{type:Number,description:"The number of columns to display by default",default:10},parent:{type:Object,default:()=>{},note:"In case of nested, pass parent to retrieve it in custom bulk actions"},rows:{type:Array,default:()=>[]},url:{type:String,default:""},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},name:{type:String,default:""},namePlural:{type:String,default:""},translations:{type:Object,default:()=>({"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty","AwesomeTable.createFirstItem":"Click here to create your first item"})},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3},options:{type:Object,default:()=>({})},defaultOptions:{type:Object,default:()=>({fixedHeader:!1,maxHeight:"",pagination:!0,filterInitiallyOn:!1,autoSearch:!0})},actions:{type:Object,default:()=>O["a"],note:"actions active in this instance"},customInlineActions:{type:Array,default:()=>[],note:"custom inline action in row"},customTableTopActions:{type:Array,default:()=>[],note:"custom table top actions"},customBulkActions:{type:Array,default:()=>[],note:"custom bulk action"},mode:{default:"local",type:String,required:!1,values:["local","remote"]},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."},showHeader:{type:Boolean,default:!0},singleClickFunction:{type:Function},getViewUrl:{type:Function},getEditUrl:{type:Function}},data(){return{totalCount:0,columnsFilterState:null,isRefreshing:!1,columnsState:{},defaultStartDate:u()().subtract(7,"days").format("YYYY-MM-DD"),defaultEndDate:u()().format("YYYY-MM-DD"),serverParams:{filters:{},range:{},sort:{},page:0,perPage:"local"===this.mode?this.limit:this.perPage},data:[],refreshHandle:null,numberOfRefreshCalls:0,datePicker:{locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:u.a.weekdaysMin(),monthNames:u.a.monthsShort(),firstDay:1}},selectedRows:[],displayLabelCache:{},clickTimeout:null,displayAwFilter:!1,searchInput:""}},computed:{optionsComputed(){return o.a.merge(this.defaultOptions,this.options)},_tableTitle(){if(!1===this.title)return"";const e=this.title||(this.$te&&this.$te("app.labels."+this.entity)?this.$t("app.labels."+this.entity):o.a.startCase(this.entity));return(e||"").trim()},formattedColumns(){this.columns||console.error("AwesomeTable MISSING COLUMNS");const e=this.columns.map(e=>{const t={};if(o.a.isString(e))return t.field=e,t.label=o.a.startCase(e),t.filterOptions={enabled:this.canFilterByColumnsCpt},t.sortable=!0,t;e.label||(e.label=o.a.startCase(e.field)),e.type&&"datetime"===e.type&&(e.format="D MMM YYYY <br/> HH:mm",e.formatFn=function(e){return e||e}),e.type&&"date"===e.type&&(e.format="DD-MM-YYYY",e.formatFn=function(e){return e||e}),e.type&&"object"===e.type&&(e.sortFn=(e,t,i,s,a)=>{const n=JSON.stringify(e),o=JSON.stringify(t);return n<o?-1:n>o?1:0}),e.type&&"relation"===e.type&&(e.sortFn=(e,t,i,s,a)=>e<t?-1:e>t?1:0),e.type&&"checkbox"===e.type&&(e.sortable=!1);let i=e.filterOptions&&e.filterOptions.filterDropdownItems;return!e.type||"list-of-value"!==e.type&&"lov"!==e.type||(i=this.$store.state.listOfValues[e.listName],i&&(i=i.map(e=>({value:e.code,text:e.label||e.code||e})))),e.type&&"list-of-data"===e.type&&(i=this.$store.state.data[e.listName],i=i.map(e=>({value:e.code,text:e.label||e.code||e}))),e.enum&&(i=e.enum,i=i.map(e=>{if("string"===typeof e){if(e.includes("|")){const t=e.split("|");return{value:t[0],text:t[1]}}return{value:e,text:o.a.startCase(e)}}return"object"===typeof e?e:{value:e,text:o.a.startCase(e)}})),e.filterOptions={enabled:void 0!==e.filterable?e.filterable&&this.canFilterByColumnsCpt:this.canFilterByColumnsCpt,filterDropdownItems:i},e}),t=Object.keys(this.columnsState).length<1;return t&&e.forEach((e,t)=>{this.$set(this.columnsState,e.field,t<this.columnsDisplayed)}),e.find(e=>"__ACTIONS"===e.field)||this._actions.noActions||(e.push({field:"__ACTIONS",label:"Actions",filterOptions:{enabled:!1}}),this.columnsState.__ACTIONS=!0),e},canHideColumns(){return this.formattedColumns.length>this.columnsDisplayed},displayedColumns(){if(this.columnsState,this.canHideColumns){const e=this.formattedColumns.filter(e=>this.columnsState[e.field]);if((!e.length||1===e.length&&this.columnsState.__ACTIONS)&&e.push(...this.formattedColumns),!this.columnsState.__ACTIONS){const t=this.formattedColumns.find(e=>"__ACTIONS"===e.field);t&&e.push(t)}return e}return this.formattedColumns},initialSortBy(){if(this.serverParams.sort){const e=Object.entries(this.serverParams.sort);if(e.length){const[[t,i]]=e;return{field:t,type:i}}}else;},advancedFiltersCount(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated(){return A["a"].methods.parseFilter(this.advancedFilters,{dispatch:!1})},perPageComputed(){return"remote"===this.mode?parseInt(this.serverParams.perPage):this.perPage},canFilterByColumnsCpt(){return this._actions.columnsFilters&&this.options&&(null!==this.columnsFilterState?this.columnsFilterState:this.options.filterInitiallyOn)},sortedColumns(){return o.a.sortBy(this.formattedColumns,["field","order"])}},watch:{params(){},entity:"entityChanged",rows:"refreshLocalData"},created(){this.$t||(this.$t=e=>this.translations[e]||e,this.$te=e=>!!this.translations[e])},beforeMount(){const e=window.navigator?navigator.language||navigator.userLanguage:"en";u()().locale(e)},mounted(){if(!this.refresh&&!this.store&&this.apiQueryParams&&this.apiQueryParams.filters&&Object.keys(this.apiQueryParams.filters).length>0){const e=[];Object.keys(this.apiQueryParams.filters).filter(e=>this.apiQueryParams.filters[e]).forEach(t=>{e.push({[t]:this.apiQueryParams.filters[t]})}),this.advancedFilters=[],e.forEach(e=>{const t={},[i,s]=Object.entries(e)[0],[a,n]="object"===typeof s?Object.entries(s)[0]:["$eq",s],o=this.columns.find(e=>e.field===i);if(o){t.field=o;const e=A["a"].data().filters&&A["a"].data().filters.find(e=>e.value===a);t.value=n,e&&(t.filter=e,t.value=n),this.advancedFilters.push(t)}})}},beforeDestroy(){clearInterval(this.refreshHandle)},methods:{startCase:o.a.startCase,doRefresh(){this.$awEmit("refresh",{filters:this.serverParams.filters}),"remote"==this.mode&&this.getItems({useSkeleton:!0})},toggleFilter(){this.columnsFilterState=!this.columnsFilterState,this.columnsFilterState||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0})),this.columns=this.columns.map(e=>(e.filterOptions&&(e.filterOptions.enabled=this.columnsFilterState),e)),this.saveComponentState()},toggleAdvancedFilters(){this.displayAwFilter=!this.displayAwFilter,this.displayAwFilter?(this.columnsFilterState=!1,this.toggleFilter()):(this.columnsFilterState=!0,this.toggleFilter()),this.saveComponentState()},clickOnLine(e,t){this.singleClickFunction||e.column&&"__ACTIONS"===e.column.field||this.$nextTick(()=>{this.clickTimeout?(clearTimeout(this.clickTimeout),this.clickTimeout=null,this.$emit("onRowDoubleClicked",e,t)):this.clickTimeout=setTimeout(()=>{this.$emit("onRowClicked",e,t),this.clickTimeout=null},300)})},getLovValue(e,t){if(!e||!this.$store.state.listOfValues[t])return e;const i=this.$store.state.listOfValues[t].find(t=>t[this.primaryKey]===e||t.code===e);return i?i.label||i.code||i:e},getDataValue(e,t){if(!e||!this.$store.state.data[t])return e;const i=this.$store.state.data[t].find(t=>t[this.primaryKey]===e||t.code===e);return i?i.label||i.title||i.name||i.code||i:e},toggleColumn(e){this.$set(this.columnsState,e,!this.columnsState[e]),this.pushChangesToRouter(void 0,!0)},onColumnFilter(e){"remote"===this.mode&&(this.updateParams({...e,page:0}),this.getItems({useSkeleton:!0}))},onSortChange(e){const t=e[0].field||e[0].columnIndex,i=this.columns.find(e=>e.field===t);if(!i)return;const s={};s[i.field]=e[0].type||e[0].sortType,this.useRouterMode,"remote"===this.mode&&(this.updateParams({sort:s}),this.pushChangesToRouter({query:{sort:s}},!0),this.getItems({useSkeleton:!0}))},onDateFilter(e){e&&(this.serverParams.range.startDate=e.startDate.toISOString().slice(0,10),this.serverParams.range.endDate=e.endDate.toISOString().slice(0,10),this.getItems({useSkeleton:!0}))},hasValue(e,t){return"undefined"!==e[t.toLowerCase()]},itemValue(e,t){return e[t.toLowerCase()]},getItemProperty:o.a.get}},I=P,R=(i("a897"),i("2877")),D=Object(R["a"])(I,s,a,!1,null,null,null);t["a"]=D.exports},"70ab":function(e,t,i){},"733a":function(e,t,i){},"762a":function(e,t,i){"use strict";var s=i("35fa"),a=i.n(s);a.a},"76d4":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"automatic-refresh-button "+(e.autoRefresh?" active":"")},[i("button",{staticClass:"btn btn-simple btn-icon btn-sm p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.onRefresh.apply(null,arguments)}}},[i("i",{class:"fa fa-refresh"+(e.value?" fa-spin":"")})]),i("span",{staticClass:"refresh-text"},[e._v(e._s(e.$t("AwesomeTable.automatique-refresh")))]),i("label",{staticClass:"switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshEnabled,expression:"autoRefreshEnabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshEnabled)?e._i(e.autoRefreshEnabled,null)>-1:e.autoRefreshEnabled},on:{change:function(t){var i=e.autoRefreshEnabled,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);s.checked?o<0&&(e.autoRefreshEnabled=i.concat([n])):o>-1&&(e.autoRefreshEnabled=i.slice(0,o).concat(i.slice(o+1)))}else e.autoRefreshEnabled=a}}}),i("span",{staticClass:"slider round"})])])},a=[],n={name:"AutoRefreshButton",components:{},mixins:[],emits:["input","refresh"],props:{value:{default:""},autoRefresh:{type:[Boolean]},autoRefreshInterval:{type:[Number],default:30}},computed:{},watch:{autoRefresh(e){void 0!==e&&(this.autoRefreshEnabled=e)},autoRefreshEnabled(e,t){e?this.startAutoRefresh():this.stopRefresh()}},created(){},beforeMount(){},mounted(){this.autoRefreshEnabled=this.autoRefresh},beforeDestroy(){this.stopAutoRefresh()},data(){return{autoRefreshEnabled:!1,autoRefreshHandle:null,numberOfRefreshCalls:0}},methods:{onRefresh(){this.$emit("refresh"),this.$emit("input",!0)},startAutoRefresh(){this.numberOfRefreshCalls=0,this.autoRefreshHandle&&clearInterval(this.autoRefreshHandle),this.autoRefreshHandle=setInterval(()=>{if(this.numberOfRefreshCalls>300)return this.$awNotify({title:"too much calls. Refresh to start over",type:"warning"}),clearInterval(this.autoRefreshHandle),void(this.autoRefreshHandle=null);document.hasFocus()&&(this.numberOfRefreshCalls+=1,this.onRefresh())},1e3*this.autoRefreshInterval)},stopAutoRefresh(){this.numberOfRefreshCalls=0,clearInterval(this.autoRefreshHandle)}}},o=n,l=i("2877"),r=Object(l["a"])(o,s,a,!1,null,null,null);t["a"]=r.exports},"7aa9":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-action-list"},[e.useDropdown?[e._l(e.unFoldableActions,(function(t,s){return[e.shouldDisplayAction(t)?[i("AwesomeAction",e._b({key:s,staticStyle:{display:"inline-block"},attrs:{classes:t.class||t.classes,index:s,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]})),i("div",{staticClass:"dropdown awesome-action-list-dropdown"},[i("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom"}}},[i("button",{staticClass:"btn btn-sm btn-outline-secondary ml-1 mr-1 dropdown-toggle",attrs:{slot:"reference",id:"dropdownMenuButton",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[i("i",{staticClass:"fa fa-bars"}),e._v(" "+e._s(e.$t("AwesomeTable.actions"))+" ")]),i("div",{staticClass:"card",staticStyle:{"max-height":"80vh",overflow:"auto","z-index":"1"}},[e._l(e.foldableActions,(function(t,s){return[e.shouldDisplayAction(t)?[i("AwesomeAction",e._b({key:s,attrs:{classes:t.class||t.classes,index:s,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))],2)])],1)]:e._e(),e.useDropdown?e._e():[e._l(e.actions,(function(t,s){return[e.shouldDisplayAction(t)?[i("AwesomeAction",e._b({key:s,attrs:{classes:t.class||t.classes,index:s,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))]],2)},a=[],n=i("97d1"),o=i.n(n),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"aw-action aw-action-name-"+e.name},["dropdown"===e.type?i("div",{staticClass:"dropdown dropleft"},[i("button",{staticClass:"btn dropdown-toggle",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-toggle":"dropdown","arias-haspopup":"true","aria-expanded":"false"},on:{click:function(t){return e.toggleDropdown()}}},[e.icon?i("i",{class:e.icon}):e._e(),i("span",[e._v(e._s(e.title?e.$t(e.title):""))])]),e.children&&e.children.length?i("div",{staticClass:"dropdown-menu",class:{show:e.isDropdownOpened},attrs:{"aria-labelledby":e.name+"-"+e.index}},e._l(e.children,(function(t,s){return i("a",{key:t.id||s,staticClass:"dropdown-item",on:{click:function(i){e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+e.index+"-"+s,dropdownItem:t}),e.toggleDropdown(!1)}}},[i("span",[e._v(e._s(t.title||t.label?e.$t(t.title||t.label):""))])])})),0):e._e()]):e._e(),"filter"===e.type?i("div",[i("AwesomeFilter",{key:e.index,attrs:{"permanent-filter":"",defaultOperator:e.defaultOperator,disabled:e.computeActionField(e.disabled),"field-label":e.computeActionField(e.label||e.title),field:e.field,fields:e.columns,showLabel:e.showLabel,showOperator:e.showOperator},on:{"update-filter":e.permanentFiltering}})],1):e._e(),"input"===e.type?i("div",[i("AwesomeFilter",{key:e.index,attrs:{"permanent-input":"",disabled:e.computeActionField(e.disabled),"field-label":e.computeActionField(e.label||e.title),field:e.field,showLabel:e.showLabel,showOperator:e.showOperator},on:{"update-filter":e.permanentFiltering}})],1):e._e(),e.type&&"button"!==e.type?e._e():i("div",[i("button",{key:e.index,staticClass:"btn",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-title":e.computeActionField(e.title),"data-tooltip":e.computeActionField(e.title),disabled:e.computeActionField(e.disabled)},on:{click:function(t){return e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+e.index})}}},[e.icon?i("i",{class:e.icon}):e._e(),i("span",[e._v(e._s(e.label?e.computeActionField(e.label):""))])])])])},r=[],d=i("e67d"),c=i.n(d),u=i("5a3e"),p=i("5598"),h={name:"AwesomeAction",mixins:[u["a"]],components:{AwesomeFilter:p["a"]},directives:{ClickOutside:c.a},props:{type:{type:String,default:"button",values:["button","dropdown","input","filter"],note:"The type of custom action"},name:{type:String,note:"The name of the custom action used in the identifier"},title:{type:[String,Function],note:"The text of the element. Usually used as a tooltip"},label:{type:[String,Function],note:"The label of the element"},disabled:{type:[Boolean,Function],note:"Whether the element disabled or not",default:!1},classes:{type:String,note:"The CSS classes"},icon:{type:[String,Function],note:"The icon of the element"},children:{type:Array,default:()=>[],note:"The children of the element (eg: in case of a dropdown)"},action:{type:Function,note:"A function you want to trigger when an action on element is fire"},actionApiUrl:{type:String,note:"an api url to call for this action. it can contain a template"},index:{type:Number,note:"The index of the element (used in id)"},items:{type:Array,note:"The selected items"},item:{type:Object,note:"The selected item"},location:{type:String,values:["top","tabletop","inline","topright"],note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)"},field:{type:String,note:"In case of type: filter || input, the field to search on. This is used for generate a simple input"},defaultOperator:{type:String,note:"In case of type: filter || input, the defaultOperator to display"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"},dropdownItemId:{type:String,note:"In case of type: filter || input, the defaultOperator to display",default:"id"},dropdownItemLabel:{type:String,note:"In case of type: filter || input, the defaultOperator to display",default:"title"},showLabel:{type:Boolean,default:!0,note:"Should be we show the label of the filter or not"},showOperator:{type:Boolean,default:!0,note:"Should be we show the operator of the filter or not"}},data:()=>({state:{},isDropdownOpened:!1}),watch:{},methods:{permanentFiltering(e,t){this.$emit("permanent-filtering",e,t)},permanentSearching(e){this.$emit("permanent-searching",e)},computeActionField(e){return void 0!==e?"function"===typeof e?e({item:this.item,items:this.items,parent:this.parent},this):"string"===typeof e?this.$t(e):e:""},toggleDropdown(e){this.isDropdownOpened=void 0!==e?e:!this.isDropdownOpened}},mounted(){"filter"!==this.type&&"input"!==this.type||this.field||console.warn("[AwesomeAction]","You forget to set `field` for this type:",this.type)}},m=h,f=i("2877"),g=Object(f["a"])(m,l,r,!1,null,"2cc3c4b7",null),b=g.exports,y={name:"AwesomeActionList",components:{AwesomeAction:b,Popper:o.a},props:{actions:{type:Array,required:!0,note:"List of actions"},items:{type:Array,note:"List of items"},item:{type:Object,note:"Selected item"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"},location:{type:String,note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)",default:()=>null},parentDisplayMode:{type:String,note:"The display mode of the parent",default:""},useDropdown:{type:Boolean,note:"if the slect items should be in a dropdown"}},computed:{foldableActions(){return this.actions.filter(e=>!e.type||"button"===e.type&&!e.sticky)},unFoldableActions(){return this.actions.filter(e=>e.type&&"button"!==e.type||e.sticky)}},data(){return{state:{}}},methods:{shouldDisplayAction(e){return this.mode=this.parentDisplayMode,void 0!==e.canDisplay?this.computeActionField(e,"canDisplay"):void 0===e.visible||this.computeActionField(e,"visible")},computeActionField(e,t){return void 0!==e[t]?"function"===typeof e[t]?e[t]({item:this.item,items:this.items,parent:this.parent},this):e.field:""}}},v=y,C=(i("8c14"),Object(f["a"])(v,s,a,!1,null,"1b88743e",null));t["a"]=C.exports},"7ed7":function(e,t,i){"use strict";var s=i("04e0"),a=i.n(s);a.a},"7f89":function(e,t,i){},"7fb5":function(e,t,i){},8204:function(e,t,i){"use strict";var s=i("1caf"),a=i.n(s);a.a},8449:function(e,t,i){"use strict";i.r(t),i.d(t,"createDefaultObject",(function(){return a})),i.d(t,"getMultipleFields",(function(){return n})),i.d(t,"mergeMultiObjectFields",(function(){return o})),i.d(t,"slugifyFormID",(function(){return l})),i.d(t,"slugify",(function(){return r}));var s=i("60bb");const a=(e,t={})=>(Object(s["each"])(e.fields,i=>{void 0===Object(s["get"])(t,i.model)&&void 0!==i.default&&(Object(s["isFunction"])(i.default)?Object(s["set"])(t,i.model,i.default(i,e,t)):Object(s["isObject"])(i.default)||Object(s["isArray"])(i.default)?Object(s["set"])(t,i.model,Object(s["cloneDeep"])(i.default)):Object(s["set"])(t,i.model,i.default))}),t),n=e=>{let t=[];return Object(s["each"])(e.fields,e=>{!0!==e.multi&&!0!==e.multiple||t.push(e)}),t},o=(e,t)=>{let i={},a=n(e);return Object(s["each"])(a,e=>{let a,n=!0,o=e.model;Object(s["each"])(t,e=>{let t=Object(s["get"])(e,o);n?(a=t,n=!1):a!==t&&(a=void 0)}),Object(s["set"])(i,o,a)}),i},l=(e,t="")=>Object(s["isNil"])(e.id)?t+(e.inputName||e.label||e.model||"").toString().trim().toLowerCase().replace(/ |_/g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-]+)/g,""):t+e.id,r=(e="")=>e.toString().trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")},"84af":function(e,t,i){"use strict";var s=i("13ff"),a=i.n(s);a.a},"854c":function(e,t,i){"use strict";var s=i("70ab"),a=i.n(s);a.a},"856f":function(e,t,i){"use strict";var s=i("517e"),a=i.n(s);a.a},"85b3":function(e,t){e.exports=vue-i18n},"8bbf":function(e,t){e.exports=vue},"8c14":function(e,t,i){"use strict";var s=i("b07d"),a=i.n(s);a.a},"8de2":function(e,t,i){},"8fd7":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-layout"},[i("grid-layout",{attrs:{layout:e.internalLayout,"col-num":12,"row-height":80,"is-draggable":e.isDraggable,"is-resizable":e.isResizable,"vertical-compact":e.verticalCompact,margin:[10,10],"use-css-transforms":!0},on:{"update:layout":function(t){e.internalLayout=t},"layout-updated":e.onLayoutUpdated}},e._l(e.internalLayout,(function(t,s){return i("grid-item",{key:t.i,staticClass:"item",attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i||s,maxW:12,minH:3,dragIgnoreFrom:"a, button, .form-element, .draggable-item"}},[i("div",{class:e.editMode?"awesome-layout-list card card-primary p-0":"p-0"},[t.legend||e.editMode?i("div",{staticClass:"draggable-header bg-primary"},[i("div",{staticClass:"legend"},[e.editMode?i("i",{staticClass:"fa fa-pencil"}):e._e(),e.editMode?i("input",{directives:[{name:"model",rawName:"v-model",value:t.legend,expression:"item.legend"}],staticClass:"form-control ml-2 aw-layout-legend-input",attrs:{type:"text"},domProps:{value:t.legend},on:{input:function(i){i.target.composing||e.$set(t,"legend",i.target.value)}}}):i("p",[e._v(e._s(t.legend))])]),e.editMode?i("a",{on:{click:function(t){return e.removeItemFromGrid(s)}}},[i("i",{staticClass:"fa fa-trash"})]):e._e()]):e._e(),i("div",{staticClass:"item-draggable"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:t.fields,group:"fields",disabled:!e.editMode,"ghost-class":"moving-card"},on:{change:e.fieldChanged}},[e.editMode?e._l(t.fields,(function(t,s){return i("div",{key:s},[i("div",{class:e.editMode?"draggable-item card":""},[i("div",{class:e.editMode?"card-body p-2":""},[e._t("field",(function(){return[e._v(e._s(t))]}),{field:t})],2)])])})):e._e(),e.editMode?e._e():[e._t("fields",(function(){return[e._v(" "+e._s(t.fields)+" ")]}),{fields:t.fields})]],2),t.layout?i("div",[i("AwesomeLayout",{attrs:{"edit-mode":e.editMode,layout:t.layout},on:{"update:layout":function(i){return e.$set(t,"layout",i)},"layout-updated":e.onLayoutUpdated,change:e.fieldChanged},scopedSlots:e._u([{key:"field",fn:function(t){var s=t.field;return i("div",{},[!e.editMode&&s?e._t("field",(function(){return[e._v(" "+e._s(s)+" ")]}),{fields:s}):e._e()],2)}},{key:"fields",fn:function(t){var s=t.fields;return i("div",{},[!e.editMode&&s?[e._t("fields",(function(){return[e._v(" "+e._s(s)+" ")]}),{fields:s})]:e._e()],2)}}],null,!0)})],1):e._e()],1)])])})),1),e.editMode?i("section",{staticClass:"awesome-layout-actions"},[i("button",{staticClass:"btn btn-primary btn-add-item ",attrs:{type:"button"},on:{click:function(t){return e.addItemToGrid()}}},[i("i",{staticClass:"fa fa-plus"})]),i("Draggable",{staticClass:"draggable-list",attrs:{group:"fields","ghost-class":"moving-card",list:e.fieldsList},on:{change:e.fieldChanged}},e._l(e.fieldsList,(function(t,s){return i("div",{key:s},[i("div",{staticClass:"draggable-item card"},[i("div",{staticClass:"card-body p-2"},[e._v(" "+e._s(t.model||t.label||t.title||t)+" ")])])])})),0)],1):e._e()],1)},a=[],n=i("5a3e"),o=i("ec26"),l={name:"AwesomeLayout",components:{},mixins:[n["a"]],props:{layout:{type:Array,required:!0},editMode:{type:Boolean,default:()=>!1},fieldsList:{type:Array,required:!1,default:()=>[],note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"}},watch:{layout:"layoutWatch"},data:()=>({internalLayout:[],verticalCompact:!0,height:2,newBlock:{x:0,y:0,w:6,h:6,maxW:12,minH:2,fields:[]}}),methods:{layoutWatch(e,t){e!=t&&(this.internalLayout=e)},onLayoutUpdated(e){this.$emit("layout-updated",e)},fieldChanged(e){this.$emit("layout-fields-updated",e)},addItemToGrid(){const e=Object.assign([],this.internalLayout);e.push({x:3*this.internalLayout.length%12,y:this.internalLayout.length+12,w:3,h:3,i:"aw-layout-item-"+Object(o["a"])(),fields:[]}),this.internalLayout=e,this.$emit("layout-updated",e)},removeItemFromGrid(e){const t=Object.assign([],this.internalLayout);t[e]&&t[e].fields&&t[e].fields.length?this.$awNotify({title:this.$t("AwesomeLayout.messages.emptyBlockBeforeDelete"),type:"warning"}):(t.splice(e,1),this.$emit("layout-updated",t))}},computed:{isDraggable(){return this.editMode},isResizable(){return this.editMode}},created(){this.$root.$options.components.draggable||console.error("`Draggable` is missing. Please download vuedraggable and register the component globally!"),this.$root.$options.components.GridLayout||console.error("`GridLayout` is missing. Please download vue-grid-layout and register the component globally!"),this.$root.$options.components.GridItem||console.error("`GridItem` is missing. Please download vue-grid-layout and register the component globally!")},mounted(){}},r=l,d=(i("d2aa"),i("2877")),c=Object(d["a"])(r,s,a,!1,null,"1d1454e0",null);t["a"]=c.exports},"900f":function(e,t,i){},"91be":function(e,t,i){"use strict";var s=i("ccdd"),a=i.n(s);a.a},9336:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isEditable?["text"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),"number"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"number",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),"checkbox"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"checkbox",placeholder:e.placeholder},domProps:{value:!0,checked:Array.isArray(e.modelvalue)?e._i(e.modelvalue,!0)>-1:e.modelvalue},on:{change:function(t){var i=e.modelvalue,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=!0,o=e._i(i,n);s.checked?o<0&&(e.modelvalue=i.concat([n])):o>-1&&(e.modelvalue=i.slice(0,o).concat(i.slice(o+1)))}else e.modelvalue=a}}})]:e._e(),"date"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"date",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),"select"===e.type?[i("select",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{placeholder:e.placeholder,multiple:e.selectOptions.multiple},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.modelvalue=t.target.multiple?i:i[0]}}},e._l(e._selectValues,(function(t,s){return i("option",{key:s,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0)]:e._e(),"textarea"===e.type?[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),i("button",{staticClass:"btn-edit",attrs:{title:"Save"},on:{click:function(t){return e.saveEdit()}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA2ElEQVQokX3RMUpEQRAE0DcfkUWWRQzFQA/hBgZewUA8iRgabmSgVzARTDXZVIy8gJEYiYGRGGywfH4bbCvjX7VgmKanq7qoKSEUpcEaGj/RhpjVjZW893GMITrM8m1elEvchGhrwjbucIYnHGCMUdbDolyFaPsWuhTZxAZecYJd7Ol5/sAFpjjEDh5DvOE+XXxbgnec9kTaDKT76teEdUwyrRq3tUhNGOWZoM3eFo7w8BuhsYjzpSI0ObO04dkivgGueyKruekcSvXTA3+jwzxEV0L8M7eMTwFuNUa403LOAAAAAElFTkSuQmCC"}})]),i("button",{staticClass:"btn-edit",attrs:{title:"Clear / reset"},on:{click:function(t){return e.clearEdit()}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA60lEQVQokY3RPUpDQRQF4O89HhaP+CoJIYWluIBgYSFWggg2WroCNyFWQayyBAtXIGgpYp1S0rqFGLVRMzZ3zJTOFAP3nsP5GUmCBh3WktVFix7qPKsCvIsTPOM+SZ+VaoAzrOMGr0lawhCPSJgFqI9rzPGBS/SSpME33rHENi5wiOOw84ZF7GX/IzzgJ5S+4l2E0uAvV4SrsYdpADPpFv2yiDpUNnCELavTYAcHlaot5jqMI2C2MS3szXCaK4dNvMRyjquwV2aaoMuEFudBGkeldRRxhyfsoylDt6HUFb/cBHmYwUlSZZn/nl8EkGJCLlPUYQAAAABJRU5ErkJggg=="}})])]:[i("span",{domProps:{innerHTML:e._s(e.modelvalue||e.placeholder)}}),i("button",{staticClass:"btn-edit",attrs:{title:"Edit"},on:{click:function(t){e.isEditable=!0}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA0ElEQVQokX3SoU4DURCF4e82G0I2TdMgKgh9A0QVD1BBeIkaLLpVGCSSJ0BUIUlwhARVh0KAQZAUDIZUIJmaS1N2u51xkzPn/jNzUwhNkaQSRYjFqhgNiQ6uMEVvVW8Qt3GKZwRu0A2h2ICxhzGOcJdf2keJ76pziUs84AvvmOCwhpSdLrL4I6O8YPDPNIt3cY6nNfEbhtX5Whn9BH3M0cMnRniszvjX0MUBrvGKsxCzEL+142SkY9zjFkO0mu6TQkhSgZ1s8FNzXV/7tq+xKZYdlHQTgFOznwAAAABJRU5ErkJggg=="}})])]],2)},a=[],n={name:"LiveEdit",props:{value:{type:[Number,String,Object],required:!1},type:{type:String,default:"text",values:["text","checkbox","date","select","number","textarea"]},editClass:{type:String,default:""},selectValues:{type:Array,default:function(){return[]}},selectOptions:{type:Object,default:function(){return{value:"value",label:"label",multiple:!1}}},placeholder:{type:String,required:!1,default:""}},data(){return{isEditable:!1,originalValue:this.value,modelvalue:this.value}},computed:{_selectValues(){return this.selectValues?this.selectValues.map(e=>"object"===typeof e?{value:e[this.selectOptions.value],label:e[this.selectOptions.label]}:{value:e,label:e}):[]}},watch:{modelvalue:function(e){this.$emit("input",e)},value:function(e,t){e!==t&&(this.modelvalue=e)}},methods:{saveEdit(){this.isEditable=!1,this.$emit("input",this.modelvalue),this.$emit("change",this.modelvalue)},clearEdit(){this.isEditable=!1,this.modelvalue=this.originalValue,this.$emit("change",this.modelvalue)}}},o=n,l=(i("856f"),i("2877")),r=Object(l["a"])(o,s,a,!1,null,"544c2cea",null);t["a"]=r.exports},"96a7":function(e,t,i){"use strict";var s=i("3dd1"),a=i.n(s),n=i("60bb"),o=i("2685"),l=i.n(o);l.a.settings({timeout:5e3,resetOnHover:!0,icon:"fontAwesome",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"}),t["a"]={methods:{$awNotify(e){l.a.settings({timeout:5e3,resetOnHover:!0,icon:"fontAwesome",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const t=Object(n["isObject"])(e)?{title:e,...e}:{icon:"fa fa-info",title:e},i=t&&t.type&&l.a[t.type]?t.type:"info";l.a[i]?l.a[i](t||""):a.a.fire({title:t.title,text:t.message,type:t.type,showCancelButton:!1})},$awConfirm(e){let t={title:this.$t("Notifications.messages.are_you_sure"),text:"",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$t("Notifications.buttons.yes"),cancelButtonText:this.$t("Notifications.buttons.cancel"),reverseButtons:!0};return"object"===typeof e?t=Object.assign({},t,e):t.text=e,a.a.fire(t).then(e=>e.value)},$awExport(e){return new Promise((t,i)=>{a.a.fire({title:"Data exported",input:"textarea",inputValue:JSON.stringify(e),type:"success",showCancelButton:!1,showConfirmButton:"#3075d6",confirmButtonText:this.$t("Notifications.buttons.close"),reverseButtons:!0}).then(e=>{t(e.value)}).catch(i)})}}}},"97d1":function(e,t){e.exports=vue-popperjs},"99b5":function(e,t,i){"use strict";t["a"]={methods:{apiErrorCallback(e){if(e&&!e.response&&!e.message)return void this.$awNotify({title:this.$t("common.messages.network_error"),type:"warning"});const t=e.response||e.data||e;let i=this.parseErrorResponse(t);this.$te("aw.messages."+i)?i=this.$t("aw.messages."+i):this.$te(i)&&(i=this.$t(i));const s=e.response&&e.response.data||e.data||e,a=s&&s.errors,n=a&&Array.isArray(a)?a.map(e=>e.message||e).filter(e=>e!==t).map(e=>(this.$te(e)?this.$t(e):e)+"\n").join(""):"";this.$awNotify({title:i,message:n,type:"warning",timer:3e3})},parseErrorResponse(e){if(!e)return"";const t=e.response||e.data||e;if(t){let e="";return t.message?t.message:t.errors?(t.errors&&t.errors.length?e+="\n"+t.errors.map(e=>e.message||e).join("<br/>"):e+=JSON.stringify(t.errors),e):t instanceof String?t:JSON.stringify(t)}return"Error status: "+e.status}}}},"9c0b":function(e,t,i){},"9c0c":function(e,t,i){},"9eaf":function(e,t,i){"use strict";var s=i("0514"),a=i.n(s);a.a},a035:function(e,t,i){"use strict";t["a"]={props:{primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey||"id"},description:"Which field to use as primary key. By default it's `id` but it can be `_id`  or anything that you want"},primaryKeyField:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey||"id"},description:"Which field to use as primary key. By default it's `id` but it can be `_id`  or anything that you want"},identity:{type:String,required:!0},displayField:{type:String},title:{type:[String,Boolean]},name:{type:[String,Boolean]},pluralName:{type:[String,Boolean]},tabTitle:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0}},computed:{primaryKeyFieldCpt(){return this.primaryKeyField||this.primaryKey||this.awComponentsConfig&&this.awComponentsConfig.primaryKey||"id"}}}},a354:function(e){e.exports=JSON.parse('{"AwesomeDefault":{"messages":{"are_you_sure":"Êtes-vous sur ?","wont_be_able_recover":"Cette action est irréversible","successfullyCreated":"Créé avec succès.","successfullyModified":"Modifié avec succès.","successfullyImported":"Importé avec succès","no_data_imported":"Pas de données importées","not_imported":"Non importé","all":"Tous"}},"AwesomeKanban":{"labels":{"addList":"Ajouter une liste","add":"Ajouter","listName":"Nom de la liste","removeList":"Supprimer la liste","noData":"Pas de champs sélectionnés","unsorted":"Non triés."},"buttons":{"filters":"Filtrer","refresh":"Rafraichir","excel-currentpage":"Exporter la page en cours","searchInput":"Rechercher","view":"Voir","cancel":"Annuler","close":"Fermer","columnsFilters":"Activer/Désactiver les filtres de colonnes","clear-state":"Réinitialiser le configuration du tableau"}},"AwesomeFilter":{"labels":{"filterData":"Filtrer les données","filterValue":"Valeur du filtre","fields":"Champs","filters":"Filtres","values":"Valeurs","clear":"--Vider--","activeFilter":"Filtres actifs","addFilter":"Ajouter un filtre","from":"De","to":"à"},"filters":{"equals":"Est égal à (=)","not-equals":"N\'est pas égal à (<>)","greater-than":"Est plus grand que(>)","greater-or-equals":"Est égal ou plus grand que (>=)","lesser-than":"Est plus petit que (<)","lesser-or-equals":"Est égal ou petit que (<=)","between":"Entre","not-between":"N\'est pas entre","contains":"Contient","not-contains":"Ne contient pas","starts-with":"Commence par","ends-with":"Fini par","is-null":"est vide","is-not-null":"N\'est pas vide","is-defined":"Est défini","is-not-defined":"N\'est pas défini","in":"Est parmi"}},"AwesomeTable":{"buttons":{"filters":"Filtrer","refresh":"Rafraichir","excel":"Exporter toutes les données","searchInput":"Rechercher","view":"Voir","cancel":"Annuler","close":"Fermer","clear-state":"Réinitialiser le configuration du tableau","excel-currentpage":"Exporter les données affichées","columnsFilters":{"toggle":"Activer/Désactiver les filtres de colonnes","activate":"Activer les filtres de colonnes","deactivate":"Activer les filtres de colonnes"}},"next":"Suivant","prev":"Précédent","rows_per_page":"Lignes par page","of":"de","page":"page","all":"tous","empty":"pas de résultats","searchInput":"Rechercher","more":"Plus d\'actions","actions":"Actions","configuration":"Configuration","columns":"Colonnes","automatique-refresh":"Rafraichir périodiquement","createFirstItem":"Cliquer ici rajouter votre premier élément","bulk":{"row-select":"lignes(s) selectionnées","clear":"vider","delete":"supprimer","edit":"editer"}},"AwesomeCrud":{"labels":{"manageTitle":"Gestion des","createNew":"Ajouter","view":"Consultation:","edit":"Edition:","add_a":"Creation:"},"buttons":{"yes_delete_it":"Oui je confirme","view":"Open","cancel":"Annuler","close":"Fermer","edit":"Editer","save":"Enregistrer","sort":"Trier","delete":"Supprimer","bulkEdit":"Edition groupée","openEditLayoutMode":"Editer le layout","closeEditLayoutMode":"Fermer \'l\'éditeur","resetLayout":"Reset the layout","exportLayout":"Export the layout"},"messages":{"successfullyModified":"Modification réussie."}},"dateRangePicker":{"applyLabel":"Apply","cancelLabel":"Cancel","weekLabel":"W","customRangeLabel":"Custom Range"},"AwesomeList":{"labels":{"noData":"No fields selected"},"buttons":{"filters":"Filtrer","refresh":"Rafraichir","excel-currentpage":"Exporter la page en cours","searchInput":"Rechercher","view":"Voir","cancel":"Annuler","close":"Fermer","columnsFilters":"Activer/Désactiver les filtres de colonnes","clear-state":"Réinitialiser le configuration du tableau"}},"AwesomeLayout":{"messages":{"emptyBlockBeforeDelete":"you must empty the block before you can delete it."}},"Notifications":{"messages":{"are_you_sure":"Êtes-vous sûr ?"},"buttons":{"yes":"Oui","cancel":"Annuler","close":"Fermer"}}}')},a4e9:function(e,t,i){},a7a6:function(e,t,i){"use strict";var s=i("5922"),a=i.n(s);a.a},a897:function(e,t,i){"use strict";var s=i("b68d"),a=i.n(s);a.a},a8fa:function(e,t,i){},abe2:function(e,t,i){},ad09:function(e,t){e.exports=vue-select},b07d:function(e,t,i){},b0e5:function(e,t,i){},b2ae:function(e,t,i){"use strict";var s=i("a4e9"),a=i.n(s);a.a},b549:function(e,t,i){},b5ca:function(e,t,i){"use strict";var s=i("0f45"),a=i.n(s);a.a},b5ef:function(e,t,i){"use strict";t["a"]={props:{imageField:{type:String,default:""},titleField:{type:String,default:""},subtitleField:{type:String,default:""},descriptionField:{type:String,default:""},usersField:{type:String,default:""},labelsField:{type:String,default:""},userTitleField:{type:String,default:""},userImageField:{type:String,default:""}}}},b679:function(e,t,i){"use strict";t["a"]={props:{nestedDisplayMode:{type:String,required:!1,default:"table",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"}},computed:{_isNested(){return this.parent},_isEmbedded(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isANestedDetailView(){return this._isNested&&(this.selectedItem&&this.selectedItem[this.primaryKey]||"view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isNestedCreate(){return this._isNested&&this.selectedItem&&"create"===this.viewMode},_noFormActions(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)}},methods:{}}},b68d:function(e,t,i){},b934:function(e,t,i){"use strict";var s=i("5e21"),a=i.n(s);a.a},b95f:function(e,t,i){"use strict";var s=i("733a"),a=i.n(s);a.a},beb7:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content aw-crud",class:"aw-crud-mode-"+e.displayMode+" aw-crud-"+e.identity},[i("div",{},[i("div",{staticClass:"row mr-0 ml-0"},[i("div",{staticClass:"col-12 awesomecrud-stats-section p-0"},[e.showStatsSectionComputed?i("div",{staticClass:"row"},[i("EnyoCrudStatsSection",{attrs:{url:e._url+"/stats",entity:e.identity,identity:e.identity,"stats-needs-refresh":e.statsNeedsRefresh},on:{"update:statsNeedsRefresh":function(t){e.statsNeedsRefresh=t},"update:stats-needs-refresh":function(t){e.statsNeedsRefresh=t}}})],1):e._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showItemsListSectionComputed,expression:"showItemsListSectionComputed"}],staticClass:"awesomecrud-listing-section p-0",class:"aw-crud-listing-mode-"+e.listingDisplayMode+" "+(e.displaySideFormContent?"col-6":"col-12")},[!e._isANestedDetailView&&("table"===e.displayMode||e._displayModeHasPartialDisplay&&"table"===e.listingDisplayMode)&&e.dataPaginationModeComputed?i("AwesomeTable",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.apiQueryParams||e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,collapsible:!1,"columns-displayed":e.mergedOptions.columnsDisplayed,columns:e.tableColumnsComputed,"custom-bulk-actions":e._customBulkActions,"custom-inline-actions":e._customInlineActions,"custom-table-top-actions":e._customTableTopActions,entity:e.identity,"export-url":e.mergedOptions.exportUrl,limit:"remote"===e.dataPaginationModeComputed?20:e.tableDataLimit,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,saveColumnsState:e.saveColumnsState,savePaginationState:e.savePaginationState,segment:e.segment,segmentField:e.segmentField,title:e._listingComponentTitle,url:e._url,useRouterMode:e.useRouterMode,uuid:"awtable-"+e.identity,"get-view-url":e.getViewPageUrl},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,edit:e.goToEditPage,delete:e.goToDeletePage,bulkDelete:e.goToBulkDeletePage,bulkEdit:e.goToBulkEditPage,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,"table-updated":e.onListUpdated,refresh:e.onTableRefresh,onRowClicked:e.onTableRowClicked,onRowDoubleClicked:e.onTableRowDoubleClicked,updateAutoRefresh:e.updateAutoRefresh,"data-changed":e.onDataChanged}},"AwesomeTable",e.$props,!1),[i("template",{slot:"table-header-left"},[e._t("top-left-buttons")],2),i("template",{slot:"table-header-right"},[i("div",{staticClass:"text-right"},[e._actions.changeDisplayMode&&e.enabledListingModes.length>1?i("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listingDisplayMode,callback:function(t){e.listingDisplayMode=t},expression:"listingDisplayMode"}}):e._e(),e._t("top-right-buttons"),e._customTopRightActions?[i("AwesomeActionList",{staticClass:"d-inline-flex",attrs:{actions:e._customTopRightActions,parentDisplayMode:e.displayMode,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v(" "+e._s(e.$t("AwesomeCrud.labels.createNew"))+" ")])],2)]),i("template",{slot:"table-top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,parentDisplayMode:e.displayMode,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),i("template",{slot:"table-top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:e.importButtonConfig},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._actions.import?i("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+" ")]):e._e(),e.mergedOptions.useCustomLayout&&e._actions.editLayout?i("button",{staticClass:"btn btn-sm text-success btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:function(t){return e.goToCreatePage({editLayoutMode:!0})}}},[i("i",{staticClass:"fa fa-th-large"}),e._v(" "+e._s(e.$t("AwesomeCrud.buttons.openEditLayoutMode"))+" ")]):e._e()],1)],2):e._e(),!e._isANestedDetailView&&("list"===e.displayMode||e._displayModeHasPartialDisplay&&"list"===e.listingDisplayMode)?i("AwesomeList",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.apiQueryParams||e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,columns:e.listFieldsComputed,descriptionField:e.listOptions?e.listOptions.descriptionField:"",displayFields:e.listOptions?e.listOptions.displayFields:[],"export-url":e.mergedOptions.exportUrl,identity:e.identity,imageClasses:e.listOptions&&e.listOptions.imageClasses,imageField:e.listOptions&&e.listOptions.imageField,imageStyles:e.listOptions&&e.listOptions.imageStyles,perRow:e.listOptions&&e.listOptions.perRow,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,perPage:e.listOptions&&e.listOptions.perPage?e.listOptions.perPage:20,segment:e.segment,segmentField:e.segmentField,styles:{listWrapperClasses:"row",itemWrapperClasses:"col-3"},subtitleField:e.listOptions&&e.listOptions.subtitleField,title:e._listingComponentTitle,titleField:e.listOptions&&e.listOptions.titleField,url:e._url,useRouterMode:e.useRouterMode},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},itemClicked:e.onListItemClicked,reorder:e.onListReordered,create:e.goToCreatePage,view:e.goToViewPage,edit:e.goToEditPage,delete:e.goToDeletePage,bulkDelete:e.goToBulkDeletePage,bulkEdit:e.goToBulkEditPage,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,"table-updated":e.onListUpdated,refresh:e.onTableRefresh,onRowClicked:e.onTableRowClicked,onRowDoubleClicked:e.onTableRowDoubleClicked,updateAutoRefresh:e.updateAutoRefresh,"data-changed":e.onDataChanged},scopedSlots:e._u([{key:"list-items",fn:function(t){var i=t.items,s=t.itemsPerRow,a=t.columns;return[e._t("list-items",null,{items:i,itemsPerRow:s,columns:a})]}},{key:"list-item",fn:function(t){var i=t.item,s=t.itemsPerRow,a=t.columns,n=t.index;return[e._t("list-item",null,{item:i,itemsPerRow:s,columns:a,index:n})]}}],null,!0)},"AwesomeList",e.listOptions,!1),[i("template",{slot:"top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),i("template",{slot:"list-header-left"}),i("template",{slot:"list-header-right"},[e._actions.changeDisplayMode&&e.enabledListingModes.length>1?i("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listingDisplayMode,callback:function(t){e.listingDisplayMode=t},expression:"listingDisplayMode"}}):e._e(),e._t("top-right-buttons"),e._customTopRightActions?[i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v(" "+e._s(e.$t("AwesomeCrud.labels.createNew"))+" ")])],2),i("template",{slot:"top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:e.importButtonConfig},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._actions.import?i("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+" ")]):e._e()],1)],2):e._e(),!e._isANestedDetailView&&("kanban"===e.displayMode||e._displayModeHasPartialDisplay&&"kanban"===e.listingDisplayMode)?i("AwesomeKanban",e._b({attrs:{actions:e._actions,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.apiQueryParams||e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"card-click-resolver":e.getViewPageUrl,columns:e.kanbanFieldsComputed,"export-url":e.mergedOptions.exportUrl,fields:e._kanbanOptions.fields,identity:e.identity,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e._kanbanOptions.options,splittingField:e._kanbanOptions.splittingField,splittingValues:e._splittingValuesComputed,title:e._listingComponentTitle,url:e._url,useRouterMode:e.useRouterMode},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},customListAction:e.onCustomListAction,create:e.goToCreatePage,removeList:e.onRemoveList,listChanged:e.onListChanged,cardChanged:e.onCardChanged,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked,"data-changed":e.onDataChanged,"kanban-changed":function(t){return e.forwardEvent("kanban-changed")},beforeRefresh:e.beforeRefresh,"before-refresh":e.before_refresh,afterRefresh:e.afterRefresh,"after-refresh":e.after_refresh},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)},"AwesomeKanban",e._kanbanOptions,!1),[i("template",{slot:"kanban-header-left"},[e._t("top-left-buttons")],2),i("template",{slot:"kanban-header-right"},[e._actions.changeDisplayMode&&e.enabledListingModes.length>1?i("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listingDisplayMode,callback:function(t){e.listingDisplayMode=t},expression:"listingDisplayMode"}}):e._e(),e._t("top-right-buttons"),i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}}),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v(" "+e._s(e.$t("AwesomeCrud.labels.createNew"))+" ")])],2),i("template",{slot:"top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:e.importButtonConfig},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._actions.import?i("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v(" "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+" ")]):e._e()],1),e._t("top-actions2",(function(){return[i("template",{slot:"top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2)]})),e._t("kanban-item",(function(){return[i("template",{slot:"kanban-item"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2)]}))],2):e._e()],1),i("div",{staticClass:"awesomecrud-detail-section  p-0",class:{"col-6":e.displaySideFormContent,"col-12":!e.displaySideFormContent,"sticky-form":e.displaySideFormContent&&e.isSideformSticky}},[e.displaySideFormContent&&e.isSideformSticky?i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add invisible",attrs:{disabled:!0,type:"button"}},[i("i",{staticClass:"fa fa-plus text-primary"})]):e._e(),e.showViewFormComputed?i("awesome-form",e._b({attrs:{actions:e._actionsBeforeCalculation,apiTimeout:e.apiTimeout,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:e.viewPageLayoutComputed,mode:e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,parent:e.parent,schema:e.schemaComputed,standalone:!1,url:e._url},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onViewDisplayCancelled,closeRequested:e.onViewDisplayCancelled,customAction:e.onCustomAction,beforeCreate:e.beforeCreate,itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,modelUpdated:e.onModelUpdated,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.$props,!1),[e._t("after-edit-form",null,{slot:"after-edit-form",selectedItem:e.selectedItem})],2):e._e(),e.showEditFormComputed?i("awesome-form",e._b({attrs:{actions:e._actionsBeforeCalculation,apiTimeout:e.apiTimeout,"bulk-items":e.selectedItems,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:"create"===e.displayMode?e.createPageLayoutComputed:e.editPageLayoutComputed,mode:e.displayBottomFormContent?"create":e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,schema:e.schemaComputed,standalone:!1,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,createPageLayoutComputed:""},on:{modelUpdated:e.onModelUpdated,"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onEditDisplayCancelled,closeRequested:e.onEditDisplayCancelled,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.$props,!1)):e._e()],1)])])])},a=[],n=i("60bb"),o=i.n(n),l=i("4328"),r=i.n(l),d=i("d2cf"),c=i("99b5"),u=i("11fc"),p=i("b679"),h=i("6c53"),m=i("cae3"),f=i("eab4"),g=i("c6ce"),b=i("a035"),y=i("5a3e"),v=i("383c"),C=i("3dd1"),w=i.n(C),_=i("6f66"),O=i("5bd6"),$=i("2781"),A=i("09b8"),F=i("51ac"),k=i("7aa9"),S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"btn-group aw-list-mode-selector"},[!e.enabledModes||e.enabledModes.includes("table")?i("button",{staticClass:"btn btn-link pl-0 pr-2 pv-2",attrs:{title:"table",type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","table")}}},[i("i",{staticClass:"fa fa-table",class:"table"===e.value?"text-primary":"text-default"})]):e._e(),!e.enabledModes||e.enabledModes.includes("list")?i("button",{staticClass:"btn btn-link p-2",attrs:{title:"list",type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","list")}}},[i("i",{staticClass:"fa fa-list",class:"list"===e.value?"text-primary":"text-default"})]):e._e(),!e.enabledModes||e.enabledModes.includes("kanban")?i("button",{staticClass:"btn btn-link p-2",attrs:{title:"kanban",type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","kanban")}}},[i("i",{staticClass:"fa fa-columns",class:"kanban"===e.value?"text-primary":"text-default"})]):e._e()])},x=[],P={props:{value:{type:String,validator:e=>!e||["list","table","kanban"].includes(e),values:["list","table","kanban"]},enabledModes:{type:Array,default:()=>["list","table","kanban"]}}},I=P,R=(i("22bf"),i("2877")),D=Object(R["a"])(I,S,x,!1,null,"731d1c87",null),L=D.exports,T=i("8449");i("dac4");const M={mode:"local",dataPaginationMode:"local",defaultOptions:!0,url:null,columns:null,createPath:null,viewPath:null,editPath:null,queryParams:{},stats:!1,autoRefresh:!1,autoRefreshInterval:20,initialDisplayMode:"table",detailPageMode:"sidebar",detailPageLayout:null,columnsDisplayed:10},N={displayFields:[],imageField:"",titleField:"",subtitleField:"",descriptionField:""};var j={name:"AwesomeCrud",introduction:"A component to quickly create a table UI with edit capabilities",description:"This component create tables and forms edit data based on a json schema.",components:{AwesomeTable:_["a"],EnyoCrudStatsSection:O["a"],AwesomeForm:$["default"],AwesomeList:A["a"],AwesomeKanban:F["a"],AwesomeActionList:k["a"],ListingModeSelector:L},mixins:[f["a"],y["a"],b["a"],g["a"],c["a"],u["a"],p["a"],h["a"],d["a"],m["a"]],props:{title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},modelName:{type:String,required:!1,note:"Deprecated use identity"},identity:{type:String,required:!0,note:"Unique collection identifier"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},layout:{type:[Object,Array],required:!1,default:()=>[],note:"The layout of the create/edit/view pages"},detailPageMode:{type:String,description:"the way the detail page shows when you open an item from the list",values:["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"],validator:e=>!e||["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"].includes(e)},detailPageLayout:{type:Array,default:void 0,note:"Defines the layout of the detail page"},crudNeedsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the table list should be refreshed"},needsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the component should be refreshed"},nestedSchemas:{type:Array,required:!1,default:()=>[],note:"@deprecated, use `nestedModels`"},nestedModels:{type:Array,required:!1,default:()=>[],note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},nestedDisplayMode:{type:String,required:!1,values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.\n        'You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,description:"The identity of the parent"},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},translations:{type:Object,required:!1,default:()=>({AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel"}}}),note:"Translation labels to use when vue-i18n is not present"},options:{type:Object,default:()=>({})},listOptions:{type:Object,default:()=>N},kanbanOptions:{type:Object,default:()=>({})},actions:{type:Object,default:()=>v["a"],note:"actions active in this instance"},customTopRightActions:{type:Array,default:()=>[],note:"custom action in top right of awCrud"},customInlineActions:{type:Array,default:()=>[],note:"custom action in footer and in awTable row"},customBulkActions:{type:Array,default:()=>[],note:"custom action for bulk"},customTableTopActions:{type:Array,default:()=>[],note:"custom table top actions"},customFormTopActions:{type:Array,default:()=>[],note:"custom top action to display inside view and edit forms"},customTitleBarActions:{type:Array,default:()=>[],note:"custom top action to display inside the title header bar on the right"},savePaginationState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},saveColumnsState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},tableRowClickAction:{type:String,default:"view",values:["view","edit","none","delete"],description:"The action to execute when the user clicks on a row"},tableRowDoubleClickAction:{type:String,default:"none",values:["view","edit","none","delete"],description:"The action to execute when the user double clicks on a row"},awFormDisplayHeader:{type:Boolean,default:!0,description:"Whether we should display the header (title) of awesomeform or not"},tableDataLimit:{type:Number,default:1e3,description:"Define the number of items to get from the api for the table. This prevents overloading the table with too much data"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},scrollEventTarget:{type:String,title:"The selector to use for registering scroll events",description:"This prop is used for registering the scroll event (needed for sticky forms)"},enabledListingModes:{type:Array,default:()=>["table","kanban","list"],description:"The listing modes that are enabled for this component"},postCreateDisplayMode:{type:String,values:["listing","edit","view"],validator:e=>["list","edit","view"].includes(e),description:"The location to redirect after a successful create",default:"list"},postEditDisplayMode:{type:String,values:["listing","edit","view"],validator:e=>["list","edit","view"].includes(e),description:"The location to redirect after a successful edit",default:"view"},dataPaginationMode:{type:String,values:["remote","local"],validator:e=>["remote","local"].includes(e),description:"How do we paginate the data",default:"remote"}},data(){return{parentPath:"",selectedItem:{},selectedItems:[],previousDisplayMode:"",listingDisplayMode:"table",displayMode:"",isRefreshing:!1,tableNeedsRefresh:!1,awesomeEditNeedsRefresh:!1,statsNeedsRefresh:!1,nestedCrudNeedsRefresh:!1,internalOptions:{},innerNestedSchemas:[],activeNestedTab:"general",formOptions:{validateAsync:!1,validateAfterLoad:!1,validateAfterChanged:!0,fieldIdPrefix:"AwesomeCrud"},supportedListingDisplayModes:["table","list","kanban"],editLayoutMode:!1,itemsList:[],isSideformSticky:!1,scrollTarget:null,awFormWidth:null,previousModelIdentity:null}},computed:{_title(){return this._model&&this._model.pageTitle?this.$te(this._model.pageTitle)?this.$t(this._model.pageTitle):this._model.pageTitle:!1!==this.title&&(this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):o.a.startCase(this._model.singularName):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):"")},_listingComponentTitle(){if(!1===this.title)return!1;const e=this.title||this._model&&this._model.title;return e?this.$te(e)?this.$t(e):e:this.$t("AwesomeCrud.labels.manageTitle")+" "+this._namePlural},_name(){return this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):this._model.name:this.name?this.$te(this.name)?this.$t(this.name):this.name:this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):""},_namePlural(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):o.a.startCase(this._model.namePlural):this.namePlural?this.$te(this.namePlural)?this.$t(this.namePlural):o.a.startCase(this.namePlural):this.identity?this.$te("app.labels."+this.identity)?this.$t("app.labels."+this.identity):o.a.startCase(this.identity):""},_model(){return this.model||this.getModelFromStore(this.identity)},schemaComputed(){return this.schema||this._model&&this._model.schema},formSchema(){if(!this.schemaComputed)return[];const e=this.parseSchema(this.schemaComputed);return e},listFieldsComputed(){const e=this.allColumnsComputed;let t=[];return this.listOptions&&Array.isArray(this.listOptions.fields)?(this.listOptions.fields.forEach(i=>{t.push(o.a.filter(e,["field",i]))}),t=o.a.flatten(t),t):e},kanbanFieldsComputed(){const e=this.allColumnsComputed;let t=[];return this._kanbanOptions&&Array.isArray(this._kanbanOptions.fields)?(this._kanbanOptions.fields.forEach(i=>{t.push(o.a.filter(e,["field",i]))}),t=o.a.flatten(t),t):e},allColumnsComputed(){if(!this.schemaComputed)return[];const e=this.parseColumns(this.schemaComputed.properties,{includeHidden:!0});return e?o.a.sortBy(e,["field","order"]):[]},tableColumnsComputed(){return this.schemaComputed?this.parseColumns(this.schemaComputed.properties):[]},_layout(){return this.detailPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.layout},_createFormLayout(){return this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},_editFormLayout(){return this.model&&this.model.formOptions&&this.model.editLayout||this._layout},createPageLayoutComputed(){return this.createPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},viewPageLayoutComputed(){return this.viewPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.viewPageLayout||this._layout},editPageLayoutComputed(){return this.editPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.editPageLayout||this._layout},_actions(){const e=o.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(e).forEach(([t,i])=>{"boolean"!==typeof i&&(e[t]=this.templateParseConditionalField(i))}),e},_actionsBeforeCalculation(){return o.a.merge({},v["a"],this.actions||this.mergedOptions&&this.mergedOptions.actions)},_customFormTopActions(){return o.a.merge([],this.customFormTopActions.length&&this.customFormTopActions||this.mergedOptions&&this.mergedOptions.customFormTopActions)},_customInlineActions(){return o.a.merge([],this.customInlineActions.length&&this.customInlineActions||this.mergedOptions&&this.mergedOptions.customInlineActions)},_customTopRightActions(){return o.a.merge([],this.customTopRightActions.length&&this.customTopRightActions||this.mergedOptions&&this.mergedOptions.customTopRightActions)},_customTableTopActions(){return o.a.merge([],this.customTableTopActions.length&&this.customTableTopActions||this.mergedOptions&&this.mergedOptions.customTableTopActions)},_customTitleBarActions(){return o.a.merge([],this.customTitleBarActions.length&&this.customTitleBarActions)},_customBulkActions(){return o.a.merge([],this.customBulkActions.length&&this.customBulkActions||this.mergedOptions&&this.mergedOptions.customBulkActions)},_displayModeHasPartialDisplay(){return["modal","sidebar","sidebar-left","sidebar-right","fade","slide","sideform","bottomform"].indexOf(this._detailPageMode)>-1},_kanbanOptions(){const e=o.a.merge({},v["b"],this._model&&this._model.kanbanOptions,this.kanbanOptions);if(e.splittingField&&(!e.splittingValues||!e.splittingValues.length)&&this.tableColumnsComputed){const t=this.tableColumnsComputed.find(e=>e.field===this.segmentField);t&&t.enum&&(e.splittingValues=t.enum)}return e.titleField||e.fields&&e.fields.length||(this.displayField?e.titleField=this.displayField:this._model&&this._model.displayField&&(e.titleField=this._model.displayField)),e.splittingField||(e.splittingField=this.segmentField),e},canShowCreateButton(){return this._actions.create&&!(["view","edit","create"].indexOf(this.displayMode)>-1&&"page"===this._detailPageMode)},showEditFormComputed(){return this.identity&&("edit"===this.displayMode||"create"===this.displayMode||"bulkEdit"===this.displayMode||"bottomform"===this._detailPageMode)},showViewFormComputed(){return this.identity&&"view"===this.displayMode},showItemsListSectionComputed(){return this.supportedListingDisplayModes.indexOf(this.displayMode)>-1||"page"!==this._detailPageMode},currentItemIndex(){return this.itemsList&&this.selectedItem&&o.a.findIndex(this.itemsList,e=>e[this.primaryKeyFieldCpt]==this.selectedItem[this.primaryKeyFieldCpt])},hasPrevious(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex-1]},hasNext(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex+1]},dataPaginationModeComputed(){return this.dataPaginationMode||this.mergedOptions.dataPaginationMode||this.mergedOptions.mode},segmentFieldDefinitionComputed(){if(!this.segmentField)return"";let e;return this.formSchema&&this.formSchema.fields&&(e=this.formSchema.fields.find(e=>e.model===this.segmentField),e)||this.tableColumnsComputed&&(e=this.tableColumnsComputed.find(e=>e.field===this.segmentField),e)?e:""},segmentFieldPossibleValues(){const e=this.segmentFieldDefinitionComputed;if(!e)return[];const t=e.fieldOptions&&(e.fieldOptions.filterDropdownItems||e.fieldOptions.values||e.fieldOptions.options)||e.enum;return Array.isArray(t)?t:[]},showStatsSectionComputed(){return this.showItemsListSectionComputed&&this.mergedOptions.stats},isDetailPageModeCpt(){return"create"===this.displayMode||"view"===this.displayMode||"edit"===this.displayMode},displaySideFormContent(){return"sideform"===this._detailPageMode&&this.isDetailPageModeCpt},displayBottomFormContent(){return"bottomform"===this._detailPageMode},_detailPageMode(){return this.detailPageMode||this.mergedOptions.detailPageMode},detailPageModeCpt(){return"sideform"===this._detailPageMode||"bottomform"===this._detailPageMode?"page":this._detailPageMode},shouldShowCreateButtonCpt(){return this.canShowCreateButton&&!this._isANestedDetailView&&(this.supportedListingDisplayModes.includes(this.displayMode)||this._displayModeHasPartialDisplay&&"table"===this.mergedOptions.initialDisplayMode)},mergedOptions:{get(){let e=o.a.merge({},M,this._model&&this._model.options,this.options,this.internalOptions);return this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=o.a.merge(this.internalOptions.queryParams,{filters:this.$route.query.filters},{fields:this.$route.query.fields})),e},set(e){this.internalOptions=e}},_splittingValuesComputed(){return this._kanbanOptions.splittingValues&&this._kanbanOptions.splittingValues.length?this._kanbanOptions.splittingValues:this.segmentFieldPossibleValues},importButtonConfig(){return{upload:!0,targetUrl:this._url+"/import",method:"POST",headers:{},base64:!1,label:this.$t("AwesomeCrud.buttons.import"),class:"btn btn-sm btn-main-style btn btn-simple text-success  btn-block"}}},watch:{identity:"loadModel",model:"loadModel","parent.id":"loadModel",crudNeedsRefresh:"refreshComponent",needsRefresh:"refreshComponent","$route.params.id":"onRouteIdChanged",displayMode:"onDisplayModeChanged",listingDisplayMode:"onlistingDisplayModeChanged"},created(){this.setDisplayMode=o.a.debounce(this.setDisplayModeFresh,500,{leading:!0})},mounted(){if(!this.identity)throw new Error("missing_required_props_identity");this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.enabledListingModes&&this.enabledListingModes.length&&!this.enabledListingModes.includes(this.mergedOptions.initialDisplayMode)&&(console.warn("Intitial display mode is not in the list of enabled modes",this.mergedOptions.initialDisplayMode),this.mergedOptions.initialDisplayMode=this.enabledListingModes[0]),this.internalOptions=o.a.cloneDeep(this.mergedOptions),this.loadModel(),this.displayMode||(this.displayMode=this.mergedOptions.initialDisplayMode),this.listingDisplayMode=this.mergedOptions.initialDisplayMode,this.restoreComponentState(),this._isNested&&this.nestedDisplayMode&&(this.displayMode=this.nestedDisplayMode);const e=this.scrollEventTarget?document.querySelector(this.scrollEventTarget):window;e&&(this.scrollTarget=e,this.scrollTarget.addEventListener("scroll",this.handleScroll)),this.$route&&this.useRouterMode&&(this.parentPath=this.$route.path,this.parentPath=this.parentPath.replace("/view","").replace("/edit","").replace("/new","").replace("/:id",""),this.$forceUpdate(),this.initializeSelectedItem())},beforeRouteEnter(e,t,i){i(e=>{})},beforeRouteLeave(e,t,i){i(e=>{})},beforeRouteUpdate(e,t,i){this.useRouterMode&&t.params.id&&e.params.id,this.useRouterMode&&e.params.id&&this.loadModel(),i()},beforeDestroy(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh"),this.scrollTarget.removeEventListener("scroll",this.handleScroll)},methods:{$alert:w.a,refreshComponent(e,t){e&&!1!==e&&e!==t&&(this.identity&&this.identity!==this.previousModelIdentity&&(this.previousModelIdentity=this.identity,this.loadModel()),this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.awesomeEditNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,setTimeout(()=>{this.tableNeedsRefresh=!1,this.statsNeedsRefresh=!1,this.nestedCrudNeedsRefresh=!1,this.$emit("update:crudNeedsRefresh",!1),this.$emit("input:crudNeedsRefresh",!1),this.$emit("input:needs-refresh",!1)},100))},onTableRefresh(){this.statsNeedsRefresh=!0},callbackFunctionForBAse64(e){},importFailedResponse(e){w.a.fire({title:this.$t("common.messages.not_imported",{title:this._name}),type:"error",text:e.message||e})},importResponse(e){if(e.improperData&&0!==e.improperData.length||e.properData&&0!==e.properData.length){if(e.properData.length>0&&this.$awNotify({title:this.$t("common.messages.successfullyImported",{title:this._name}),type:"success"}),e.improperData.length>0){let t="";e.improperData.forEach(e=>{t+=` - ${Object.values(e).join(" | ")}, `}),t=t.substring(0,t.length-2),setTimeout(()=>{this.$awNotify({title:`${e.improperData.length} ${this.$t("common.messages.not_imported",{title:this._name})}`,message:t,type:"warning",timeout:3e4})},0)}this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}else w.a.fire({title:this.$t("common.messages.no_data_imported",{title:this._name}),type:"warning"})},exportTemplateCallBack(){this.mergedOptions.importUrl?this.$awApi.get(this.mergedOptions.importUrl+"-template",{}).then(e=>{if(e.data.url){const t=document.createElement("a");t.download=this.identity+"_export",t.href=e.data.url,t.click(),t.remove()}}).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export template url",type:"warning"})},loadModel(){if(this._model||this.schema){if(this.schemaComputed.properties&&(this.mergedOptions.columns=this.parseColumns(this.schemaComputed.properties)),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl=this._url+"/export"),this.mergedOptions.importUrl||(this.mergedOptions.importUrl=this._url+"/import"),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),this.parent&&(this.nestedCrudNeedsRefresh=!0),!this.parent||"view"!==this.nestedDisplayMode&&"edit"!==this.nestedDisplayMode&&"object"!==this.nestedDisplayMode||this.getNestedItem().then(()=>{"view"===this.nestedDisplayMode||this.nestedDisplayMode,"edit"===this.nestedDisplayMode&&this.$alert.fire({title:this.$t("Nested editing of object is not allowed yet...",{title:this.modelName}),type:"success"})}),this.restoreComponentState(),this._url&&this.useRouterMode&&this.$route&&this.$route.params){if(this.$route.path.endsWith("/create")||this.$route.path.endsWith("/new"))return delete this.$route.params.id,this.setDisplayMode("create"),void this.$forceUpdate();if(this.$route.params.id){const e=this.$route.matched[this.$route.matched.length-1];-1!==e.path.indexOf("/edit")?this.setDisplayMode("edit",{}):this.setDisplayMode("view",{}),this.$awApi.get(`${this._url}/${this.$route.params.id}`,{query:this.apiRequestPermanentQueryParams}).then(t=>{const i=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?o.a.get(t,this.apiResponseConfig.dataPath):t.data;-1!==e.path.indexOf("/edit")?this.setDisplayMode("edit",i):this.setDisplayMode("view",i),this.$forceUpdate()}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})}}}else console.warn("AWESOME CRUD ERROR",`model ${this.identity} not found`)},setDisplayMode(){},setDisplayModeFresh(e,t,i={refresh:!0}){if(e!==this.displayMode||t&&t!==this.selectedItem&&t[this.primaryKeyFieldCpt]!==this.selectedItem[this.primaryKeyFieldCpt]){if(["edit","view"].indexOf(e)>-1){this.$awEmit("aw-form-open");const{...e}=t;this.itemIndex=o.a.findIndex(this.itemList,e)}if(this.previousDisplayMode=this.displayMode||this.mergedOptions.initialDisplayMode,"view"===e&&"create"==this.previousDisplayMode&&(!t||!t[this.primaryKeyFieldCpt]))return console.warn("setDisplayMode = view: missing id",t,"redirecting to ",this.listingDisplayMode),this.setDisplayMode(this.listingDisplayMode,t,i);"bulkEdit"===e?(this.selectedItem={},this.selectedItems=t):(this.selectedItem=t,this.selectedItems=[]),this.displayMode=e,["table","list","kanban"].indexOf(e)>-1?(this.listingDisplayMode=e,this.tableNeedsRefresh=i.refresh,this.selectedItem={}):this.awesomeEditNeedsRefresh=i.refresh}else console.warn("warning duplicate setDisplayMode called")},goToCreatePage(e={reset:!0,editLayoutMode:!1}){if(this.mergedOptions.createPath)return this.mergedOptions.createPath.includes("{{")&&this.mergedOptions.createPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.createPath)):this.$router.push(this.mergedOptions.createPath);e.reset&&(this.selectedItem=Object(T["createDefaultObject"])(this.formSchema)),e.editLayoutMode&&(this.editLayoutMode=e.editLayoutMode),this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.setDisplayMode("create",this.selectedItem),this.useRouterMode&&!e.reset&&this.$router.push(`${this.parentPath}/new?${r.a.stringify(this.$route.query)}`)},goToBulkEditPage(e,t={reset:!0}){if(this.mergedOptions.bulkEditPath)return this.$router.push(this.mergedOptions.bulkEditPath);this.setDisplayMode("bulkEdit",e)},goToDeletePage(e){if(this.mergedOptions.createPath)return this.$router.push(this.mergedOptions.deletePath.replace(":id",e[this.primaryKeyFieldCpt]).replace("{{id}}",e[this.primaryKeyFieldCpt]));this.deleteFunction(e)},goToBulkDeletePage(e){this.bulkDeleteFunction(e)},goToEditPage(e,t){if(this.mergedOptions.editPath)return this.mergedOptions.editPath.includes(":id")&&e&&e[this.primaryKeyFieldCpt]?this.$router.push(this.mergedOptions.editPath.replace(":id",e[this.primaryKeyFieldCpt])):this.mergedOptions.editPath.includes("{{")&&this.mergedOptions.editPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.editPath,e)):this.$router.push(this.mergedOptions.editPath);const i=`${this.parentPath}/${e[this.primaryKeyFieldCpt]}/edit`;this.useRouterMode&&this.$route.path!==i&&(t&&(t.metaKey||t.ctrlKey)?window.open(i,"_blank"):this.$router.push(i)),this.setDisplayMode("edit",e,t)},goToViewPage(e,t){if(!e)return;if(!this.useRouterMode)return void this.setDisplayMode("view",e);let i=this.getViewPageUrl(e,t);i&&t&&(t.metaKey||t.ctrlKey)?window.open(i,"_blank"):(this.setDisplayMode("view",e),this.$route.path!==i?this.$router.push(i):console.warn("Duplicate goToViewPage called"))},getViewPageUrl(e,t){if(!e)return"";if(this._actions&&!this._actions.view)return"";let i="";return this.mergedOptions.viewPath?(i=this.mergedOptions.viewPath,this.mergedOptions.viewPath.includes(":id")&&e&&e[this.primaryKeyFieldCpt]&&(i=i.replace(":id",e[this.primaryKeyFieldCpt])),i.includes("{{")&&i.includes("}}")&&(i=this.parseUrl(i,e)),i):(i=`${this.parentPath.replace(":id","")}/${e[this.primaryKeyFieldCpt]}`,this.useRouterMode&&this.$route.path!==i?i:void 0)},nestedViewFunction(){this.displayMode="view",this.$awApi.get(""+this._url).then(e=>{this.selectedItem=this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?o.a.get(e,this.apiResponseConfig.dataPath):e.data,this.nestedCrudNeedsRefresh=!0}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},bulkEditFunction(e){this.$awApi.put(`${this._url}/${e[this.primaryKeyFieldCpt]}`,e).then(e=>{this.$emit(this.identity+"-item-updated",e.data),this.$awNotify({title:this.$t("AwesomeDefault.messages.successfullyModified",{title:this.type}),type:"success"}),this.tableNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},bulkDeleteFunction(e){w.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then(t=>{t.value&&e.forEach(e=>{this.selectedItem=e,this.$awApi.delete(""+this._selectedItemUrl).then(()=>{this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}).catch(e=>{console.error(e)}).finally(()=>{this.isRefreshing=!1})})}).finally(()=>this.selectedItem=null)},deleteFunction(e){this.selectedItem=e,w.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then(e=>{e.value&&this.$awApi.delete(""+this._selectedItemUrl).then(()=>{this.selectedItem=null,this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.useRouterMode&&this.$router.replace(this.parentPath+"?ts");const e=this.getPreviousDisplayMode();this.setDisplayMode(e),this.$forceUpdate()}).catch(e=>{console.error(e)}).finally(()=>{this.isRefreshing=!1})}).finally(()=>this.selectedItem=null)},onCustomBulkAction(e){const{action:t}=e;return this.$emit(this.identity+"-custom-bulk-action",t),t&&t.action&&t.action(e,this)},onCustomListAction(e){const{action:t}=e;return this.$emit(this.identity+"-custom-list-action",t),t&&t.action&&t.action(e,this)},onRemoveList(e){},onListChanged(e){},onCardChanged(e,t){},onCardAdded({element:e,newIndex:t},i){},onCardClicked(e,t){this.$emit("on-kanban-item-clicked",e,t),this.getViewPageUrl&&this.getViewPageUrl(e)||this.listItemClickedHandler(e,t)},onEditDisplayCancelled(e,{context:t}){const i=this.getPreviousDisplayMode(t);if(this.useRouterMode)if("view"===i&&e&&e[this.primaryKeyFieldCpt])this.goToViewPage(e);else if("edit"===i&&e&&e[this.primaryKeyFieldCpt])this.goToEditPage(e);else{let t=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace(""+(e?e[this.primaryKeyFieldCpt]:""),"");this.$router.push(t)}this.setDisplayMode(i,e,{refresh:!1})},onViewDisplayCancelled(e){if(this.useRouterMode){let t=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace(""+(e?e[this.primaryKeyFieldCpt]:""),"");this.$router.push(t)}const t=this.previousDisplayMode&&"edit"!==this.previousDisplayMode&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;this.setDisplayMode(t,e,{refresh:!1})},onItemsBulkEdited(e){this.bulkEditFunction(e)},onItemCreated(e){this.$awEmit("aw-table-needs-refresh")},onItemEdited(...e){this.$awEmit("aw-table-needs-refresh")},onItemDeleted(...e){},onItemViewed(...e){},onItemValidated(...e){},onItemValidationFailed(...e){},onListUpdated(e){this.$emit("list-updated",e),this.$emit(this.identity+"-list-updated",e)},onTableRowClicked(e,t){const{column:i,row:s,event:a}=e;i&&(["url","relation","ACTIONS"].indexOf(i.type)>-1||"__ACTIONS"===i.field)||(this.$emit("on-table-row-clicked",s,a||t),this.listItemClickedHandler(s,a||t))},onTableRowDoubleClicked(e,t){const{column:i,row:s,event:a}=e;i&&(["url","relation","ACTIONS"].indexOf(i.type)>-1||"__ACTIONS"===i.field)||(this.$emit("on-table-row-double-clicked",s),this.listItemDoubleClickedHandler(s,a||t))},onDataChanged(e){this.itemsList=e.data},updateAutoRefresh(e){this.mergedOptions.autoRefresh=e},onListItemClicked(e,t){this.$emit("on-list-item-clicked",e),this.listItemClickedHandler(e,t)},confirm(e){return console.warn("confirm method is @deprecated => use $awConfirm"),this.$awConfirm(e)},onLayoutUpdated(e){this.$emit("layout-updated",e)},onLayoutFieldsUpdated(e){this.$emit("layout-fields-updated",e)},onOpenEditLayoutMode(){this.editLayoutMode=!0},onCloseEditLayoutMode(){this.editLayoutMode=!1},selectPreviousItem(){this.hasPrevious&&this.itemsList[this.currentItemIndex-1]&&(this.selectedItem=this.itemsList[this.currentItemIndex-1],this.useRouterMode&&this.$router.push(`${this.parentPath}/${this.selectedItem[this.primaryKeyFieldCpt]}`))},selectNextItem(){this.hasNext&&this.itemsList[this.currentItemIndex+1]&&(this.selectedItem=this.itemsList[this.currentItemIndex+1],this.useRouterMode&&this.$router.push(`${this.parentPath}/${this.selectedItem[this.primaryKeyFieldCpt]}`))},onCustomAction(e){const{action:t}=e;if(this.$emit(this.identity+"-custom-action",t),t)if(t.actionApiUrl){let i=this.templateParseUrl(t.actionApiUrl,e);this.$awApi.put(i,e).then(e=>{this.tableNeedsRefresh=!0}).catch(this.apiErrorCallback)}else t.action&&"function"===typeof t.action&&t.action(e,this)},getNestedItem(){return this.$awApi.get(""+this._url).then(e=>{this.selectedItem=this.responseField&&0!=this.responseField?o.a.get(e.data,this.responseField):e.data}).catch(this.apiErrorCallback).finally(()=>{this.isRefreshing=!1})},listItemClickedHandler(e,t){switch(this.tableRowClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e,t);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e,t);break;case"none":default:break}},listItemDoubleClickedHandler(e,t){switch(this.tableRowDoubleClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e,t);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e,t);break;case"none":break;default:this.listItemClickedHandler(e,t);break}},onRouteIdChanged(e,t){this.useRouterMode&&e&&t&&t!==e&&this.setDisplayMode(this.displayMode,{[this.primaryKeyFieldCpt]:this.$route.params.id})},initializeSelectedItem(){this.$route.params.id&&(this.parentPath=this.parentPath.replace("/"+this.$route.params.id,"").replace("/:id",""),this.$route.params.id&&(this.$route.path.endsWith("/create")||this.$route.path.endsWith("/new"))?(delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.goToCreatePage({reset:!1}),this.parentPath=this.parentPath.replace("/edit","").replace("/"+this.$route.params.id,"").replace("/:id","")):(this.selectedItem={[this.primaryKeyFieldCpt]:this.$route.params.id},this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item))))},onSegmentChange(){},handleScroll(e){if("sideform"!==this._detailPageMode||!this.scrollTarget)return;const t=this.scrollTarget.querySelector(".aw-form");this.scrollTarget&&this.scrollTarget.scrollTop>80?(this.awFormWidth=t.offsetWidth,this.isSideformSticky=!0,t&&(t.style=`width: ${this.awFormWidth}px; text-align:right; float: right`)):(this.isSideformSticky=!1,t&&(t.style=""))},onDisplayModeChanged(e,t){if(e!==t&&this.supportedListingDisplayModes.includes(e)){if(this.enabledListingModes&&!this.enabledListingModes.includes(e))return void(this.enabledListingModes[0]&&(this.listingDisplayMode=this.enabledListingModes[0]));this.listingDisplayMode=e}},onlistingDisplayModeChanged(e,t){e!==t&&(this.displayMode=e,this.saveComponentState())},getPreviousDisplayMode(e){const t=this.previousDisplayMode&&this.previousDisplayMode!==e&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;return"create"===e&&this.postCreateDisplayMode&&("listing"==this.postCreateDisplayMode||void 0===this._actions[this.postCreateDisplayMode]||this._actions[this.postCreateDisplayMode])?"list"===this.postCreateDisplayMode||"listing"===this.postCreateDisplayMode?t:this.postCreateDisplayMode:"edit"===e&&this.postEditDisplayMode&&("listing"==this.postCreateDisplayMode||void 0===this._actions[this.postEditDisplayMode]||this._actions[this.postEditDisplayMode])?"list"===this.postCreateDisplayMode||"listing"===this.postCreateDisplayMode?t:this.postEditDisplayMode:t},afterRefresh(...e){this.$emit("afterRefresh",...e)},after_refresh(...e){this.$emit("after-refresh",...e)},beforeRefresh(...e){this.$emit("beforeRefresh",...e)},before_refresh(...e){this.$emit("before-refresh",...e)},beforeCreate(...e){this.$emit("beforeCreate",...e)},async onListReordered(e){if(this.listOptions&&this.listOptions.sortField&&e){const t=e.map((e,t)=>{const i=this._url.split("?");return i[0]=`${i[0]}/${e[this.primaryKey]}`,this.$awApi.put(i.join("?"),{...e,[this.listOptions.sortField]:t+1})});await Promise.all(t)}this.$emit("reorder",e)},onModelUpdated(e,t){this.$emit("modelUpdated",e,t)}}},E=j,B=(i("e666"),Object(R["a"])(E,s,a,!1,null,null,null));t["a"]=B.exports},bf71:function(e,t,i){"use strict";var s=i("900f"),a=i.n(s);a.a},bf7a:function(e,t,i){},c08b:function(e,t,i){"use strict";var s=i("a8fa"),a=i.n(s);a.a},c290:function(e,t,i){},c2e9:function(e,t,i){"use strict";var s=i("fab7"),a=i.n(s);a.a},c5e1:function(e,t){e.exports=jquery},c6ce:function(e,t,i){"use strict";t["a"]={mixins:[],props:{savePaginationState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation page, perPage"},saveColumnsState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation (columns, sort etc"}},data(){return{}},computed:{isSaveStateEnabledCpt(){return this.saveColumnsState||this.savePaginationState},_saveStateKey(){return`${this.identity}-${this.$options.name}-${window.location.pathname}-state`}},watch:{},beforeDestroy(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh",this.refreshLocalData)},methods:{saveComponentState(){if(this.isSaveStateEnabledCpt&&this.identity&&window.localStorage)try{const e={...this.columnsState};delete e.__ACTIONS,localStorage.setItem(this._saveStateKey,JSON.stringify({routeQueryParams:this.savePaginationState?{...this.routeQueryParams,filters:void 0}:void 0,columnsState:this.saveColumnsState?e:void 0,columnsFilterState:this.saveColumnsState?this.columnsFilterState:void 0,columnFilters:this.saveColumnsState?this.columnFilters:void 0,advancedFilters:this.saveColumnsState?this.advancedFilters:void 0,listingDisplayMode:this.listingDisplayMode}))}catch(e){console.warn("saveComponentState",e.message)}},async restoreComponentState(){if(this.isSaveStateEnabledCpt&&this.identity&&window.localStorage)try{let e=await localStorage.getItem(this._saveStateKey);e&&(e=JSON.parse(e),this.savePaginationState&&(this.routeQueryParams=e.routeQueryParams),e.columnsState&&this.saveColumnsState&&(this.columnsState=e.columnsState),e.columnsFilterState&&this.saveColumnsState&&(this.columnsFilterState=e.columnsFilterState),e.listingDisplayMode&&this.listingDisplayMode&&(this.listingDisplayMode=e.listingDisplayMode))}catch(e){console.warn(e.message)}},clearComponentState(){try{window.localStorage&&localStorage.removeItem(this._saveStateKey)}catch(e){console.warn(e)}}}}},cae3:function(e,t,i){"use strict";t["a"]={methods:{formatComponentName(e=!1){const t=this;if(t.$root===t)return"root instance";var i=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(i||"anonymous component")+(t._isVue&&t.$options.__file&&e?" at "+t.$options.__file:"")},$awEmit(e,...t){this.$emit(e,...t,{source:this.formatComponentName(),context:this,item:Object.assign({},{...this.selectedItem}),identity:this.identity,parent:this.parent}),this.$awEventBus&&this.$awEventBus.$emit(e,...t,{source:this.formatComponentName(),context:this,item:Object.assign({},{...this.selectedItem}),identity:this.identity,parent:this.parent})}}}},ccb7:function(e,t,i){},ccdd:function(e,t,i){},cebe:function(e,t){e.exports=axios},d2aa:function(e,t,i){"use strict";var s=i("5017"),a=i.n(s);a.a},d2cf:function(e,t,i){"use strict";var s=i("60bb"),a=i("3ac4");t["a"]={mxixins:[a["a"]],methods:{getFormtype(e){let{type:t}=e;if(Array.isArray(t)){const i=["string","number","boolean"];for(let s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s])}if(e.enum)return"select";if(e.relation||e.relationUrl)return"VSelect";switch(t){case"string":return"input";case"integer":case"number":return"input";case"boolean":return"select";case"array":return e.items&&"string"===e.items.type?"vSelect":"VSelect";default:return"input"}},getFormInputType(e){let{type:t}=e;if(Array.isArray(t)){const i=["string","number","boolean"];for(let s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s])}switch(t){case"string":switch(e.format){case"email":return"email";case"date-time":case"datetime":return"date-time";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return t}},getColumnType(e){if(e.column&&e.column.type)return e.column.type;if(e.columnType)return e.columnType;let{type:t}=e;if(Array.isArray(t)){const i=["string","number","boolean","array"];for(let s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s])}if(e.relation)return"relation";switch(t){case"string":switch(e.format){case"date-time":return"text";default:return"text"}case"number":case"integer":return"number";case"boolean":return"boolean";case"array":case"object":return"object";default:return"text"}},getSelectEnumFromStore(e){const t=Object(s["isString"])(e)&&0===e.indexOf("$store")?Object(s["get"])(this.$store.state,e.replace("$store.","")):e;return t},transformStateBooleans(e){["visible","required","readonly","disabled"].forEach(t=>{e[t]&&Object(s["isString"])(e[t])&&(e[t]=this.templateParseBoolean(e[t]))})},transformStateFunctions(e){["visible","required","readonly","disabled","value"].forEach(t=>{Object(s["isFunction"])(e[t])&&(e[t]=this.templateParseFunc(e[t]))})},transformStateValue(e,t){["value","default"].forEach(i=>{if(e[i]&&"string"===typeof e[i]&&e[i].includes("{{"))switch(e[i]=this.templateParseText(e[i]),t){case"integer":e[i]=parseInt(e[i],10);break;case"number":e[i]=parseFloat(e[i]);break;case"date":e[i]=new Date(e[i]);break}})},parseSchema(e,t=""){if(!e.properties)return{title:e.title,default:{}};if(t&&e.$schema)return;const i=[],a=Object.keys(e.properties).length;return Object.keys(e.properties).forEach(n=>{const o=e.properties[n];if(Array.isArray(o.type)){const e=o.type.indexOf("null");e>-1&&o.type.splice(e,1),o.type=o.type[0]}if(o.field||(o.field={}),o.field.hidden)console.warn("hidden is @deprecated, please use visible: false",n);else if(0!=o.field.visible&&0!=o.field.visible)if("object"!==o.type||o.field.type){const e=this.getRelationUrl(o),l=this.getRelationKey(o),r=this.getRelationLabel(o),d=Object(s["merge"])({},{url:e||o.relationUrl||o.relation,trackBy:l||o.foreignKey||"id",label:r||"label",name:r||"label",step:o.field.step,readonly:"view"===this.displayMode||o.field.readonly,disabled:"view"===this.displayMode||o.field.disabled,relation:o.relation,foreignKey:l,relationKey:l,relationLabel:r,relationUrl:e},{...o.field.fieldOptions});o.relation&&(d.url=d.url||e||o.relationUrl||o.relation,d.trackBy=l||o.foreignKey,d.searchable=!0);const c=this.getFieldClasses(o,a),u=d.values||this.getSelectEnumFromStore(d.enum)||o.field&&o.field.options||o.items&&o.items.enum||o.enum,p={type:o.field.type||this.getFormtype(o),label:o.title||o.description||Object(s["startCase"])(n),placeholder:o.placeholder,values:u,hint:o.description,model:t+n,min:o.min,max:o.max,multiple:o.field.multiple||"array"===o.type,multi:o.field.multi||"array"===o.type,styleClasses:c,classes:c,innerClasses:"",labelClasses:"",relation:o.relation,foreignKey:l||o.foreignKey,relationUrl:e,relationKey:l,relationLabel:r,...o.field,readonly:"view"===this.displayMode||o.field.readonly,disabled:"view"===this.displayMode||o.field.disabled};d.inputType||(d.inputType=o.field.inputType||this.getFormInputType(o)||"text"),"boolean"!==o.type||"select"!==p.type&&"enyoSelect"!==p.type||p.values&&p.values.length||(p.values=[{id:!0,label:"Yes"},{id:!1,label:"No"},{id:"",label:"-"}]),"dateTime"!==p.type&&"date"!==p.type||(d.icons={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"}),"array"===p.type&&(p.itemsSchema=o.items),"date"===p.type&&(p.type="dateTime",d.timePicker=!1,d.datePicker=!0),"time"===p.type&&(p.type="input",d.inputType="time"),"datetime"===p.type&&(p.type="dateTime",d.timePicker=!0,d.datePicker=!0),"number"===p.type&&(d.step||"number"!==o.type||(d.step="0.00001")),"enyoSelect"!==p.type&&"vselect"!==p.type.toLowerCase()||d.options||(p.options=p.values),"vselect"===p.type.toLowerCase()&&d.store&&!d.options&&(d.options=Object(s["get"])(this.$store.state,d.store)),this.transformStateBooleans(p),this.transformStateFunctions(p),this.transformStateValue(p,o.type),p.required&&(p.validator||(p.validator=[]),"string"===typeof p.validator&&(p.validator=[p.validator]),p.required&&p.validator.push("required")),p.viewOptions&&!p.displayOptions&&(console.warn("@deprecated, please rename field.viewOptions into field.displayOptions"),p.viewOptions=p.displayOptions),p.displayOptions=o.field.displayOptions||{...o.column,hidden:void 0,visible:!0,type:this.getColumnType(o),classes:o.column&&o.column.classes,styles:o.column&&o.column.styles},p.displayOptions.relation=p.displayOptions.relation||o.relation,p.displayOptions.relationUrl=p.displayOptions.relationUrl||e,p.displayOptions.relationKey=p.displayOptions.relationKey||l,p.displayOptions.relationLabel=p.displayOptions.relationLabel||r,i.push({...p,fieldOptions:d})}else{const e=this.parseSchema(o,`${t}${n}.`);e.legend=o.title||Object(s["startCase"])(n),e.type="group",e.default={},e.id=n,e.cols=o.field&&o.field.cols,e.styleClasses="subgroup-auto  "+(o.field.styleClasses||""),i.push(e)}}),{fields:i}},parseColumns(e,t={includeHidden:!1}){const i=[];return Object.keys(e).forEach(a=>{let n={};const o=e[a];o.column||(o.column={}),void 0===o.column.visible&&(o.column.visible=!0),o.column&&void 0!==o.column.hidden&&(o.column.visible=!(!0===o.column.hidden||0===o.column.hidden)),(o.visible||o.column&&o.column.visible||t&&t.includeHidden)&&(n.field=a,n.type=this.getColumnType(o),n.label=Object(s["startCase"])(o.column&&o.column.title||o.title||a),n.filterOptions={enabled:!1},n.enum=o.column&&o.column.enum||o.enum,n.sortable=!o.column||void 0===o.column.sortable||o.column.sortable,n={...n,...o.column},o.relation&&(n.relation=o.relation,n.relationKey=this.getRelationKey(o),n.relationUrl=this.getRelationUrl(o),n.relationLabel=this.getRelationLabel(o)),i.push(n))}),i.find(e=>"__ACTIONS"===e.field)||i.push({field:"__ACTIONS",label:"Actions",type:"ACTIONS",filterable:!1,enabled:!1}),i},parseSchemaGroups(e){let t=[];return e.formGroups?(e.formGroups.forEach(e=>{t[e.id]||t.push({fields:[],...e,legend:this.$t(e.title),id:e.id,type:"group"})}),t.length<1&&(t=[{legend:"",fields:e.fields}]),t):{}},distributeFieldsInGroups(e,t){return t.forEach(t=>{if(t.group){const i=t.group.split(".");let a={groups:e};i.forEach(e=>{a=Object(s["find"])(a.groups,{id:e})}),a&&(a.fields||(a.fields=[]),a.fields.push(t))}}),e},getFieldClasses(e,t){let i=e.field.classes||e.field.styleClasses||"";if(e.field.cols)i=`${i} col-${e.field.cols||""}`;else{let e;e=this.layout||t>8||"sidebar"===this.detailPageMode?"col-6":"page"===this.detailPageMode?"col-md-3":"col-12",i=`${i} ${e||""}`}return i}}}},d43f:function(e,t,i){},d695:function(e,t,i){},d768:function(e,t,i){"use strict";var s=i("d695"),a=i.n(s);a.a},db65:function(e,t){e.exports=vue-loading-skeleton},ddbd:function(e,t){e.exports=vue-good-table},e0d4:function(e,t,i){"use strict";var s=i("398f"),a=i.n(s);a.a},e42f:function(e,t,i){"use strict";var s=i("c290"),a=i.n(s);a.a},e666:function(e,t,i){"use strict";var s=i("6051"),a=i.n(s);a.a},eab4:function(e,t,i){"use strict";var s=i("ec26");t["a"]={props:{uuid:{type:String,default:()=>Object(s["a"])(),description:"A unique id for identifying the component. If not provided as a prop, the id is autogenerated"}}}},ebc2:function(e,t,i){},f1e6:function(e,t,i){"use strict";var s=i("60bb"),a=i("5598");t["a"]={computed:{advancedFiltersCount(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated(){return a["a"].methods.parseFilter(this.advancedFilters,{dispatch:!1})}},methods:{advancedFiltering(e,t){this.updateParams({advancedFilters:Object(s["cloneDeep"])(t),parsedAdvancedFilters:Object(s["cloneDeep"])(e),page:0}),this.optionsComputed&&!this.optionsComputed.autoSearch||this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},permanentFiltering(e,t){this.updateParams({parsedAdvancedFilters:Object(s["cloneDeep"])(e),page:0,permanent:!0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("permanent-filter",{filters:e}),this.$awEmit("filter",{filters:this.serverParams.filters})}}}},f2a3:function(e,t){e.exports=vuejs-paginate},f45f:function(e,t,i){"use strict";var s=i("5bf5"),a=i.n(s);a.a},fab7:function(e,t,i){},fbbe:function(e,t,i){},fc4c:function(e,t,i){"use strict";var s=i("3b48"),a=i.n(s);a.a},fc75:function(e,t,i){"use strict";var s=i("ebc2"),a=i.n(s);a.a}});