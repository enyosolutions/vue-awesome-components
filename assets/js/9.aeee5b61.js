(window.webpackJsonp=window.webpackJsonp||[]).push([[9,3],{319:function(e,t,i){"use strict";i.r(t);i(171),i(24),i(310),i(386),i(97),i(170),i(169),i(173),i(69),i(70),i(307),i(316),i(10),i(355),i(43),i(345),i(172),i(26),i(71),i(312),i(98),i(29),i(100);var s=i(44),a=i(317),n=i(309),o=i(72),r=i(306),l=i.n(r),d=i(403),c=i.n(d),u=i(360),m=i(314),p=i(318),h=i(356),f=i(321),g=i(315),y=i(366),b=i(384),v=i(358),C=i(308),_=i(330),w=i(367),A=i.n(w),O=i(322),k=i(343),F=i(342),$=i(344),M=i(340),P=i(341),I={props:{value:{type:String,validator:function(e){return!e||["list","table","kanban"].includes(e)},values:["list","table","kanban"]},enabledModes:{type:Array,default:function(){return["list","table","kanban"]}}}},x=(i(392),i(42)),S=Object(x.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"btn-group aw-list-mode-selector"},[!e.enabledModes||e.enabledModes.includes("table")?i("button",{staticClass:"btn btn-link pl-0 pr-2 pv-2",attrs:{title:"table",type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","table")}}},[i("i",{staticClass:"fa fa-table",class:"table"===e.value?"text-primary":"text-default"})]):e._e(),e._v(" "),!e.enabledModes||e.enabledModes.includes("list")?i("button",{staticClass:"btn btn-link p-2",attrs:{title:"list",type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","list")}}},[i("i",{staticClass:"fa fa-list",class:"list"===e.value?"text-primary":"text-default"})]):e._e(),e._v(" "),!e.enabledModes||e.enabledModes.includes("kanban")?i("button",{staticClass:"btn btn-link p-2",attrs:{title:"kanban",type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","kanban")}}},[i("i",{staticClass:"fa fa-columns",class:"kanban"===e.value?"text-primary":"text-default"})]):e._e()])}),[],!1,null,"731d1c87",null).exports,R=i(347),D=(i(361),{mode:"local",dataPaginationMode:"local",defaultOptions:!0,url:null,columns:null,createPath:null,viewPath:null,editPath:null,queryParams:{},stats:!1,autoRefresh:!1,autoRefreshInterval:20,initialDisplayMode:"table",detailPageMode:"sidebar",detailPageLayout:null,columnsDisplayed:10}),L={displayedFields:[],imageField:"",titleField:"",subtitleField:"",descriptionField:""},T={name:"AwesomeCrud",introduction:"A component to quickly create a table UI with edit capabilities",description:"This component create tables and forms edit data based on a json schema.",components:{AwesomeTable:O.a,EnyoCrudStatsSection:k.a,AwesomeForm:F.default,AwesomeList:$.a,AwesomeKanban:M.a,AwesomeActionList:P.a,ListingModeSelector:S},mixins:[y.a,C.a,v.a,b.a,m.a,p.a,h.a,f.a,u.a,g.a],props:{title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},modelName:{type:String,required:!1,note:"Deprecated use identity"},identity:{type:String,required:!0,note:"Unique collection identifier"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},layout:{type:[Object,Array],required:!1,default:function(){return[]},note:"The layout of the create/edit/view pages"},detailPageMode:{type:String,description:"the way the detail page shows when you open an item from the list",values:["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"],validator:function(e){return!e||["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"].includes(e)}},detailPageLayout:{type:Array,default:void 0,note:"Defines the layout of the detail page"},crudNeedsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the table list should be refreshed"},needsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the component should be refreshed"},nestedSchemas:{type:Array,required:!1,default:function(){return[]},note:"@deprecated, use `nestedModels`"},nestedModels:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},nestedDisplayMode:{type:String,required:!1,values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.\n        'You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,description:"The identity of the parent"},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},translations:{type:Object,required:!1,default:function(){return{AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel"}}}},note:"Translation labels to use when vue-i18n is not present"},options:{type:Object,default:function(){return{}}},listOptions:{type:Object,default:function(){return L}},kanbanOptions:{type:Object,default:function(){return{}}},formOptions:{type:Object,default:function(){return{}}},actions:{type:Object,default:function(){return _.a},note:"actions active in this instance"},customTopRightActions:{type:Array,default:function(){return[]},note:"custom action in top right of awCrud"},customInlineActions:{type:Array,default:function(){return[]},note:"custom action in footer and in awTable row"},customBulkActions:{type:Array,default:function(){return[]},note:"custom action for bulk"},customTableTopActions:{type:Array,default:function(){return[]},note:"custom table top actions"},customFormTopActions:{type:Array,default:function(){return[]},note:"custom top action to display inside view and edit forms"},customTitleBarActions:{type:Array,default:function(){return[]},note:"custom top action to display inside the title header bar on the right"},savePaginationState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},saveColumnsState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},tableRowClickAction:{type:String,default:"view",values:["view","edit","none","delete"],description:"The action to execute when the user clicks on a row"},tableRowDoubleClickAction:{type:String,default:"none",values:["view","edit","none","delete"],description:"The action to execute when the user double clicks on a row"},awFormDisplayHeader:{type:Boolean,default:!0,description:"Whether we should display the header (title) of awesomeform or not"},tableDataLimit:{type:Number,default:1e3,description:"Define the number of items to get from the api for the table. This prevents overloading the table with too much data"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},scrollEventTarget:{type:String,title:"The selector to use for registering scroll events",description:"This prop is used for registering the scroll event (needed for sticky forms)"},enabledListingModes:{type:Array,default:function(){return["table","kanban","list"]},description:"The listing modes that are enabled for this component"},postCreateDisplayMode:{type:String,values:["listing","edit","view"],validator:function(e){return["list","edit","view"].includes(e)},description:"The location to redirect after a successful create",default:"list"},postEditDisplayMode:{type:String,values:["listing","edit","view"],validator:function(e){return["list","edit","view"].includes(e)},description:"The location to redirect after a successful edit",default:"view"},dataPaginationMode:{type:String,values:["remote","local"],validator:function(e){return["remote","local"].includes(e)},description:"How do we paginate the data",default:"remote"}},data:function(){return{parentPath:"",selectedItem:{},selectedItems:[],previousDisplayMode:"",listingDisplayMode:"table",displayMode:"",isRefreshing:!1,tableNeedsRefresh:!1,awesomeEditNeedsRefresh:!1,statsNeedsRefresh:!1,nestedCrudNeedsRefresh:!1,internalOptions:{},innerNestedSchemas:[],activeNestedTab:"general",supportedListingDisplayModes:["table","list","kanban"],editLayoutMode:!1,itemsList:[],isSideformSticky:!1,scrollTarget:null,awFormWidth:null,previousModelIdentity:null}},computed:{_title:function(){return this._model&&this._model.pageTitle?this.$te(this._model.pageTitle)?this.$t(this._model.pageTitle):this._model.pageTitle:!1!==this.title&&(this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):l.a.startCase(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):l.a.startCase(this.identity):"")},_listingComponentTitle:function(){if(!1===this.title)return!1;var e=this.title||this._model&&this._model.title;return e?this.$te(e)?this.$t(e):e:this.$t("AwesomeCrud.labels.manageTitle")+" "+this._namePlural},_name:function(){return this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):this._model.name:this.name?this.$te(this.name)?this.$t(this.name):this.name:this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):l.a.startCase(this.identity):""},_namePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):l.a.startCase(this._model.namePlural):this.namePlural?this.$te(this.namePlural)?this.$t(this.namePlural):l.a.startCase(this.namePlural):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):l.a.startCase(this.identity):""},_model:function(){return this.model||this.getModelFromStore(this.identity)},schemaComputed:function(){return this.schema||this._model&&this._model.schema},formSchema:function(){return this.schemaComputed?this.parseSchema(this.schemaComputed):[]},listFieldsComputed:function(){var e=this.allColumnsComputed,t=[];return this.listOptions&&Array.isArray(this.listOptions.fields)?(this.listOptions.fields.forEach((function(i){t.push(l.a.filter(e,["field",i]))})),t=l.a.flatten(t)):e},kanbanFieldsComputed:function(){var e=this.allColumnsComputed,t=[];return this._kanbanOptions&&Array.isArray(this._kanbanOptions.fields)?(this._kanbanOptions.fields.forEach((function(i){t.push(l.a.filter(e,["field",i]))})),t=l.a.flatten(t)):e},allColumnsComputed:function(){if(!this.schemaComputed)return[];var e=this.parseColumns(this.schemaComputed.properties,{includeHidden:!0});return e?l.a.sortBy(e,["field","order"]):[]},tableColumnsComputed:function(){return this.schemaComputed?this.parseColumns(this.schemaComputed.properties):[]},_layout:function(){return this.detailPageLayout||this._model&&this._model.formOptions&&this._model.formOptions.layout},_createFormLayout:function(){return this._model&&this._model.formOptions&&this._model.formOptions.createLayout||this._layout},_editFormLayout:function(){return this._model&&this._model.formOptions&&this.model.editLayout||this._layout},createPageLayoutComputed:function(){return this.createPageLayout||this._model&&this._model.formOptions&&this._model.formOptions.createLayout||this._layout},viewPageLayoutComputed:function(){return this.viewPageLayout||this._model&&this._model.formOptions&&this._model.formOptions.viewPageLayout||this._layout},editPageLayoutComputed:function(){return this.editPageLayout||this._model&&this._model.formOptions&&this._model.formOptions.editPageLayout||this._layout},_actions:function(){var e=this,t=l.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(t).forEach((function(i){var s=Object(o.a)(i,2),a=s[0],n=s[1];"boolean"!=typeof n&&(t[a]=e.templateParseConditionalField(n))})),t},_actionsBeforeCalculation:function(){return l.a.merge({},_.a,this.actions||this.mergedOptions&&this.mergedOptions.actions)},_customFormTopActions:function(){return l.a.merge([],this.customFormTopActions.length&&this.customFormTopActions||this.mergedOptions&&this.mergedOptions.customFormTopActions)},_customInlineActions:function(){return l.a.merge([],this.customInlineActions.length&&this.customInlineActions||this.mergedOptions&&this.mergedOptions.customInlineActions)},_customTopRightActions:function(){return l.a.merge([],this.customTopRightActions.length&&this.customTopRightActions||this.mergedOptions&&this.mergedOptions.customTopRightActions)},_customTableTopActions:function(){return l.a.merge([],this.customTableTopActions.length&&this.customTableTopActions||this.mergedOptions&&this.mergedOptions.customTableTopActions)},_customTitleBarActions:function(){return l.a.merge([],this.customTitleBarActions.length&&this.customTitleBarActions)},_customBulkActions:function(){return l.a.merge([],this.customBulkActions.length&&this.customBulkActions||this.mergedOptions&&this.mergedOptions.customBulkActions)},_displayModeHasPartialDisplay:function(){return["modal","sidebar","sidebar-left","sidebar-right","fade","slide","sideform","bottomform"].indexOf(this._detailPageMode)>-1},_kanbanOptions:function(){var e=this,t=l.a.merge({},_.b,this._model&&this._model.kanbanOptions,this.kanbanOptions);if(t.splittingField&&(!t.splittingValues||!t.splittingValues.length)&&this.tableColumnsComputed){var i=this.tableColumnsComputed.find((function(t){return t.field===e.segmentField}));i&&i.enum&&(t.splittingValues=i.enum)}return t.titleField||t.fields&&t.fields.length||(this.displayField?t.titleField=this.displayField:this._model&&this._model.displayField&&(t.titleField=this._model.displayField)),t.splittingField||(t.splittingField=this.segmentField),t},canShowCreateButton:function(){return this._actions.create&&!(["view","edit","create"].indexOf(this.displayMode)>-1&&"page"===this._detailPageMode)},showEditFormComputed:function(){return this.identity&&("edit"===this.displayMode||"create"===this.displayMode||"bulkEdit"===this.displayMode||"bottomform"===this._detailPageMode)},showViewFormComputed:function(){return this.identity&&"view"===this.displayMode},showItemsListSectionComputed:function(){return this.supportedListingDisplayModes.indexOf(this.displayMode)>-1||"page"!==this._detailPageMode},currentItemIndex:function(){var e=this;return this.itemsList&&this.selectedItem&&l.a.findIndex(this.itemsList,(function(t){return t[e.primaryKeyFieldCpt]==e.selectedItem[e.primaryKeyFieldCpt]}))},hasPrevious:function(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex-1]},hasNext:function(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex+1]},dataPaginationModeComputed:function(){return this.dataPaginationMode||this.mergedOptions.dataPaginationMode||this.mergedOptions.mode},segmentFieldDefinitionComputed:function(){var e,t=this;return this.segmentField&&(this.formSchema&&this.formSchema.fields&&(e=this.formSchema.fields.find((function(e){return e.model===t.segmentField})))||this.tableColumnsComputed&&(e=this.tableColumnsComputed.find((function(e){return e.field===t.segmentField}))))?e:""},segmentFieldPossibleValues:function(){var e=this.segmentFieldDefinitionComputed;if(!e)return[];var t=e.fieldOptions&&(e.fieldOptions.filterDropdownItems||e.fieldOptions.values||e.fieldOptions.options)||e.enum;return Array.isArray(t)?t:[]},showStatsSectionComputed:function(){return this.showItemsListSectionComputed&&this.mergedOptions.stats},isDetailPageModeCpt:function(){return"create"===this.displayMode||"view"===this.displayMode||"edit"===this.displayMode},displaySideFormContent:function(){return"sideform"===this._detailPageMode&&this.isDetailPageModeCpt},displayBottomFormContent:function(){return"bottomform"===this._detailPageMode},_detailPageMode:function(){return this.detailPageMode||this.mergedOptions.detailPageMode},detailPageModeCpt:function(){return"sideform"===this._detailPageMode||"bottomform"===this._detailPageMode?"page":this._detailPageMode},shouldShowCreateButtonCpt:function(){return this.canShowCreateButton&&!this._isANestedDetailView&&(this.supportedListingDisplayModes.includes(this.displayMode)||this._displayModeHasPartialDisplay&&"table"===this.mergedOptions.initialDisplayMode)},mergedOptions:{get:function(){var e=l.a.merge({},D,this._model&&this._model.options,this.options,this.internalOptions);return this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=l.a.merge(this.internalOptions.queryParams,{filters:this.$route.query.filters},{fields:this.$route.query.fields})),e},set:function(e){this.internalOptions=e}},_splittingValuesComputed:function(){return this._kanbanOptions.splittingValues&&this._kanbanOptions.splittingValues.length?this._kanbanOptions.splittingValues:this.segmentFieldPossibleValues},importButtonConfig:function(){return{upload:!0,targetUrl:"".concat(this._url,"/import"),method:"POST",headers:{},base64:!1,label:this.$t("AwesomeCrud.buttons.import"),class:"btn btn-sm btn-main-style btn btn-simple text-success  btn-block"}},formOptionsComputed:function(){return Object(n.a)(Object(n.a)({},this.$props),this.formOptions)}},watch:{identity:"loadModel",model:"loadModel","parent.id":"loadModel",crudNeedsRefresh:"refreshComponent",needsRefresh:"refreshComponent","$route.params.id":"onRouteIdChanged",displayMode:"onDisplayModeChanged",listingDisplayMode:"onlistingDisplayModeChanged"},created:function(){this.setDisplayMode=l.a.debounce(this.setDisplayModeFresh,500,{leading:!0})},mounted:function(){if(!this.identity)throw new Error("missing_required_props_identity");this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.enabledListingModes&&this.enabledListingModes.length&&!this.enabledListingModes.includes(this.mergedOptions.initialDisplayMode)&&(console.warn("Intitial display mode is not in the list of enabled modes",this.mergedOptions.initialDisplayMode),this.mergedOptions.initialDisplayMode=this.enabledListingModes[0]),this.internalOptions=l.a.cloneDeep(this.mergedOptions),this.loadModel(),this.displayMode||(this.displayMode=this.mergedOptions.initialDisplayMode),this.listingDisplayMode=this.mergedOptions.initialDisplayMode,this.restoreComponentState(),this._isNested&&this.nestedDisplayMode&&(this.displayMode=this.nestedDisplayMode);var e=this.scrollEventTarget?document.querySelector(this.scrollEventTarget):window;e&&(this.scrollTarget=e,this.scrollTarget.addEventListener("scroll",this.handleScroll)),this.$route&&this.useRouterMode&&(this.parentPath=this.$route.path,this.parentPath=this.parentPath.replace("/view","").replace("/edit","").replace("/new","").replace("/:id",""),this.$forceUpdate(),this.initializeSelectedItem())},beforeRouteEnter:function(e,t,i){i((function(e){}))},beforeRouteLeave:function(e,t,i){i((function(e){}))},beforeRouteUpdate:function(e,t,i){this.useRouterMode&&t.params.id&&e.params.id,this.useRouterMode&&e.params.id&&this.loadModel(),i()},beforeDestroy:function(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh"),this.scrollTarget.removeEventListener("scroll",this.handleScroll)},methods:{$alert:A.a,refreshComponent:function(e,t){var i=this;e&&!1!==e&&e!==t&&(this.identity&&this.identity!==this.previousModelIdentity&&(this.previousModelIdentity=this.identity,this.loadModel()),this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.awesomeEditNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,setTimeout((function(){i.tableNeedsRefresh=!1,i.statsNeedsRefresh=!1,i.nestedCrudNeedsRefresh=!1,i.$emit("update:crudNeedsRefresh",!1),i.$emit("input:crudNeedsRefresh",!1),i.$emit("input:needs-refresh",!1)}),100))},onTableRefresh:function(){this.statsNeedsRefresh=!0},callbackFunctionForBAse64:function(e){},importFailedResponse:function(e){A.a.fire({title:this.$t("common.messages.not_imported",{title:this._name}),type:"error",text:e.message||e})},importResponse:function(e){var t=this;if(e.improperData&&0!==e.improperData.length||e.properData&&0!==e.properData.length){if(e.properData.length>0&&this.$awNotify({title:this.$t("common.messages.successfullyImported",{title:this._name}),type:"success"}),e.improperData.length>0){var i="";e.improperData.forEach((function(e){i+=" - ".concat(Object.values(e).join(" | "),", ")})),i=i.substring(0,i.length-2),setTimeout((function(){t.$awNotify({title:"".concat(e.improperData.length," ").concat(t.$t("common.messages.not_imported",{title:t._name})),message:i,type:"warning",timeout:3e4})}),0)}this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}else A.a.fire({title:this.$t("common.messages.no_data_imported",{title:this._name}),type:"warning"})},exportTemplateCallBack:function(){var e=this;this.mergedOptions.importUrl?this.$awApi.get(this.mergedOptions.importUrl+"-template",{}).then((function(t){if(t.data.url){var i=document.createElement("a");i.download="".concat(e.identity,"_export"),i.href=t.data.url,i.click(),i.remove()}})).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export template url",type:"warning"})},loadModel:function(){var e=this;if(this._model||this.schema){if(this.schemaComputed.properties&&(this.mergedOptions.columns=this.parseColumns(this.schemaComputed.properties)),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl="".concat(this._url,"/export")),this.mergedOptions.importUrl||(this.mergedOptions.importUrl="".concat(this._url,"/import")),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),this.parent&&(this.nestedCrudNeedsRefresh=!0),!this.parent||"view"!==this.nestedDisplayMode&&"edit"!==this.nestedDisplayMode&&"object"!==this.nestedDisplayMode||this.getNestedItem().then((function(){"view"===e.nestedDisplayMode||e.nestedDisplayMode,"edit"===e.nestedDisplayMode&&e.$alert.fire({title:e.$t("Nested editing of object is not allowed yet...",{title:e.modelName}),type:"success"})})),this.restoreComponentState(),this._url&&this.useRouterMode&&this.$route&&this.$route.params){if(this.$route.path.endsWith("/create")||this.$route.path.endsWith("/new"))return delete this.$route.params.id,this.setDisplayMode("create"),void this.$forceUpdate();if(this.$route.params.id){var t=this.$route.matched[this.$route.matched.length-1];-1!==t.path.indexOf("/edit")?this.setDisplayMode("edit",{}):this.setDisplayMode("view",{}),this.$awApi.get("".concat(this._url,"/").concat(this.$route.params.id),{query:this.apiRequestPermanentQueryParams}).then((function(i){var s=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?l.a.get(i,e.apiResponseConfig.dataPath):i.data;-1!==t.path.indexOf("/edit")?e.setDisplayMode("edit",s):e.setDisplayMode("view",s),e.$forceUpdate()})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))}}}else console.warn("AWESOME CRUD ERROR","model ".concat(this.identity," not found"))},setDisplayMode:function(){},setDisplayModeFresh:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{refresh:!0};if(e!==this.displayMode||t&&t!==this.selectedItem&&t[this.primaryKeyFieldCpt]!==this.selectedItem[this.primaryKeyFieldCpt]){if(["edit","view"].indexOf(e)>-1){this.$awEmit("aw-form-open");var s=Object.assign({},t);this.itemIndex=l.a.findIndex(this.itemList,s)}if(this.previousDisplayMode=this.displayMode||this.mergedOptions.initialDisplayMode,!("view"!==e||"create"!=this.previousDisplayMode||t&&t[this.primaryKeyFieldCpt]))return console.warn("setDisplayMode = view: missing id",t,"redirecting to ",this.listingDisplayMode),this.setDisplayMode(this.listingDisplayMode,t,i);"bulkEdit"===e?(this.selectedItem={},this.selectedItems=t):(this.selectedItem=t,this.selectedItems=[]),this.displayMode=e,["table","list","kanban"].indexOf(e)>-1?(this.listingDisplayMode=e,this.tableNeedsRefresh=i.refresh,this.selectedItem={}):this.awesomeEditNeedsRefresh=i.refresh}else console.warn("warning duplicate setDisplayMode called")},goToCreatePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reset:!0,editLayoutMode:!1};if(this.mergedOptions.createPath)return this.mergedOptions.createPath.includes("{{")&&this.mergedOptions.createPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.createPath)):this.$router.push(this.mergedOptions.createPath);e.reset&&(this.selectedItem=Object(R.createDefaultObject)(this.formSchema)),e.editLayoutMode&&(this.editLayoutMode=e.editLayoutMode),this.$route.query.item&&(this.selectedItem=l.a.merge(this.selectedItem,this.$route.query.item)),this.setDisplayMode("create",this.selectedItem),this.useRouterMode&&!e.reset&&this.$router.push("".concat(this.parentPath,"/new?").concat(c.a.stringify(this.$route.query)))},goToBulkEditPage:function(e){if(this.mergedOptions.bulkEditPath)return this.$router.push(this.mergedOptions.bulkEditPath);this.setDisplayMode("bulkEdit",e)},goToDeletePage:function(e){if(this.mergedOptions.createPath)return this.$router.push(this.mergedOptions.deletePath.replace(":id",e[this.primaryKeyFieldCpt]).replace("{{id}}",e[this.primaryKeyFieldCpt]));this.deleteFunction(e)},goToBulkDeletePage:function(e){this.bulkDeleteFunction(e)},goToEditPage:function(e,t){if(this.mergedOptions.editPath)return this.mergedOptions.editPath.includes(":id")&&e&&e[this.primaryKeyFieldCpt]?this.$router.push(this.mergedOptions.editPath.replace(":id",e[this.primaryKeyFieldCpt])):this.mergedOptions.editPath.includes("{{")&&this.mergedOptions.editPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.editPath,e)):this.$router.push(this.mergedOptions.editPath);var i="".concat(this.parentPath,"/").concat(e[this.primaryKeyFieldCpt],"/edit");this.useRouterMode&&this.$route.path!==i&&(t&&(t.metaKey||t.ctrlKey)?window.open(i,"_blank"):this.$router.push(i)),this.setDisplayMode("edit",e,t)},goToViewPage:function(e,t){if(e){var i=this.getViewPageUrl(e,t);i&&t&&(t.metaKey||t.ctrlKey)?window.open(i,"_blank"):(this.setDisplayMode("view",e),(this.useRouterMode||this.mergedOptions.viewPath)&&(this.$route.path!==i?this.$router.push(i):console.warn("Duplicate goToViewPage called")))}},getViewPageUrl:function(e,t){if(!e)return"";if(this._actions&&!this._actions.view)return"";var i="";return this.mergedOptions.viewPath?(i=this.mergedOptions.viewPath,this.mergedOptions.viewPath.includes(":id")&&e&&e[this.primaryKeyFieldCpt]&&(i=i.replace(":id",e[this.primaryKeyFieldCpt])),i.includes("{{")&&i.includes("}}")&&(i=this.parseUrl(i,e)),i):(i="".concat(this.parentPath.replace(":id",""),"/").concat(e[this.primaryKeyFieldCpt]),this.useRouterMode&&this.$route.path!==i?i:void 0)},nestedViewFunction:function(){var e=this;this.displayMode="view",this.$awApi.get("".concat(this._url)).then((function(t){e.selectedItem=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?l.a.get(t,e.apiResponseConfig.dataPath):t.data,e.nestedCrudNeedsRefresh=!0})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},bulkEditFunction:function(e){var t=this;this.$awApi.put("".concat(this._url,"/").concat(e[this.primaryKeyFieldCpt]),e).then((function(e){t.$emit(t.identity+"-item-updated",e.data),t.$awNotify({title:t.$t("AwesomeDefault.messages.successfullyModified",{title:t.type}),type:"success"}),t.tableNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.$forceUpdate()})).catch(this.apiErrorCallback).finally((function(){t.isRefreshing=!1}))},bulkDeleteFunction:function(e){var t=this;A.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then((function(i){i.value&&e.forEach((function(e){t.selectedItem=e,t.$awApi.delete("".concat(t._selectedItemUrl)).then((function(){t.tableNeedsRefresh=!0,t.statsNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.$forceUpdate()})).catch((function(e){console.error(e)})).finally((function(){t.isRefreshing=!1}))}))})).finally((function(){return t.selectedItem=null}))},deleteFunction:function(e){var t=this;this.selectedItem=e,A.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then((function(e){e.value&&t.$awApi.delete("".concat(t._selectedItemUrl)).then((function(){t.selectedItem=null,t.tableNeedsRefresh=!0,t.statsNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.useRouterMode&&t.$router.replace("".concat(t.parentPath,"?ts"));var e=t.getPreviousDisplayMode();t.setDisplayMode(e),t.$forceUpdate()})).catch((function(e){console.error(e)})).finally((function(){t.isRefreshing=!1}))})).finally((function(){return t.selectedItem=null}))},onCustomBulkAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-bulk-action",t),t&&t.action&&t.action(e,this)},onCustomListAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-list-action",t),t&&t.action&&t.action(e,this)},onRemoveList:function(e){},onListChanged:function(e){},onCardChanged:function(e,t){},onCardAdded:function(e,t){e.element,e.newIndex},onCardClicked:function(e,t){this.$emit("on-kanban-item-clicked",e,t),this.getViewPageUrl&&this.getViewPageUrl(e)||this.listItemClickedHandler(e,t)},onEditDisplayCancelled:function(e,t){var i=t.context,s=this.getPreviousDisplayMode(i);if(this.useRouterMode)if("view"===s&&e&&e[this.primaryKeyFieldCpt])this.goToViewPage(e);else if("edit"===s&&e&&e[this.primaryKeyFieldCpt])this.goToEditPage(e);else{var a=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace("".concat(e?e[this.primaryKeyFieldCpt]:""),"");this.$router.push(a)}this.setDisplayMode(s,e,{refresh:!1})},onViewDisplayCancelled:function(e){if(this.useRouterMode){var t=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace("".concat(e?e[this.primaryKeyFieldCpt]:""),"");this.$router.push(t)}var i=this.previousDisplayMode&&"edit"!==this.previousDisplayMode&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;this.setDisplayMode(i,e,{refresh:!1})},onItemsBulkEdited:function(e){this.bulkEditFunction(e)},onItemCreated:function(e){this.$awEmit("aw-table-needs-refresh")},onItemEdited:function(){this.$awEmit("aw-table-needs-refresh")},onItemDeleted:function(){},onItemViewed:function(){},onItemValidated:function(){},onItemValidationFailed:function(){},onListUpdated:function(e){this.$emit("list-updated",e),this.$emit(this.identity+"-list-updated",e)},onTableRowClicked:function(e,t){var i=e.column,s=e.row,a=e.event;i&&(["url","relation","ACTIONS"].indexOf(i.type)>-1||"__ACTIONS"===i.field)||(this.$emit("on-table-row-clicked",s,a||t),this.listItemClickedHandler(s,a||t))},onTableRowDoubleClicked:function(e,t){var i=e.column,s=e.row,a=e.event;i&&(["url","relation","ACTIONS"].indexOf(i.type)>-1||"__ACTIONS"===i.field)||(this.$emit("on-table-row-double-clicked",s),this.listItemDoubleClickedHandler(s,a||t))},onDataChanged:function(e){this.itemsList=e.data},updateAutoRefresh:function(e){this.mergedOptions.autoRefresh=e},onListItemClicked:function(e,t){this.$emit("on-list-item-clicked",e),this.listItemClickedHandler(e,t)},confirm:function(e){return console.warn("confirm method is @deprecated => use $awConfirm"),this.$awConfirm(e)},onLayoutUpdated:function(e){this.$emit("layout-updated",e)},onLayoutFieldsUpdated:function(e){this.$emit("layout-fields-updated",e)},onOpenEditLayoutMode:function(){this.editLayoutMode=!0},onCloseEditLayoutMode:function(){this.editLayoutMode=!1},selectPreviousItem:function(){this.hasPrevious&&this.itemsList[this.currentItemIndex-1]&&(this.selectedItem=this.itemsList[this.currentItemIndex-1],this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(this.selectedItem[this.primaryKeyFieldCpt],"?").concat(c.a.stringify(this.$route.query))))},selectNextItem:function(){this.hasNext&&this.itemsList[this.currentItemIndex+1]&&(this.selectedItem=this.itemsList[this.currentItemIndex+1],this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(this.selectedItem[this.primaryKeyFieldCpt],"?").concat(c.a.stringify(this.$route.query))))},onCustomAction:function(e){var t=this,i=e.action;if(this.$emit(this.identity+"-custom-action",i),i)if(i.actionApiUrl){var s=this.templateParseUrl(i.actionApiUrl,e);this.$awApi.put(s,e).then((function(e){var i=e.data;t.tableNeedsRefresh=!0;var s="";s="string"==typeof i?i:i.message?i.message:"Notifications.messages.action_successfully_sent",t.$awNotify({title:t.$te(s)?t.$t(s):s})})).catch(this.apiErrorCallback)}else i.action&&"function"==typeof i.action&&i.action(e,this)},getNestedItem:function(){var e=this;return this.$awApi.get("".concat(this._url)).then((function(t){e.selectedItem=e.responseField&&0!=e.responseField?l.a.get(t.data,e.responseField):t.data})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},listItemClickedHandler:function(e,t){switch(this.tableRowClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e,t);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e,t)}},listItemDoubleClickedHandler:function(e,t){switch(this.tableRowDoubleClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e,t);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e,t);break;case"none":break;default:this.listItemClickedHandler(e,t)}},onRouteIdChanged:function(e,t){this.useRouterMode&&e&&t&&t!==e&&this.setDisplayMode(this.displayMode,Object(a.a)({},this.primaryKeyFieldCpt,this.$route.params.id))},initializeSelectedItem:function(){this.$route.params.id&&(this.parentPath=this.parentPath.replace("/".concat(this.$route.params.id),"").replace("/:id",""),this.$route.params.id&&(this.$route.path.endsWith("/create")||this.$route.path.endsWith("/new"))?(delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=l.a.merge(this.selectedItem,this.$route.query.item)),this.goToCreatePage({reset:!1}),this.parentPath=this.parentPath.replace("/edit","").replace("/".concat(this.$route.params.id),"").replace("/:id","")):(this.selectedItem=Object(a.a)({},this.primaryKeyFieldCpt,this.$route.params.id),this.$route.query.item&&(this.selectedItem=l.a.merge(this.selectedItem,this.$route.query.item))))},onSegmentChange:function(){},handleScroll:function(e){if("sideform"===this._detailPageMode&&this.scrollTarget){var t=this.scrollTarget.querySelector(".aw-form");this.scrollTarget&&this.scrollTarget.scrollTop>80?(this.awFormWidth=t.offsetWidth,this.isSideformSticky=!0,t&&(t.style="width: ".concat(this.awFormWidth,"px; text-align:right; float: right"))):(this.isSideformSticky=!1,t&&(t.style=""))}},onDisplayModeChanged:function(e,t){if(e!==t&&this.supportedListingDisplayModes.includes(e)){if(this.enabledListingModes&&!this.enabledListingModes.includes(e))return void(this.enabledListingModes[0]&&(this.listingDisplayMode=this.enabledListingModes[0]));this.listingDisplayMode=e}},onlistingDisplayModeChanged:function(e,t){e!==t&&(this.displayMode=e,this.saveComponentState())},getPreviousDisplayMode:function(e){var t=this.previousDisplayMode&&this.previousDisplayMode!==e&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;return"create"===e&&this.postCreateDisplayMode&&("listing"==this.postCreateDisplayMode||void 0===this._actions[this.postCreateDisplayMode]||this._actions[this.postCreateDisplayMode])?"list"===this.postCreateDisplayMode||"listing"===this.postCreateDisplayMode?t:this.postCreateDisplayMode:"edit"===e&&this.postEditDisplayMode&&("listing"==this.postCreateDisplayMode||void 0===this._actions[this.postEditDisplayMode]||this._actions[this.postEditDisplayMode])?"list"===this.postCreateDisplayMode||"listing"===this.postCreateDisplayMode?t:this.postEditDisplayMode:t},afterRefresh:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.$emit.apply(this,["afterRefresh"].concat(t))},after_refresh:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.$emit.apply(this,["after-refresh"].concat(t))},beforeRefresh:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.$emit.apply(this,["beforeRefresh"].concat(t))},before_refresh:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.$emit.apply(this,["before-refresh"].concat(t))},beforeCreate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.$emit.apply(this,["beforeCreate"].concat(t))},onListReordered:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t.listOptions&&t.listOptions.sortField&&e)){i.next=4;break}return s=e.map((function(e,i){var s=t._url.split("?");return s[0]="".concat(s[0],"/").concat(e[t.primaryKeyFieldCpt]),t.$awApi.put(s.join("?"),Object(n.a)(Object(n.a)({},e),{},Object(a.a)({},t.listOptions.sortField,i+1)))})),i.next=4,Promise.all(s);case 4:t.$emit("reorder",e);case 5:case"end":return i.stop()}}),i)})))()},onModelUpdated:function(e,t){this.$emit("modelUpdated",e,t),this.$emit("model-updated",e,t)}}},E=(i(393),Object(x.a)(T,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content aw-crud",class:"aw-crud-mode-"+e.displayMode+" aw-crud-"+e.identity},[i("div",{},[i("div",{staticClass:"row mr-0 ml-0"},[i("div",{staticClass:"col-12 awesomecrud-stats-section p-0"},[e.showStatsSectionComputed?i("div",{staticClass:"row"},[i("EnyoCrudStatsSection",{attrs:{url:e._url+"/stats",entity:e.identity,identity:e.identity,"stats-needs-refresh":e.statsNeedsRefresh},on:{"update:statsNeedsRefresh":function(t){e.statsNeedsRefresh=t},"update:stats-needs-refresh":function(t){e.statsNeedsRefresh=t}}})],1):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showItemsListSectionComputed,expression:"showItemsListSectionComputed"}],staticClass:"awesomecrud-listing-section p-0",class:"aw-crud-listing-mode-"+e.listingDisplayMode+" "+(e.displaySideFormContent?"col-12 col-md-6":"col-12")},[!e._isANestedDetailView&&("table"===e.displayMode||e._displayModeHasPartialDisplay&&"table"===e.listingDisplayMode)&&e.dataPaginationModeComputed?i("AwesomeTable",e._b({ref:"awesomeTable",attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.apiQueryParams||e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,collapsible:!1,"columns-displayed":e.mergedOptions.columnsDisplayed,columns:e.tableColumnsComputed,"custom-bulk-actions":e._customBulkActions,"custom-inline-actions":e._customInlineActions,"custom-table-top-actions":e._customTableTopActions,entity:e.identity,"export-url":e.mergedOptions.exportUrl,limit:"remote"===e.dataPaginationModeComputed?20:e.tableDataLimit,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,saveColumnsState:e.saveColumnsState,savePaginationState:e.savePaginationState,segment:e.segment,segmentField:e.segmentField,title:e._listingComponentTitle,url:e._url,useRouterMode:e.useRouterMode,uuid:"awtable-"+e.identity,"get-view-url":e.getViewPageUrl},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,edit:e.goToEditPage,delete:e.goToDeletePage,bulkDelete:e.goToBulkDeletePage,bulkEdit:e.goToBulkEditPage,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,"table-updated":e.onListUpdated,refresh:e.onTableRefresh,onRowClicked:e.onTableRowClicked,onRowDoubleClicked:e.onTableRowDoubleClicked,updateAutoRefresh:e.updateAutoRefresh,"data-changed":e.onDataChanged}},"AwesomeTable",e.$props,!1),[i("template",{slot:"table-header-left"},[e._t("top-left-buttons")],2),e._v(" "),i("template",{slot:"table-header-right"},[i("div",{staticClass:"text-right"},[e._actions.changeDisplayMode&&e.enabledListingModes.length>1?i("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listingDisplayMode,callback:function(t){e.listingDisplayMode=t},expression:"listingDisplayMode"}}):e._e(),e._v(" "),e._t("top-right-buttons"),e._v(" "),e._customTopRightActions?[i("AwesomeActionList",{staticClass:"d-inline-flex",attrs:{actions:e._customTopRightActions,parentDisplayMode:e.displayMode,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n                "+e._s(e.$t("AwesomeCrud.labels.createNew"))+"\n              ")])],2)]),e._v(" "),i("template",{slot:"table-top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,parentDisplayMode:e.displayMode,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),e._v(" "),i("template",{slot:"table-top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:e.importButtonConfig},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._v(" "),e._actions.import?i("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+"\n            ")]):e._e(),e._v(" "),e.mergedOptions.useCustomLayout&&e._actions.editLayout?i("button",{staticClass:"btn btn-sm text-success btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:function(t){return e.goToCreatePage({editLayoutMode:!0})}}},[i("i",{staticClass:"fa fa-th-large"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n            ")]):e._e(),e._v(" "),e._t("top-more-actions")],2)],2):e._e(),e._v(" "),!e._isANestedDetailView&&("list"===e.displayMode||e._displayModeHasPartialDisplay&&"list"===e.listingDisplayMode)?i("AwesomeList",e._b({ref:"awesomeList",attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.apiQueryParams||e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,columns:e.listFieldsComputed,descriptionField:e.listOptions?e.listOptions.descriptionField:"",displayedFields:e.listOptions?e.listOptions.displayedFields:[],"export-url":e.mergedOptions.exportUrl,identity:e.identity,imageClasses:e.listOptions&&e.listOptions.imageClasses,imageField:e.listOptions&&e.listOptions.imageField,imageStyles:e.listOptions&&e.listOptions.imageStyles,perRow:e.listOptions&&parseInt(e.listOptions.perRow),mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,perPage:e.listOptions&&e.listOptions.perPage?e.listOptions.perPage:20,segment:e.segment,segmentField:e.segmentField,styles:{listWrapperClasses:"row",itemWrapperClasses:"col-3"},subtitleField:e.listOptions&&e.listOptions.subtitleField,title:e._listingComponentTitle,titleField:e.listOptions&&e.listOptions.titleField,url:e._url,useRouterMode:e.useRouterMode},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},itemClicked:e.onListItemClicked,reorder:e.onListReordered,create:e.goToCreatePage,view:e.goToViewPage,edit:e.goToEditPage,delete:e.goToDeletePage,bulkDelete:e.goToBulkDeletePage,bulkEdit:e.goToBulkEditPage,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,"table-updated":e.onListUpdated,refresh:e.onTableRefresh,onRowClicked:e.onTableRowClicked,onRowDoubleClicked:e.onTableRowDoubleClicked,updateAutoRefresh:e.updateAutoRefresh,"data-changed":e.onDataChanged},scopedSlots:e._u([{key:"list-items",fn:function(t){var i=t.items,s=t.itemsPerRow,a=t.columns;return[e._t("list-items",null,{items:i,itemsPerRow:s,columns:a})]}},{key:"list-item",fn:function(t){var i=t.item,s=t.itemsPerRow,a=t.columns,n=t.index;return[e._t("list-item",null,{item:i,itemsPerRow:s,columns:a,index:n})]}}],null,!0)},"AwesomeList",e.listOptions,!1),[i("template",{slot:"top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),e._v(" "),i("template",{slot:"list-header-left"},[e._t("top-left-buttons")],2),e._v(" "),i("template",{slot:"list-header-right"},[e._actions.changeDisplayMode&&e.enabledListingModes.length>1?i("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listingDisplayMode,callback:function(t){e.listingDisplayMode=t},expression:"listingDisplayMode"}}):e._e(),e._v(" "),e._t("top-right-buttons"),e._v(" "),e._customTopRightActions?[i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.labels.createNew"))+"\n            ")])],2),e._v(" "),i("template",{slot:"top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:e.importButtonConfig},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._v(" "),e._actions.import?i("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+"\n            ")]):e._e(),e._v(" "),e._t("top-more-actions")],2)],2):e._e(),e._v(" "),!e._isANestedDetailView&&("kanban"===e.displayMode||e._displayModeHasPartialDisplay&&"kanban"===e.listingDisplayMode)?i("AwesomeKanban",e._b({ref:"awesomeKanban",attrs:{actions:e._actions,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.apiQueryParams||e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"card-click-resolver":e.getViewPageUrl,columns:e.kanbanFieldsComputed,"export-url":e.mergedOptions.exportUrl,fields:e._kanbanOptions.fields,identity:e.identity,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e._kanbanOptions.options,splittingField:e._kanbanOptions.splittingField,splittingValues:e._splittingValuesComputed,title:e._listingComponentTitle,url:e._url,useRouterMode:e.useRouterMode},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},customListAction:e.onCustomListAction,create:e.goToCreatePage,removeList:e.onRemoveList,listChanged:e.onListChanged,cardChanged:e.onCardChanged,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked,"data-changed":e.onDataChanged,"kanban-changed":function(t){return e.forwardEvent("kanban-changed")},beforeRefresh:e.beforeRefresh,"before-refresh":e.before_refresh,afterRefresh:e.afterRefresh,"after-refresh":e.after_refresh},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)},"AwesomeKanban",e._kanbanOptions,!1),[e._v(" "),i("template",{slot:"kanban-header-left"},[e._t("top-left-buttons")],2),e._v(" "),i("template",{slot:"kanban-header-right"},[e._actions.changeDisplayMode&&e.enabledListingModes.length>1?i("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listingDisplayMode,callback:function(t){e.listingDisplayMode=t},expression:"listingDisplayMode"}}):e._e(),e._v(" "),e._t("top-right-buttons"),e._v(" "),i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright",columns:e.allColumnsComputed,"use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}}),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.labels.createNew"))+"\n            ")])],2),e._v(" "),i("template",{slot:"top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:e.importButtonConfig},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._v(" "),e._actions.import?i("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+"\n            ")]):e._e(),e._v(" "),e._t("top-more-actions")],2),e._v(" "),e._t("top-actions2",(function(){return[i("template",{slot:"top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2)]})),e._v(" "),e._t("kanban-item",(function(){return[i("template",{slot:"kanban-item"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2)]}))],2):e._e()],1),e._v(" "),i("div",{staticClass:"awesomecrud-detail-section p-0",class:{"col-10 col-md-6":e.displaySideFormContent,"col-12":!e.displaySideFormContent,"sticky-form":e.displaySideFormContent&&e.isSideformSticky}},[e.displaySideFormContent&&e.isSideformSticky?i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add invisible",attrs:{disabled:!0,type:"button"}},[i("i",{staticClass:"fa fa-plus text-primary"})]):e._e(),e._v(" "),e.showViewFormComputed?i("awesome-form",e._b({attrs:{actions:e._actionsBeforeCalculation,apiTimeout:e.apiTimeout,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:e.viewPageLayoutComputed,mode:e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,parent:e.parent,schema:e.schemaComputed,standalone:!1,url:e._url},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onViewDisplayCancelled,closeRequested:e.onViewDisplayCancelled,customAction:e.onCustomAction,beforeCreate:e.beforeCreate,itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,"model-updated":e.onModelUpdated,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.formOptionsComputed,!1),[e._t("after-edit-form",null,{slot:"after-edit-form",selectedItem:e.selectedItem})],2):e._e(),e._v(" "),e.showEditFormComputed?i("awesome-form",e._b({attrs:{actions:e._actionsBeforeCalculation,apiTimeout:e.apiTimeout,"bulk-items":e.selectedItems,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:"create"===e.displayMode?e.createPageLayoutComputed:e.editPageLayoutComputed,mode:e.displayBottomFormContent?"create":e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,schema:e.schemaComputed,standalone:!1,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,createPageLayoutComputed:""},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onEditDisplayCancelled,closeRequested:e.onEditDisplayCancelled,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"model-updated":e.onModelUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.formOptionsComputed,!1)):e._e()],1)])])])}),[],!1,null,null,null));t.default=E.exports},332:function(e,t,i){},333:function(e,t,i){},334:function(e,t,i){},335:function(e,t,i){},336:function(e,t,i){},337:function(e,t,i){},338:function(e,t,i){},339:function(e,t,i){},340:function(e,t,i){"use strict";i(171),i(24),i(310),i(97),i(170),i(173),i(69),i(174),i(70),i(307),i(10),i(43),i(101),i(26),i(312),i(98),i(29);var s=i(317),a=i(309),n=(i(100),i(44)),o=i(32),r=i(45),l=i(306),d=i.n(l),c=i(348),u=i.n(c),m=i(308),p=i(350),h=i(314),f=i(321),g=i(357),y=i(383),b=i(406),v=(i(46),i(99),i(172),i(320),i(0)),C=i(404),_=i.n(C),w=i(325),A={name:"KanbanList",components:{AwesomeDisplay:i(327).a},mixins:[m.a,g.a,w.a],directives:{ClickOutside:_.a},props:{id:{type:String,required:!0},title:{type:[String,Boolean],default:""},items:{type:Array,default:function(){return[]}},group:{type:String,default:"default"},animation:{type:Number,default:200},scrollSensitivity:{type:Number,default:500},columns:{type:Array,default:function(){return[]}},customListActions:{type:Array,default:function(){return[]}},displayLabelsCache:{type:Object,default:function(){return{}}},displayColumnsInCards:{type:Boolean,default:!1},allowRemovingList:{type:Boolean,default:!1},cardClickResolver:Function},created:function(){this.$root.$options.components.Draggable||v.a.options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!")},data:function(){return{showActionDropdown:!1}},methods:{removeList:function(){this.$emit("remove-list",{id:this.id,title:this.title}),this.hideActionDropdown()},cardChanged:function(e){this.$emit("change",e,{id:this.id,title:this.title},this.items),e&&(e.added&&this.$emit("cardAdded",e.added,{id:this.id,title:this.title},this.items),e.removed&&this.$emit("cardRemoved",e.removed,{id:this.id,title:this.title},this.items),e.moved&&this.$emit("cardMoved",e.moved,{id:this.id,title:this.title},this.items))},getAllowedData:function(e){var t=this,i={};return Object.keys(e).forEach((function(s){t.columns.forEach((function(t){t.field===s&&(i=Object.assign(i,d.a.pick(e,[s])))}))})),i},getField:function(e){var t=d.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},cardClicked:function(e,t){this.$emit("cardClicked",e,t)},getItemUsers:function(e,t){var i=this.getItemProperty(e,t);return Array.isArray(i)?i:[i]},hideActionDropdown:function(){this.showActionDropdown=!1},toggleActionDropdown:function(){this.showActionDropdown=!this.showActionDropdown},getLabelsProperty:function(e,t){var i=this.getItemProperty(e,t);return Array.isArray(i)?i:[i]},getUserInitials:function(e){var t="string"===e?e:this.getItemProperty(e,this.userTitleField);return t?t.includes(" ")?t.trim().split(" ").map((function(e){return e.slice(0,1)})).join(""):t.substring(0,2):""},getUserAvatar:function(e){var t=this.getItemProperty(e,this.userImageField)||e&&e.src;return t||""},onChoose:function(e){this.$emit("choose",e)},onUnChoose:function(e){this.$emit("unchoose",e)}},computed:{hasFormattingData:function(){return this.titleField||this.imageField||this.subtitleField||this.descriptionField||this.labelsField}}},O=(i(390),i(42)),k=Object(O.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list",class:e.items&&e.items.length?"list-has-items":"list-no-items"},[i("div",{staticClass:"list-content"},[i("div",{staticClass:"list-header"},[i("div",{staticClass:"list-title"},[e._t("kanban-list-title",(function(){return[e._v("\n          "+e._s(e.title)+"\n        ")]}),{title:e.title,items:e.items,id:e.id})],2),e._v(" "),i("div",{staticClass:"list-actions"},[i("div",{staticClass:"dropdown column dropleft"},[i("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideActionDropdown,expression:"hideActionDropdown"}],staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button","aria-haspopup":"true","aria-expanded":"false"},on:{click:e.toggleActionDropdown}},[i("i",{staticClass:"fa fa-ellipsis-h"})]),e._v(" "),i("div",{staticClass:"dropdown-menu",class:e.showActionDropdown?"show":"",attrs:{"aria-labelledby":"filter"}},[e._l(e.customListActions,(function(t,s){return[i("a",{key:s,staticClass:"dropdown-item",class:t.class,attrs:{href:"javascript:void(0)",id:t.name+"-"+s,"data-title":t.title||t.label,"data-tooltip":t.title||t.label},on:{click:function(i){e.$emit("customListAction",{action:t,items:e.items,location:"",id:t.name+"-"+s}),e.hideActionDropdown()}}},[t.icon?i("i",{class:t.icon}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(t.label?e.$t(t.label):"")}})])]})),e._v(" "),e.customListActions.length?i("div",{staticClass:"dropdown-divider"}):e._e(),e._v(" "),e.allowRemovingList?i("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.removeList.apply(null,arguments)}}},[e._v(e._s(e.$t("AwesomeKanban.labels.removeList")))]):e._e()],2)])])]),e._v(" "),i("div",{staticClass:"list-cards"},[i("Draggable",{staticClass:"draggable-card",attrs:{list:e.items,group:e.group,animation:e.animation,"ghost-class":"moving-card",delay:300,"delay-on-touch-only":!0,"scroll-sensitivity":e.scrollSensitivity},on:{change:e.cardChanged,choose:function(t){return e.onChoose(t)},unchoose:function(t){return e.onUnChoose(t)}}},[e._t("kanban-list-items",(function(){return e._l(e.items,(function(t,s){return i("div",{key:s,staticClass:"card",on:{click:function(i){return e.cardClicked(t,i)}}},[i("router-link",{staticClass:"kanban-card-link",attrs:{to:e.cardClickResolver&&e.cardClickResolver(t)?e.cardClickResolver(t):"",tag:e.cardClickResolver&&e.cardClickResolver(t)?"a":"div"}},[e._t("kanban-list-item",(function(){return[e.imageField&&e.getItemProperty(t,e.imageField)?i("img",{staticClass:"card-img-top",attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e.usersField&&e.getItemProperty(t,e.usersField)?[i("div",{staticClass:"pull-right kanban-card-users-avatars"},[e._l(e.getItemUsers(t,e.usersField),(function(t,s){return[e.getUserAvatar(t)?i("img",{key:s,staticClass:"kanban-user-img",attrs:{alt:e.getItemProperty(t,e.userTitleField),src:e.getUserAvatar(t)}}):i("span",{key:s,staticClass:"text-info user-initials"},[e._v(e._s(e.getUserInitials(t)))])]}))],2)]:e._e(),e._v(" "),e.getItemProperty(t,e.titleField)?i("h5",{staticClass:"card-title text-truncate"},[e._v("\n                    "+e._s(e.getItemProperty(t,e.titleField))+"\n                  ")]):e._e(),e._v(" "),e.getItemProperty(t,e.subtitleField)?i("h6",{staticClass:"card-subtitle mb-2 text-muted text-truncate"},[e._v("\n                    "+e._s(e.getItemProperty(t,e.subtitleField))+"\n                  ")]):e._e(),e._v(" "),e.getItemProperty(t,e.descriptionField)?i("p",{staticClass:"card-text"},[e._v("\n                    "+e._s(e.getItemProperty(t,e.descriptionField))+"\n                  ")]):e._e(),e._v(" "),e.getLabelsProperty(t,e.labelsField)?i("div",{staticClass:"pull-right tags-field"},e._l(e.getItemProperty(t,e.labelsField),(function(t,s){return i("small",{key:s,staticClass:"badge badge-primary kanban-label"},[e._v(e._s(t))])})),0):e._e(),e._v(" "),e.columns&&e.columns.length&&(!e.hasFormattingData||e.displayColumnsInCards)?e._l(e.getAllowedData(t),(function(s,a){return i("div",{key:a},[e._v("\n                      "+e._s(a)+" :\n                      "),i("AwesomeDisplay",{attrs:{type:e.getField(a).type,value:s,relation:e.getField(a).relation,"relation-label":e.getField(a).relationLabel,"relation-url":e.getField(a).relationUrl,"relation-key":e.getField(a).relationKey,"display-label-cache":e.displayLabelsCache,schema:e.getField(a),model:t}})],1)})):e._e(),e._v(" "),e.hasFormattingData||e.displayColumnsInCards?e._e():i("p",{staticClass:"card-text"},[e._v("\n                    "+e._s(e.$t("AwesomeKanban.labels.noData"))+"\n                  ")])],2)]}),{title:e.title,item:t,index:s})],2)],1)}))}),{title:e.title,items:e.items})],2)],1)])])}),[],!1,null,"71b3a0d7",null).exports,F=i(328),$=i(380),M=i(381),P=i(382),I=i(330),x={name:"AwesomeKanban",components:{AutoRefreshButton:M.a,AwesomeFilter:F.a,AwesomeSegments:$.a,KanbanList:k,ProgressBar:P.a,Popper:u.a},mixins:[m.a,h.a,p.a,f.a,g.a,b.a,y.a],props:{perPage:{type:[String,Number],default:200},splittingField:{type:[String,Object]},sortField:{type:[String,Object]},sortOrder:{type:String,default:"asc",validator:function(e){return["asc","desc"].includes(e)}},splittingValues:{type:Array},lists:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return I.b}},actions:{type:Object,default:function(){return{refresh:!0,addKanbanList:!0,removeList:!1}}},displayOrphansList:{type:Boolean,default:!0},displayColumnsInCards:{type:Boolean,default:!1},customListActions:{type:Array,default:function(){return[]},note:"See https://enyosolutions-team.github.io/vue-awesome-components/guide/awesomecrud/custom-actions.html"},scrollSensitivity:{type:Number,default:500,note:"See https://github.com/SortableJS/Sortable/tree/master/plugins/AutoScroll#scrollsensitivity-option"},cardClickResolver:Function},created:function(){this.$root.$options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!"),this.reorderListItemsDebounced=d.a.debounce(this.reorderListItems,200)},mounted:function(){this.handleLists(),this.serverParams&&this.serverParams.page>1&&(this.updateParams({page:0}),this.pushChangesToRouter({query:{page:0}},!0),this.connectRouteToPagination(this.$route),this.getItems())},computed:{_model:function(){return this.model||this.getModelFromStore(this.identity)},titleComputed:function(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):d.a.startCase(this._model.namePlural):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):d.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):d.a.startCase(this._model.name):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):d.a.startCase(this.identity):""},splittingValuesComputed:function(){return this.splittingValues&&Array.isArray(this.splittingValues)&&this.splittingValues.length?this.splittingValues:this.splittingFieldApiValues},segmentFieldDefinitionComputed:function(){var e=this;if(!this.splittingField)return"";if(this.columns){var t=this.columns.find((function(t){return t.field===e.splittingField}));if(t)return t}return""},_filterableColumns:function(){var e=this;return this.columns.map((function(t){return t.filterOptions&&(t.filterOptions.enabled=(void 0===e.displayAwFilter||e.displayAwFilter)&&(void 0===t.filterOptions.filterable||t.filterOptions.filterable)),t}))}},watch:{lists:function(){this.handleLists()},data:function(){this.handleLists()},splittingField:function(){this.handleLists()},splittingValuesComputed:function(){this.handleLists()},"options.sortField":function(){this.orderCardInLists()},"options.sortOrder":function(){this.orderCardInLists()},search:function(e){this.onSearch({searchTerm:e})}},data:function(){return{localLists:[],isAddingList:!1,newListName:"",isRefreshing:!1,displayLabelsCache:{},splittingFieldApiValues:[],displayAwFilter:!1,search:"",scrollBox:{}}},methods:{addList:function(){this.newListName&&(d.a.some(this.localLists,{title:this.newListName})||(this.localLists.push({id:this.newListName,title:this.newListName,content:[]}),this.newListName="",this.isAddingList=!1),this.$awEmit("aw-kanban-list-added",this.localLists[this.localLists.length-1]))},clearForm:function(){this.isAddingList=!1,this.newListName=""},editForm:function(){this.isAddingList=!0},onRemoveList:function(e){this.localLists=d.a.filter(this.localLists,(function(t){return t.title!==e})),this.$emit("removeList",e),this.$awEmit("aw-kanban-list-removed",e)},listChanged:function(e){this.$emit("listChanged",e),this.$awEmit("aw-kanban-list-changed",e,this.localLists)},onCardChanged:function(e,t,i){this.$emit("cardChanged",e,t,i),this.reorderListItemsDebounced(i)},onCardRemoved:function(e,t){this.$emit("cardRemoved",e,t)},onCardAdded:function(e,t,i){this.$emit("cardAdded",e,t,i),this.changeItemSplittingValue(e,t,i)},onCardMoved:function(e,t){this.$emit("cardAdded",e,t)},onCardClicked:function(e,t){this.$emit("cardClicked",e,t)},handleLists:function(){var e=this;if(this.lists&&this.lists.length)this.localLists=d.a.cloneDeep(this.lists);else{var t=this.displayOrphansList?[{id:"unsorted",title:this.$t("AwesomeKanban.labels.unsorted"),content:this.data?this.data.filter((function(t){return null==t[e.splittingField]})):[]}]:[];this.localLists=d.a.cloneDeep(t)}this.splitItemsInLists(),this.orderCardInLists()},splitItemsInLists:function(){var e=this;this.splittingField&&this.splittingValuesComputed&&Array.isArray(this.splittingValuesComputed)&&this.splittingValuesComputed.forEach((function(t){var i=t,s=t.toString();"object"===Object(r.a)(t)&&(i=e.segmentFieldDefinitionComputed.relation&&t[e.segmentFieldDefinitionComputed.relationKey]||t.id||t,s=e.segmentFieldDefinitionComputed.relation&&t[e.segmentFieldDefinitionComputed.relationLabel]||t.label||i);var a,n=[];e.data?(n=d.a.filter(e.data,[e.splittingField,i]),"unsorted"===i&&(n=(a=n).push.apply(a,Object(o.a)(e.data.filter((function(t){return t[e.splittingField]==i})))))):(e.localLists.forEach((function(t){n.push(d.a.filter(t.content,[e.splittingField,i])),d.a.remove(t.content,(function(t){return t[e.splittingField]===i}))})),n=d.a.flatten(Object(o.a)(n)));d.a.some(e.localLists,{id:i,title:s})||e.localLists.push({id:i,title:s,content:n})}))},orderCardInLists:function(){var e=this,t=this.sortOrder?this.sortOrder.toLowerCase():"asc";this.sortField&&this.localLists.forEach((function(i){i.content.length>1&&(i.content=d.a.orderBy(i.content,(function(t){return t[e.sortField]}),[t]))}))},onCustomListAction:function(e){this.$emit("customListAction",e)},getSegmentValues:function(e){return e&&(e.fieldOptions&&e.fieldOptions.filterDropdownItems||e.enum||e.fieldOptions.values||e.fieldOptions.options)},changeItemSplittingValue:function(e,t,i){var s=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.element,e.newIndex,a[s.splittingField]="unsorted"===t.id||void 0===t.id?null:t.id,s.sortField&&delete a[s.sortField],(n=s._url.split("?"))[0]="".concat(n[0],"/").concat(a[s.primaryKeyFieldCpt]),i.next=7,s.$awApi.put(n.join("?"),a);case 7:case"end":return i.stop()}}),i)})))()},reorderListItems:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.sortField||!e){i.next=4;break}return n=e.map((function(e,i){var n=t._url.split("?");return delete e[t.splittingField],n[0]="".concat(n[0],"/").concat(e[t.primaryKeyFieldCpt]),t.$awApi.put(n.join("?"),Object(a.a)(Object(a.a)({},e),{},Object(s.a)({},t.sortField,i)))})),i.next=4,Promise.all(n);case 4:case"end":return i.stop()}}),i)})))()},onSegmentListChanged:function(e){this.splittingFieldApiValues=e},onMouseMove:function(e){var t=this.$refs.scrollableDiv;this.scrollBox||(this.scrollBox=this.$refs.scrollableDiv.getBoundingClientRect()),document.querySelector("#scrollableDiv");var i=document.body.offsetWidth-e.pageX,s=e.pageX-this.scrollBox.x;i<50&&t.scrollLeft+t.offsetWidth<t.scrollWidth?t.scrollLeft+=10:s<0&&t.scrollLeft>0&&(t.scrollLeft-=10)},onChoose:function(e){this.scrollBox=this.$refs.scrollableDiv.getBoundingClientRect(),document.addEventListener("dragover",this.onMouseMove)},onUnChoose:function(e){document.removeEventListener("dragover",this.onMouseMove)}}},S=(i(391),Object(O.a)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-kanban aw-listing"},[i("div",{staticClass:"float-left col-12 col-md-6 pl-0 pr-0"},[e._t("kanban-header-left"),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.segmentFieldDefinitionComputed,expression:"segmentFieldDefinitionComputed"}],staticClass:"card aw-segment-table-wrapper d-none"},[i("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange,"segment-list-changed":e.onSegmentListChanged}})],1)],2),e._v(" "),i("div",{staticClass:"float-right text-right col-12 col-md-6 pl-0 pr-0"},[e._t("kanban-header-right",(function(){return[i("button",{staticClass:"btn btn-primary",staticStyle:{visibility:"hidden"}},[e._v(" ")])]}))],2),e._v(" "),i("div",{staticClass:"card aw-kanban-card"},[i("div",{staticClass:"d-block"},[i("div",{staticClass:"card-header aw-kanban-header"},[i("div",{staticClass:"row"},[e.isRefreshing?i("ProgressBar"):e._e(),e._v(" "),i("div",{staticClass:"col-12 col-md-8"},[i("h3",{staticClass:"text-left aw-kanban-title"},[e._t("kanban-title",(function(){return[e.titleComputed?[e._v(e._s(e.titleComputed)+"\n                  "),i("span",{staticClass:"badge badge-primary d-inline p-1"},[e._v(e._s(e.totalCount))])]:e._e()]})),e._v(" "),e.actions&&e.actions.refresh?i("auto-refresh-button",{attrs:{"auto-refresh":e.autoRefresh,"auto-refresh-interval":e.autoRefreshInterval},on:{refresh:function(t){return e.getItems({useSkeleton:!0})}},model:{value:e.isRefreshing,callback:function(t){e.isRefreshing=t},expression:"isRefreshing"}}):e._e(),e._v(" "),i("div",{staticClass:"btn-group btn-group-sm float-right awesome-list-buttons"},[e._t("top-actions"),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions.filter&&e.actions.advancedFiltering?i("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v("\n                    "+e._s(e.$t("AwesomeTable.buttons.filters"))+"\n                    "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+"\n                  ")]):e._e(),e._v(" "),i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-simple dropdown-toggle btn-sm",attrs:{slot:"reference",type:"button"},slot:"reference"},[e._v("\n                      "+e._s(e.$t("AwesomeTable.more"))+"\n                    ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("top-more-actions"),e._v(" "),e.actions&&e.actions.export?i("button",{staticClass:"btn btn-sm text-success btn-block",on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                        "+e._s(e.$t("common.buttons.excel"))+"\n                      ")]):e._e()],2)])],1)],2)],2)]),e._v(" "),i("div",{staticClass:"col-12 col-md-4"},[e.actions.search?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control aw-search-input",attrs:{type:"text",placeholder:e.$t("AwesomeTable.searchInput")},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()]),e._v(" "),i("div",{staticClass:"col-12"},[e.displayAwFilter?i("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),i("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}})],1)],1)])]),e._v(" "),i("div",{staticClass:"card-body"},[i("div",{ref:"scrollableDiv",staticClass:"awesome-kanban"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:e.localLists,group:"lists",animation:e.options.animation,"ghost-class":"moving-list",scrollSensitivity:e.scrollSensitivity||e.options.scrollSensitivity,disabled:!e.options.moveList},on:{change:e.listChanged}},e._l(e.localLists,(function(t,s){return i("KanbanList",{key:s,attrs:{animation:e.options.animation,columns:e.columns,"custom-list-actions":e.customListActions,descriptionField:e.descriptionField,disabled:!e.options.moveCard,"display-labels-cache":e.displayLabelsCache,fields:e.options.fields,"card-click-resolver":e.cardClickResolver,id:t.id,imageField:e.imageField,items:t.content,labelsField:e.labelsField,"scroll-sensitivity":e.options.scrollSensitivity,showColumns:e.options.showColumns,subtitleField:e.subtitleField,title:t.title,titleField:e.titleField,userImageField:e.userImageField,usersField:e.usersField,userTitleField:e.userTitleField,group:"card",allowRemovingList:e.actions.removeList},on:{"remove-list":e.onRemoveList,customListAction:e.onCustomListAction,change:e.onCardChanged,cardRemoved:e.onCardRemoved,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked,cardMoved:e.onCardMoved,choose:e.onChoose,unchoose:e.onUnChoose},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)})})),1),e._v(" "),e.actions&&e.actions.addKanbanList?i("div",{staticClass:"card add-list",on:{click:function(t){return t.stopPropagation(),e.editForm.apply(null,arguments)}}},[i("div",{staticClass:"card-body"},[e.isAddingList?e._e():i("div",{staticClass:"card-text"},[i("i",{staticClass:"fa fa-plus"}),e._v("\n              "+e._s(e.$t("AwesomeKanban.labels.addList"))+"\n            ")]),e._v(" "),e.isAddingList?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newListName,expression:"newListName"}],staticClass:"form-control mb-1",attrs:{type:"text",placeholder:e.$t("AwesomeKanban.labels.listName")},domProps:{value:e.newListName},on:{input:function(t){t.target.composing||(e.newListName=t.target.value)}}}),e._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.newListName},on:{click:function(t){return t.stopPropagation(),e.addList.apply(null,arguments)}}},[e._v("\n                "+e._s(e.$t("AwesomeKanban.labels.add"))+"\n              ")]),e._v(" "),i("button",{staticClass:"btn btn-primary ml-1",on:{click:function(t){return t.stopPropagation(),e.clearForm.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-times"})])]):e._e()])]):e._e()],1)])])])}),[],!1,null,null,null));t.a=S.exports},342:function(e,t,i){"use strict";i.r(t);i(171),i(24),i(310),i(97),i(170),i(169),i(69),i(174),i(70),i(307),i(316),i(10),i(43),i(345),i(172),i(26),i(71),i(349),i(98),i(29),i(401),i(100);var s=i(44),a=i(72),n=i(309),o=i(306),r=i(367),l=i.n(r),d=i(360),c=i(314),u=i(318),m=i(356),p=i(321),h=i(315),f=i(358),g=i(308),y=i(330),b=i(396),v=(i(361),i(319)),C=i(379),_=i(341),w=i(347),A={mode:"local",url:null,columns:null,createPath:null,viewPath:null,editPath:null,bulkEditPath:null,queryParams:{},stats:!1,autoRefresh:!1,responseField:"body",useCustomLayout:!1},O={name:"AwesomeForm",introduction:"A component to forms from a json schema",model:{prop:"item",event:"input"},emits:["create","edit","change","save","input","update:crudNeedsRefresh","update:needsRefresh","input:crudNeedsRefresh","input:needsRefresh","before-update","item-edited","model-updated"],components:{AwesomeCrud:function(){return v.default},AwesomeLayout:C.a,AwesomeActionList:_.a,VueFormGenerator:b.a},mixins:[g.a,c.a,u.a,f.a,m.a,p.a,d.a,h.a],props:{item:{type:Object,required:!1},itemId:{type:[String,Number],required:!1},bulkItems:{type:Array,required:!1},title:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},identity:{type:String,required:!0},modelName:{type:String,required:!1},standalone:{type:Boolean,required:!1,default:!0,description:"Defines whether the component is used as part of another parent component\n        (usually AwesomeCrud) or alone. Some actions won't have the same behavior"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},needsRefresh:{type:[Boolean,String],default:!1,note:"Define whether the content of the table list should be refreshed"},nestedSchemas:{type:Array,required:!1,default:function(){return[]},note:"@deprecated, use nested models"},nestedModels:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,note:"The model identity of the parent."},nestedDisplayMode:{type:String,required:!1,default:"list",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"},translations:{type:Object,required:!1,default:function(){return{AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel",close:"Close"}}}},note:"Translation labels to use when vue-i18n is not present"},mode:{type:String,required:!0,values:["create","edit","view","bulkEdit"],validator:function(e){return-1!==["create","edit","view","bulkEdit"].indexOf(e)},description:"Define what mode should the form be used in (create| edit | view | bulkEdit "},displayMode:{type:String,required:!1,default:"sidebar",node:"Manages the way the form is displayed. This field is relevant mostly when using Awesome form as part of AwesomeCrud.\n\n        'modal': Display as a modal\n        'fade': (legacy)  Display as a modal\n        'slide': (legacy)  Display as right size side menu\n        'sidebar':   Display as right size side menu\n        'sidebar-right':   Display as right size side menu\n        'sidebar-left':  Display as Left size side menu\n        'fullscreen':   Display as a full screen component\n        'page':   Display as an in page component\n      ",values:["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"],validator:function(e){return-1!==["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"].indexOf(e)}},useSimpleCreateForm:{type:Boolean,required:!1,default:!1,note:"If true then the create form will display only required attributes"},options:{type:Object,default:function(){return A}},actions:{type:Object,default:function(){return y.a},note:"actions active in this instance"},customInlineActions:{type:Array,default:function(){return[]},note:"custom action in footer and in awTable row"},customTopActions:{type:Array,default:function(){return[]},note:"custom top actions"},layout:{type:[Array,Object],note:"Layout of the form",default:function(){return[]}},editLayoutMode:{type:Boolean},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},updateRouter:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url. @Deprecated, use `useRouterMode` instead."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},displayHeader:{type:Boolean,default:!0,node:"Controls if the header of the modal or the page should be displayed"},displayFooter:{type:Boolean,default:!0,node:"Controls if the footer of the modal or the page should be displayed"},hasNext:{type:Boolean,default:!1,note:"Controls if the next button should be displayed"},hasPrevious:{type:Boolean,default:!1,note:"Controls if the previous button should be displayed"},useCustomLayout:{type:Boolean,default:!1,note:"Can the form layout be changed"},displayedFields:{type:Array,note:"The fields that should be displayed in the form"},useTabsForUngroupedFields:{type:Boolean,default:!0,note:"If there are tabs present in the schema, should i also group the ungrouped fields ?"},generalTabLabel:{type:String,default:"General",note:"Which label do i use for the main tab"},tabsNavType:{type:String,default:"tabs",note:"Should i use tabs or pills to style the tabs"},tabsDirection:{type:String,default:"horizontal",note:"How do i organise the tabs ? horizontaly or vertically"}},data:function(){return{AwesomeCrud:v.default,$modal:null,parentPath:"",selectedItem:{},isRefreshing:!1,nestedElementsNeedRefresh:!1,show:!1,showBackDrop:!1,mergedOptions:{},innerNestedModels:[],activeNestedTab:"general",formOptions:{validayeAsync:!0,validateAfterLoad:!1,validateAfterChanged:!0},nestedModelsCollapseState:{}}},computed:{_title:function(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):Object(o.startCase)(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(o.startCase)(this.identity):""},_titlePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):Object(o.startCase)(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te("app.labels.".concat(this.identity,"s"))?this.$t("app.labels.".concat(this.identity,"s")):Object(o.startCase)(this.identity+"s"):""},_name:function(){var e=this.name||this._model&&this._model.name;if(e){if(this.$te(e)){var t=this.$t(e);if("string"==typeof t)return t}return Object(o.startCase)(e)}return this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(o.startCase)(this.identity):""},_namePlural:function(){var e=this.namePlural||this._model&&this._model.namePlural;return e?this.$te(e)?this.$t(e):Object(o.startCase)(e):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(o.startCase)(this.identity):""},_selectedItemUrl:function(){var e;return this.itemIdComputed?(this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost".concat(this._url)),e="".concat(e.pathname,"/").concat(this.itemIdComputed).concat(e.search)):e="".concat(this._url,"/").concat(this.itemIdComputed),e):this._url?this._url:void 0},_model:function(){return this.model||this.getModelFromStore(this.identity)},_mergedOptions:function(){var e=Object(o.merge)({},A,this.options,this._model?this._model.options:{});return this.options!==A&&(e=Object(o.merge)(e,this.options)),this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=Object(o.merge)(this.mergedOptions.queryParams||this.$route.query.filters)),e.exportUrl||(e.exportUrl="".concat(this._url,"/export")),e.importUrl||(e.importUrl="".concat(this._url,"/import")),e||{}},formSchema:function(){if(!this._schema)return[];var e=this.parseSchema(this._schema);return e.styleClasses="row",e.mode=this.mode,e.fields&&(this.displayedFields&&(e.fields=this.displayedFields.map((function(t){return e.fields.find((function(e){return e.model===t||"group"===e.type&&e.id===t}))})).filter((function(e){return e}))),e.fields=e.fields.map((function(t){return t.styleClasses&&-1!==t.styleClasses.indexOf("col-")||(t.styleClasses="".concat(t.styleClasses||""," col-12")),"bulkEdit"===e.mode&&(t.required=!1),t}))),e},simpleFormSchema:function(){var e=this.formSchema.fields.filter((function(e){return e.required}));return e.length||(e=this.formSchema.fields),Object(n.a)(Object(n.a)({},this.formSchema),{},{fields:e})},createFormSchema:function(){return this.useSimpleCreateForm?this.simpleFormSchema:this._formSchemaGrouped},_actions:function(){var e=this,t=Object(o.merge)({},y.a,this.actions||this._mergedOptions&&this._mergedOptions.actions);return Object.entries(t).forEach((function(i){var s=Object(a.a)(i,2),n=s[0],o=s[1];"boolean"!=typeof o&&(t[n]=e.templateParseConditionalField(o))})),t},_formSchemaGrouped:function(){var e=this;return this.layout&&Array.isArray(this.layout)&&this.layout.length?Object(n.a)(Object(n.a)({},this.formSchema),{},{type:this.layout.some((function(e){return"tab"===e.type}))?"tab":"group",fields:this.layout.map((function(t){return Object(n.a)(Object(n.a)({},t),{},{visible:e.templateParseConditionalField(t.visible),showHeader:void 0===t.showHeader||t.showHeader,cols:"tab"===t.type?12:t.cols,fieldOptions:t.fieldOptions||{},fields:e.formSchema.fields.filter((function(e){return t.fields.includes(null==e?void 0:e.model)||["group","tab"].includes(e.type)&&t.fields.includes(null==e?void 0:e.id)})),headerClasses:"".concat(t.headerClasses||""),id:t.id||t.title||t.legend,legend:t.legend||t.title,styleClasses:"".concat(t.classes||t.styleClasses||""),styles:"".concat(t.styles||""),title:t.title||t.legend,type:t.type||"group",wrapperClasses:"".concat(t.wrapperClasses||"")})}))}):this.formSchema},_useCustomLayout:function(){return!(!this.useCustomLayout||!this.layout)},_editItemTile:function(){if(!this.itemIdComputed)return"";if(this._model&&this._model.displayField){var e=this.getItemProperty(this.selectedItem,this._model.displayField);if(e)return e}return this.itemIdComputed},_schema:function(){return this.schema||this._model&&this._model.schema},_shouldShowBackdrop:function(){return-1===["page","fullscreen","sideform"].indexOf(this.displayMode)&&this.show},_shouldHaveModalClasses:function(){return["fade","modal","fullscreen","sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_shouldHaveSlideClasses:function(){return["sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_getFieldsList:function(){var e=this,t=[];return this.formSchema.fields.forEach((function(i){var s=!1;e.layout&&Array.isArray(e.layout)&&e.layout.forEach((function(e){Object(o.includes)(e.fields,i.model)&&(s=!0)})),s||t.push(i.model)})),t},shouldDisplayHeaderCpt:function(){return!["page","sidebar","sideform"].includes(this.displayMode)||this.displayHeader},itemIdComputed:function(){var e;return this.itemId?e=this.itemId:this.item&&this.item[this.primaryKeyFieldCpt]?e=this.item[this.primaryKeyFieldCpt]:this.selectedItem&&this.selectedItem[this.primaryKeyFieldCpt]&&(e=this.selectedItem[this.primaryKeyFieldCpt]),"string"==typeof e&&e.includes("{{")?this.templateParseText(e,{currentItem:this.item||this.selectedItem}):e}},watch:{name:"loadModel",identity:"loadModel",model:"loadModel",mode:"onModeChanged",options:"mergeOptions",needsRefresh:"refreshComponent",selectedItem:"onChange",item:{deep:!0,handler:function(e,t){this.refreshComponent(e,t)}}},created:function(){},mounted:function(){var e=this;if(this.openModalDebounced=Object(o.debounce)(this.openModal,300,{leading:!0}),this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.modelName&&(this.identity=this.modelName),this.nestedModels.forEach((function(t){e.$set(e.nestedModelsCollapseState,t.identity,!!t.initiallyCollapsed)})),this.loadModel(),this.item&&(this.selectedItem=this.item),"create"===this.mode&&(this.selectedItem=Object(w.createDefaultObject)(this.formSchema),this.selectedItem=Object(o.merge)(this.selectedItem,this.item)),this.nestedElementsNeedRefresh=!0,setTimeout((function(){e.nestedElementsNeedRefresh=!1}),100),this.$route&&this.useRouterMode){var t=this.$route.matched[this.$route.matched.length-1];if(this.$route.path.endsWith("/new")||this.$route.path.endsWith("/create"))return"create"!==this.$route.params.id&&"new"!==this.$route.params.id||delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(o.merge)(this.selectedItem,this.$route.query.item)),void this.$awEmit("create",this.selectedItem,{reset:!1});if(this.$route.params.id){if("bulkEdit"===this.$route.params.id)return delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(o.merge)(this.selectedItem,this.$route.query.item)),void this.$awEmit("bulkEdit",this.selectedItem,{reset:!1});this.parentPath=t.path.replace("/edit","").replace("/:id","")}else this.parentPath=t.path}if(!this["".concat(this.mode,"Function")])throw new Error("no_action_available_for_mode_"+this.mode)},beforeRouteEnter:function(e,t,i){i((function(e){e.closeModal()}))},beforeRouteLeave:function(e,t,i){i((function(e){e.closeModal()}))},beforeDestroy:function(){setTimeout((function(){document.body.classList.remove("modal-open")}),100)},methods:{$alert:l.a,startCase:o.startCase,upperFirst:function(e){return Object(o.upperFirst)(e)},refreshComponent:function(e,t){var i=this;e&&!1!==e&&(this.identity&&this.loadModel(),this.selectedItem=Object(n.a)(Object(n.a)({},this.selectedItem),e),this.nestedElementsNeedRefresh=!0,setTimeout((function(){i.nestedElementsNeedRefresh=!1,i.$emit("update:crudNeedsRefresh",!1),i.$emit("update:needsRefresh",!1),i.$emit("input:crudNeedsRefresh",!1),i.$emit("input:needsRefresh",!1)}),100))},onTableRefresh:function(){this.statsNeedsRefresh=!0},onModeChanged:function(e,t){e!==t&&"create"===e&&(this.selectedItem=Object(w.createDefaultObject)(this.formSchema)),this.loadModel()},mergeOptions:function(){var e,t,i=this;this.options&&this.options.deletePermitted&&this.actions.delete&&this.$store&&this.$store.state&&!this.options.deletePermitted.some((function(e){return i.$store.state.user.roles.indexOf(e.toUpperCase())>=0}))&&(this.actions.delete=!1),this.mergedOptions=Object(o.merge)({},A,this.mergedOptions,this.options),(null===(e=this.$route)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.filters)&&(this.mergedOptions.queryParams=Object(o.merge)(this.mergedOptions.queryParams||this.$route.query.filters))},loadModel:function(){var e=this;this.mergeOptions(),setTimeout((function(){e.openModalDebounced()}),100),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl="".concat(this._url,"/export")),this.mergedOptions.importUrl||(this.mergedOptions.importUrl="".concat(this._url,"/import")),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),"bulkEdit"!==this.mode&&"create"!==this.mode||this.selectedItem?this.selectedItem=this.item:this.selectedItem={}||Object(w.createDefaultObject)(this.formSchema),this._selectedItemUrl&&this.itemIdComputed&&this.$awApi.get("".concat(this._selectedItemUrl),{params:this.apiQueryParams}).then((function(t){var i,s=0!=(null===(i=e.apiResponseConfig)||void 0===i?void 0:i.dataPath)?Object(o.get)(t,e.apiResponseConfig.dataPath):t.data;e.selectedItem=s,e.$awEmit("itemFetched",e.selectedItem),e.$awEmit("item-fetched",{component:"aw-form",context:e,item:Object(o.cloneDeep)(s),identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent})})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.$awEmit("input:needs-refresh",!1)}))},getShemaForFields:function(e){if(e&&e.length){var t=this.formSchema.fields.filter((function(t){return e.indexOf(t.model)>-1}));return Object(n.a)(Object(n.a)({},this.formSchema),{},{fields:t})}},openModalDebounced:function(){},openModal:function(){switch(this.displayMode){case"modal":case"fade":document.body.classList.add("modal-open");break;case"slide":case"sidebar":case"sidebar-right":case"sidebar-left":case"fullscreen":document.body.classList.add("modal-open")}this.show=!0,this.showBackdrop=!0},closeModal:function(){var e=this;this.standalone||(this.parentPath&&this.useRouterMode,this.selectedItem={},setTimeout((function(){e.show=!1,e.showBackdrop=!1}),100),document.body.classList.remove("modal-open"))},cancel:function(){this.$awEmit("cancel",this.selectedItem||this.item,{context:this.mode})},close:function(){var e;this.$awEmit("closeRequested",(null===(e=this.selectedItem)||void 0===e?void 0:e.id)?this.selectedItem:this.item,{context:this.mode}),this.closeModal()},goToEditPage:function(e){if(!this._mergedOptions.editPath)return this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(e[this.primaryKeyFieldCpt]||this.itemIdComputed,"/edit")),void this.editFunction(e);this.$router.push(this._mergedOptions.editPath.replace(":id",e[this.primaryKeyFieldCpt]||this.itemIdComputed).replace("{{id}}",e[this.primaryKeyFieldCpt]||this.itemIdComputed))},goToViewPage:function(e){if(!this._mergedOptions.viewPath)return this.useRouterMode&&this.$router.push({},null,"".concat(this.parentPath,"/").concat(e[this.primaryKeyFieldCpt]||this.itemIdComputed)),this.activeNestedTab="general",void this.viewFunction(e);this.$router.push(this._mergedOptions.viewPath.replace(":id",e[this.primaryKeyFieldCpt]||this.itemIdComputed).replace("{{id}}",e[this.primaryKeyFieldCpt]||this.itemIdComputed))},createItem:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=4;break}return e.$emit("save",e.selectedItem),e.$emit("change",e.selectedItem),t.abrupt("return",!1);case 4:if(!e.$refs.form){t.next=22;break}if(!(i=e.$refs.form.validate()).then){t.next=16;break}return t.prev=7,t.next=10,i;case 10:i=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),i=t.t0;case 16:if(!(i&&i.length>0)){t.next=20;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 20:t.next=23;break;case 22:console.warn("Unable to find the reference to the schema form on ",e.$route.path);case 23:return e.mergeSelectedItemWithRequestProps(),e.$awEmit("before-create",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),t.abrupt("return",e.$awApi.post(e._url,e.selectedItem,{timeout:e.apiTimeout,params:e.apiQueryParams}).then((function(t){e.selectedItem=Object(o.get)(t,e.apiResponseConfig.dataPath),e.$awEmit("item-created",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),e.$awNotify({title:e.$t("AwesomeDefault.messages.successfullyCreated",{title:e.type}),type:"success"}),e.$awEmit("itemCreated",e.selectedItem,{context:e.mode}),e.nestedElementsNeedRefresh=!0,e.$forceUpdate(),e.close()})).catch(e.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.nestedElementsNeedRefresh=!1})));case 26:case"end":return t.stop()}}),t,null,[[7,13]])})))()},bulkEditItems:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=3;break}return console.warn("AWESOMECRUD ERROR:: No url for submitting"),t.abrupt("return",!1);case 3:if(!e.$refs.form){t.next=21;break}if(!(i=e.$refs.form.validate()).then){t.next=15;break}return t.prev=6,t.next=9,i;case 9:i=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),i=t.t0;case 15:if(!(i&&i.length>0)){t.next=19;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 19:t.next=22;break;case 21:console.warn("Unable to find the reference to the schema form on ",e.$route.path);case 22:e.bulkItems.forEach((function(t){t[e.primaryKeyFieldCpt]&&(t=Object(o.merge)(t,e.selectedItem),e.$awEmit("itemsBulkEdited",t))})),e.close();case 24:case"end":return t.stop()}}),t,null,[[6,12]])})))()},editItem:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=4;break}return e.$emit("save",e.selectedItem),e.$emit("change",e.selectedItem),t.abrupt("return",!1);case 4:if(e.selectedItem[e.primaryKeyFieldCpt]||e.itemIdComputed){t.next=7;break}return console.warn("AWESOMECRUD ERROR:: No primary key on this item",e.selectedItem,e.primaryKeyFieldCpt),t.abrupt("return",!1);case 7:if(!e.$refs.form){t.next=23;break}if(!(s=e.$refs.form.validate()).then){t.next=19;break}return t.prev=10,t.next=13,s;case 13:s=t.sent,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),s=t.t0;case 19:if(!((null===(i=s)||void 0===i?void 0:i.length)>0)){t.next=23;break}return e.$awEmit("validation-errors",{errors:s}),t.abrupt("return");case 23:if(e.mergeSelectedItemWithRequestProps(),e.$awEventBus&&e.$awEventBus.$emit("before-update",{context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),e._selectedItemUrl){t.next=27;break}return t.abrupt("return");case 27:return e.$awApi.put("".concat(e._selectedItemUrl),e.selectedItem,{timeout:e.apiTimeout,params:e.apiQueryParams}).then((function(t){e.$awEmit("item-edited",{data:t.data}),e.$awNotify({title:e.$t("AwesomeDefault.messages.successfullyModified",{title:e.type}),type:"success"}),e.nestedElementsNeedRefresh=!0,e.$forceUpdate(),e.$awEmit("itemEdited",e.selectedItem,{context:e.mode}),e.close()})).catch(e.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.nestedElementsNeedRefresh=!1})),t.abrupt("return",!1);case 29:case"end":return t.stop()}}),t,null,[[10,16]])})))()},createFunction:function(e){this.$awEmit("create",e)},editFunction:function(e){this.activeNestedTab="general",this.$awEmit("edit",e)},viewFunction:function(e){this.$awEmit("view",e)},nestedViewFunction:function(e){this.$awEmit("nestedView",e),this.openModalDebounced()},deleteFunction:function(e){this.$awEmit("delete",e)},bulkEditFunction:function(e){this.$awEmit("bulkEdit",e)},getNestedItem:function(){var e=this;this.mode="view",this._selectedItemUrl&&this.$awApi.get("".concat(this._selectedItemUrl),{params:this.apiQueryParams}).then((function(t){var i;e.selectedItem=0!=(null===(i=e.apiResponseConfig)||void 0===i?void 0:i.dataPath)?Object(o.get)(t,e.apiResponseConfig.dataPath):t.data.body,e.$awEmit("itemFfetched",e.selectedItem),e.$awEmit("item-fetched",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent})})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},customAction:function(e){var t=e.action;return this.$awEmit(this.identity+"-custom-action",t),(null==t?void 0:t.action)&&t.action(e,this)},listUpdated:function(e){this.$awEmit("list-updated",e),this.$awEmit(this.identity+"-list-updated",e)},renderSidebar:function(){},renderTabs:function(){},renderColumns:function(e){return e},renderGroup:function(){},renderForm:function(){},openEditLayoutMode:function(){this.$awEmit("open-edit-layout-mode")},closeEditLayoutMode:function(){this.$awEmit("close-edit-layout-mode")},resetLayout:function(){var e={i:"awesomeForm-".concat(this.identity,"-").concat(Date.now()),x:0,y:0,w:12,h:6,maxW:12,minH:2,legend:this.identity,fields:this.formSchema.fields.map((function(e){return e.model}))};this.$awEmit("layout-resetted",[e])},exportLayout:function(){this.$awExport(this.layout)},onLayoutUpdated:function(e){this.$awEmit("layout-updated",e)},onLayoutFieldsUpdated:function(e){this.$awEmit("layout-fields-updated",e)},getNestedTabsTitle:function(e){return e.tabTitle?e.tabTitle:e.namePlural?e.namePlural:e.title?e.title:e.name?e.name:this.$te("awForm.labels.tabs."+e.identity)?this.$t("awForm.labels.tabs."+e.identity):this.startCase(e.identity)},getNestedActions:function(e){return Object(o.merge)({},y.a,e.actions)},isNestedModelDisplayable:function(e){return void 0===e.tabIsVisible||this.templateParseConditionalField(e.tabIsVisible,{parent:this.selectedItem})},onChange:function(e){this.$emit("change",e)},onModelUpdated:function(e,t){this.$emit("model-updated",e,t),this.$emit("input",e,t)}}},k=(i(395),i(42)),F=Object(k.a)(O,(function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"content aw-form",class:"aw-form-"+t.identity},[s("div",{},[s("div",{staticClass:"row mr-0 ml-0"},[s("div",{staticClass:"col-12",class:"page"===t.displayMode?"p-0":""},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"AwesomeForm",class:(e={modal:t._shouldHaveModalClasses,slide:t._shouldHaveSlideClasses,fade:"fade"===t.displayMode||"modal"===t.displayMode||"fullscreen"===t.displayMode,"page  fade":"page"===t.displayMode,show:this.show},e["display-mode-"+t.displayMode]=!0,e["nested-display-mode-"+t.nestedDisplayMode]=!0,e),attrs:{id:t.identity+"FormModal",tabindex:"-1",role:"dialog"}},[s("div",{class:{"modal-dialog":"page"!==t.displayMode,"modal-dialog-centered":"page"!==t.displayMode,"modal-dialog-scrollable":"page"!==t.displayMode,"modal-nested":t._isNested,"modal-full-height":t._shouldHaveSlideClasses,"modal-fullscreen":"fullscreen"===t.displayMode,"modal-lg":"modal"===t.displayMode||"fade"===t.displayMode},attrs:{role:"document"}},["create"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},[s("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("create-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t._v(" "),t._useCustomLayout&&t._actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+"\n                      ")]):t._e()]):t._e(),t._v(" "),!t.standalone&&!t._isEmbedded||t._actions.close?s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,"fields-list":t._getFieldsList,layout:t.layout},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",t._g({attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}},t.$listeners))]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",t._g({attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}},t.$listeners))]}}],null,!1,1697065833)}):t._e(),t._v(" "),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("VueFormGenerator",t._g({ref:"form",attrs:{schema:t.createFormSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.createFormSchema=e},"model-updated":t.onModelUpdated}},t.$listeners))]:t._e()]}),{selectedItem:t.selectedItem}),t._v(" "),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),t._v(" "),!t._isEmbedded&&t.displayFooter?s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")])]}))],2):t._e()])]):t._e(),t._v(" "),"edit"===t.mode||"view"===t.mode||t._isANestedDetailView?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.editItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},["view"===t.mode||"edit"===t.mode?s("h5",{staticClass:"text-left modal-title mt-0"},[t._t(t.mode+"-form-title",(function(){return[t._v(t._s(t.$t("view"===t.mode?"":"AwesomeCrud.labels.edit"))+" "+t._s(t._name)+"\n                        "),s("b",[t._v(t._s(t._editItemTile))])]}),{item:t.selectedItem})],2):t._e(),t._v(" "),t.customTopActions?s("div",{staticClass:"btn-group m-0 aw-form-header-actions"},[s("AwesomeActionList",{attrs:{actions:t.customTopActions,parentDisplayMode:t.mode,item:t.selectedItem,parent:t.parent,location:"top"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})],1):t._e(),t._v(" "),t._useCustomLayout&&t._actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+"\n                      ")]):t._e()]):t._e(),t._v(" "),t.editLayoutMode||"edit"!==t.mode&&"view"!==t.mode&&!t._isANestedDetailView?t._e():[t._actions.formPagination&&(t.hasPrevious||t.hasNext)?s("div",{staticClass:"ml-1 aw-form-pagination"},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-light btn-sm float-left btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasPrevious,type:"button"},on:{click:function(e){t.hasPrevious&&t.$awEmit("aw-select-previous-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("button",{staticClass:"btn btn-light btn-sm float-right btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasNext,type:"button"},on:{click:function(e){t.hasNext&&t.$awEmit("aw-select-next-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-right"})])])]):t._e()],t._v(" "),!t.standalone&&!t._isEmbedded||t._actions.close?s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.cancel}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e()],2):t._e(),t._v(" "),s("div",{staticClass:"modal-body",class:{"modal-body-nested":t._isANestedDetailView,"view-mode":"view"===t.mode}},[t.nestedModels&&t.nestedModels.length&&"create"!==t.mode&&"list"!==t.nestedLayoutMode?s("ul",{staticClass:"nav nav-tabs mt-0"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link pointer",class:{active:"general"===t.activeNestedTab},attrs:{"data-toggle":"tab"},on:{click:function(e){t.activeNestedTab="general"}}},[t._v("\n                          "+t._s(t.$te("app.nestedtab.labels."+t.identity)?t.$te("app.nestedtab.labels."+t.identity):t.startCase(t.tabTitle||t.name||t.title||t.identity))+"\n                        ")])]),t._v(" "),t._l(t.nestedModels,(function(e,i){return[e&&e.identity&&t.isNestedModelDisplayable(e)?s("li",{key:i,staticClass:"nav-item nested-model-tab-link"},[s("a",{staticClass:"nav-link pointer",class:{active:t.activeNestedTab===e.identity},attrs:{"data-toggle":"tab"},on:{click:function(i){t.activeNestedTab=e&&e.identity||"general"}}},[e.icon?s("i",{class:e.icon}):t._e(),t._v("\n                            "+t._s(t.getNestedTabsTitle(e))+"\n                          ")])]):t._e()]}))],2):t._e(),t._v(" "),t._t("edit-form",(function(){return[s("div",{staticClass:"tab-content",class:{row:"sidebar"===t.nestedLayoutMode}},[t._useCustomLayout?s("div",{staticClass:"row"},[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,layout:t.layout,"fields-list":t._getFieldsList},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}})]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"model-updated":t.onModelUpdated}})]}}],null,!1,3509443529)}):t._e()],1):t._e(),t._v(" "),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("div",{staticClass:"tab-pane nested-tab main-tab fade",class:{"active show":!t.activeNestedTab||"general"===t.activeNestedTab||"list"===t.nestedLayoutMode,"card p-5 ":"list"===t.nestedLayoutMode}},[s("VueFormGenerator",{ref:"form",attrs:{schema:t._formSchemaGrouped,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t._formSchemaGrouped=e},"model-updated":t.onModelUpdated}})],1)]:t._e(),t._v(" "),t.nestedModels&&t.nestedModels.length&&("view"===t.mode||"edit"===t.mode)&&t.selectedItem?[t._l(t.nestedModels,(function(e){return[e&&e.identity&&t.isNestedModelDisplayable(e)?s("div",{key:e.$id,staticClass:"tab-pane nested-tab fade",class:{"active show in":t.activeNestedTab===e.identity||"list"===t.nestedLayoutMode}},["list"===t.nestedLayoutMode?[s("h5",{staticClass:"nested-model-title mt-5 text-primary font-italic mb-0",on:{click:function(i){t.getNestedActions(e).collapse&&(t.nestedModelsCollapseState[e.identity]=!t.nestedModelsCollapseState[e.identity])}}},[t._v("\n                                  "+t._s(t.getNestedTabsTitle(e))+"\n                                  "),s("i",{staticClass:"fa",class:t.nestedModelsCollapseState[e.identity]?"fa-caret-right":"fa-caret-down"})]),t._v(" "),s("hr",{staticClass:"mt-0"})]:t._e(),t._v(" "),s(e&&e.component?e.component:t.AwesomeCrud,t._b({tag:"div",staticClass:"aw-crud-nested-model nested-list",class:t.getNestedActions(e).collapse&&"list"===t.nestedLayoutMode?t.nestedModelsCollapseState[e.identity]?"collapse":"collapse show":"",attrs:{id:"list-collapse-"+e.identity,parent:t.selectedItem,parentIdentity:t.model&&t.model.identity||t.identity,useRouterMode:!1,"crud-needs-refresh":t.nestedElementsNeedRefresh,"needs-refresh":t.nestedElementsNeedRefresh},on:{"input:needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"input:nested-crud-needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"update:nestedElementsNeedRefresh":function(e){return t.nestedElementsNeedRefresh=e}}},"div",e,!1),[s("div",{attrs:{slot:"crud-title"},slot:"crud-title"})])],2):t._e()]}))]:t._e()],2)]}),{selectedItem:t.selectedItem}),t._v(" "),t._t("after-edit-form",null,{selectedItem:t.selectedItem})],2),t._v(" "),!t._isEmbedded&&t.displayFooter?s("div",{staticClass:"modal-footer"},[t._t("edit-modal-footer",(function(){return[t.standalone?t._e():s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:t.cancel}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),t._actions.delete&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-danger btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-trash"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.delete"))+"\n                      ")]):t._e(),t._v(" "),"edit"===t.mode?s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")]):t._e(),t._v(" "),"view"===t.mode&&t._actions.edit&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-info btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.editFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-pencil"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.edit"))+"\n                      ")]):t._e(),t._v(" "),t.customInlineActions?[s("AwesomeActionList",{attrs:{actions:t.customInlineActions,parentDisplayMode:t.mode,item:t.selectedItem,location:"inline"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})]:t._e(),t._v(" "),"view"!==t.mode||t.standalone?t._e():s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.close"))+"\n                      ")])]}))],2):t._e()])]):t._e(),t._v(" "),"bulkEdit"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.bulkEditItems()}}},[s("div",{staticClass:"modal-header bg-primary text-white"},[s("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("bulk-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t._v(" "),t.standalone||t._isEmbedded?t._e():s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cancel()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t.formSchema&&t.formSchema.fields?[s("VueFormGenerator",{ref:"form",attrs:{schema:t.formSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.formSchema=e},"model-updated":t.onModelUpdated}})]:t._e()]}),{selectedItem:t.selectedItem}),t._v(" "),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),t._v(" "),t._isEmbedded?t._e():s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[s("button",{staticClass:"btn btn-default btn-main-style mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")])]}))],2)])]):t._e()])])]),t._v(" "),t._shouldShowBackdrop?s("div",{staticClass:"modal-backdrop backdrop-custom show",class:"display-mode-"+t.displayMode,staticStyle:{background:"#111"},attrs:{id:t.identity+"Backdrop"}}):t._e()])])])])}),[],!1,null,"7c35ccbd",null);t.default=F.exports},343:function(e,t,i){"use strict";i(69),i(316);var s=i(72),a=i(306),n=i.n(a),o=i(318),r=i(315),l={name:"EnyoCrudStatsSection",mixins:[o.a,r.a],components:{},props:{url:{type:String,default:""},entity:{type:String,default:""},statsNeedsRefresh:{type:Boolean,default:!1},store:{type:Array,default:function(){return[]}}},data:function(){return{colors:["card-black","card-purple","card-teal","card-blue","card-success","card-warning","card-info","card-primary","card-danger"],stats:[]}},watch:{statsNeedsRefresh:"getStats",url:"getStats",entity:"getStats"},created:function(){},mounted:function(){this.getStats()},beforeDestroy:function(){},methods:{getStats:n.a.debounce((function(){var e=this;this.$awApi.get(this.url,{}).then((function(t){if(t&&t.data){var i=e.apiResponseConfig&&e.apiResponseConfig.dataPath?n.a.get(t,e.apiResponseConfig.dataPath):t.data;e.stats=i,Array.isArray(i)||(e.stats=Object.entries(i).map((function(e){var t=Object(s.a)(e,2),i=t[0],a=t[1];return{label:i,value:a.value||a,color:a.color,index:a.index}})))}})).catch((function(e){console.error(e)})),this.refreshCompleted()}),100,void 0),refreshCompleted:function(){this.$emit("update:statsNeedsRefresh",!1)},getColor:function(e){var t=this.colors.length;return this.stats[e]&&this.stats[e].class?this.stats[e].class:this.colors[e>=t?e%t:e]}}},d=(i(387),i(42)),c=Object(d.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-12"},[i("div",{staticClass:"row"},e._l(e.stats,(function(t,s){return i("div",{key:t.label,staticClass:"filter-box col-md-3 cl-xs-6"},[i("div",{staticClass:"card card-statistics",class:t.color||e.getColor(s)},[i("div",{staticClass:"box text-center"},[i("h3",{staticClass:"font-light text-white mt-1"},[e._v("\n            "+e._s(t.value)+"\n          ")]),e._v(" "),i("h6",{staticClass:"text-white"},[e._v("\n            "+e._s(e.$t(t.label))+"\n          ")])])])])})),0)])}),[],!1,null,"3e9e3ba0",null);t.a=c.exports},344:function(e,t,i){"use strict";i(24),i(310),i(97),i(170),i(69),i(46),i(70),i(307),i(99),i(355),i(324),i(43),i(101),i(172),i(323),i(349),i(98);var s=i(317),a=i(348),n=i.n(a),o=i(388),r=i.n(o),l=i(306),d=i.n(l),c=i(314),u=i(308),m=i(350),p=i(321),h=i(315),f=i(325),g=i(327),y=i(328),b=i(380),v=i(381),C=i(382),_={name:"AwesomeList",components:{AutoRefreshButton:v.a,AwesomeDisplay:g.a,AwesomeFilter:y.a,AwesomeSegments:b.a,Paginate:r.a,popper:n.a,ProgressBar:C.a},mixins:[u.a,c.a,m.a,p.a,h.a,f.a],props:{columns:{type:Array,default:function(){return[]}},perRow:{type:Number,default:3},perPage:{type:Number,default:6},useGridSystem:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},gridModeItemHeight:{type:[Number,String],default:void 0},listModeItemHeight:{type:[Number,String],default:void 0},imageField:{type:String,description:"The field to use for the image"},titleField:{type:String,description:"The field to use for the title"},subtitleField:{type:String,description:"The field to use for the subtitle"},descriptionField:{type:String,description:"The field to use for the description"},labelsField:{type:String,description:"The field to use for the labels (tags)"},usersField:{type:String,description:"The field to use for the users"},displayedFields:{type:Array,description:"The fields to display on the card"},translations:{type:Object,default:function(){return{"AwesomeList.buttons.increase":"More items per row","AwesomeList.buttons.decrease":"Less items per row","AwesomeList.buttons.refresh":"Refresh","AwesomeList.buttons.itemAction":"Open"}}},styles:{type:Object,default:function(){return{}}},imageClasses:{type:[Object,String],default:"",description:"classes to put around the image"},itemClasses:{type:[Object,String],default:"shadow",description:"classes to put around the item"},imageStyles:{type:[Object,String],default:"",description:"styles to put around the image"},actions:{type:Object,default:function(){return{itemButton:!0,refresh:!0,changeItemsPerRow:!0,pagination:!0,reorder:!1,sort:!0}}},defaultOptions:{type:Object,default:function(){return{fixedHeader:!1,maxHeight:"",pagination:!0,customInlineActions:[],customBulkActions:[]}}},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."}},data:function(){return{itemsPerRow:3,page:0,data:[],advancedFilters:[],search:"",displayAwFilter:!1,columnSortState:"",columnSortDirection:"asc"}},computed:{titleComputed:function(){return!1===this.title?"":this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.pluralName?this.$te(this._model.pluralName)?this.$t(this._model.pluralName):d.a.startCase(this._model.pluralName):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):d.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):d.a.startCase(this._model.name):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):d.a.startCase(this.identity):""},_itemHeight:function(){var e=1===this.itemsPerRow?this.listModeItemHeight:this.gridModeItemHeight;return e?d.a.isString(e)?e:e+"px":"auto"},_pageCount:function(){var e=parseInt(this.serverParams.perPage)||this.perPage;return e&&this.totalCount?Math.ceil(this.totalCount/e):0},itemWrapperClasses:function(){if(!this.useGridSystem)return"";switch(this.itemsPerRow){case 0:case 1:default:return"col-12";case 2:return"col-6";case 3:return"col-4";case 4:return"col-3";case 5:case 6:return"col-2";case 12:return"col-1"}},_paginatedItems:{get:function(){var e=this.serverParams&&this.serverParams.page?this.serverParams.page:1,t=parseInt(this.serverParams.perPage)||this.perPage,i=(e-1)*t;return this.data?"remote"===this.mode?this.data:this.localSearch(this.data,this.search).slice(i,i+t):[]},set:function(e){this.search||(this.data=e,this.onListReordered(e))}},_useClassicLayout:function(){return this.imageField||this.titleField||this.subtitleField||this.descriptionField},advancedFiltersCount:function(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated:function(){return y.a.methods.parseFilter(this.advancedFilters,{dispatch:!1})},_modelDisplayField:function(){return this._model&&this._model.displayField?this._model.displayField:this.primaryKeyFieldCpt?this.primaryKeyFieldCpt:""},_model:function(){return this.model||this.getModelFromStore(this.identity)},_filterableColumns:function(){var e=this;return this.columns.map((function(t){return t.filterOptions&&(t.filterOptions.enabled=(void 0===e.filterable||e.filterable)&&(void 0===t.filterOptions.filterable||t.filterOptions.filterable)),t}))},_isDraggable:function(){return this.actions.reorder&&!this.search},perPageComputed:function(){return"remote"===this.mode?parseInt(this.serverParams.perPage):this.perPage}},watch:{perRow:"resetItemsPerRow",rows:"refreshLocalData",search:function(e){this.onSearch({searchTerm:e})}},created:function(){},beforeMount:function(){},mounted:function(){this.perRow&&this.resetItemsPerRow()},beforeDestroy:function(){},methods:{getAllowedFields:function(e){var t=this,i={};return Object.keys(e).filter((function(e){return!t.displayedFields||!t.displayedFields.length||t.displayedFields.includes(e)})).forEach((function(s){t.columns.forEach((function(t){t.field===s&&(i=Object.assign(i,d.a.pick(e,[s])))}))})),i},getField:function(e){return d.a.find(this.columns,["field",e])||{}},resetItemsPerRow:function(){this.itemsPerRow=this.perRow},increaseItemsPerRow:function(e){this.itemsPerRow+=e},decreaseItemsPerRow:function(e){this.itemsPerRow-=e},setGridMode:function(){this.itemsPerRow=3},setListMode:function(){this.itemsPerRow=1},setMediumGridMode:function(){this.itemsPerRow=2},handleItemClick:function(e,t){this.$emit("itemClicked",t)},handleItemButtonClick:function(e,t){this.$emit("itemButtonClicked",t)},onPaginationChange:function(e){this.serverParams.page=e,"remote"===this.mode&&this.getItems()},advancedFiltering:function(e,t){this.updateParams({advancedFilters:d.a.cloneDeep(t),parsedAdvancedFilters:d.a.cloneDeep(e),page:0}),this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},toggleFilter:function(){this.filterable=!this.filterable,this.filterable||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0}))},localSearch:function(e,t){var i=this,s=e.filter((function(e){if(!i.search)return!0;try{return JSON.stringify(Object.values(e)).match(new RegExp(i.search,"i"))}catch(e){console.warn("err",e)}return!0}));return this.columnSortState?(s=d.a.sortBy(s,this.columnSortState),"asc"===this.columnSortDirection?s:s.reverse()):s},onListReordered:function(e){this.$emit("reorder",e)},toggleColumnSort:function(e){var t=Object(s.a)({},e,!0);this.columnSortState===e?this.columnSortDirection="asc"===this.columnSortDirection?"desc":"asc":this.columnSortState=e,this.$refs.sortPopover.doClose(),"remote"===this.mode&&(t[e]=this.columnSortDirection,this.pushChangesToRouter({query:{sort:t}},!0),this.updateParams({sort:t}),this.getItems({useSkeleton:!0}))}}},w=(i(389),i(42)),A=Object(w.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-list aw-listing"},[i("div",{staticClass:"float-left col-12 col-md-6 pl-0 pr-0"},[e._t("list-header-left"),e._v(" "),e.segmentFieldDefinitionComputed?i("div",{staticClass:"card aw-segment-table-wrapper"},[i("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange}})],1):e._e()],2),e._v(" "),i("div",{staticClass:"float-right text-right col-12 col-md-6 pl-0 pr-0"},[e._t("list-header-right")],2),e._v(" "),i("div",{staticClass:"card aw-list-card aw-list-component awesome-list"},[e.showHeader?i("div",{staticClass:"card-header",class:"aw-list-header "+(e.opts.headerStyle?"colored-header bg-"+e.opts.headerStyle:"")},[e.isRefreshing?i("ProgressBar"):e._e(),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-8"},[i("h3",{staticClass:"mb-0 aw-list-title"},[e._t("list-title",(function(){return[e.titleComputed?[e._v(e._s(e.titleComputed)+" "),i("span",{staticClass:"badge badge-primary d-inline p-1"},[e._v(e._s(e.totalCount))])]:e._e()]})),e._v(" "),e.actions&&e.actions.refresh?i("auto-refresh-button",{attrs:{"auto-refresh":e.autoRefresh,"auto-refresh-interval":e.autoRefreshInterval},on:{refresh:function(t){return e.getItems({useSkeleton:!0})}},model:{value:e.isRefreshing,callback:function(t){e.isRefreshing=t},expression:"isRefreshing"}}):e._e(),e._v(" "),e.actions&&e.actions.changeItemsPerRow?[i("div",{staticClass:"btn-group ml-3",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-sm btn-sm",class:1===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setListMode()}}},[i("i",{class:"fa fa-list"})]),e._v(" "),i("button",{staticClass:"btn btn-sm",class:2===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setMediumGridMode()}}},[i("i",{class:"fa fa-th-large"})]),e._v(" "),i("button",{staticClass:"btn btn-sm",class:3===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setGridMode()}}},[i("i",{class:"fa fa-th"})])])]:e._e(),e._v(" "),i("div",{staticClass:"btn-group float-right aw-list-buttons"},[e._t("top-actions"),e._v(" "),e._actions.sort?i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("popper",{ref:"sortPopover",attrs:{trigger:"clickToOpen",options:{placement:"top"}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[e._v("\n                    "+e._s(e.$t("AwesomeCrud.buttons.sort"))+"\n                  ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},e._l(e.columns,(function(t,s){return i("button",{key:s,staticClass:"dropdown-item col",class:{"text-light bg-primary":e.columnSortState===t.field,"d-none":"__ACTIONS"===t.field},attrs:{type:"button",href:"#"},on:{click:function(i){return e.toggleColumnSort(t.field)}}},[e._v("\n                      "+e._s(t.label)+"\n                      "),e.columnSortState===t.field?i("span",{staticClass:"pull-right"},[e._v("\n                        "+e._s("asc"===e.columnSortDirection?"⬆️":"⬇️"))]):e._e()])})),0)])],1):e._e(),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions&&(e.actions.export||e.actions.import)?i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-simple dropdown-toggle btn-sm",attrs:{slot:"reference",type:"button"},slot:"reference"},[e._v("\n                    "+e._s(e.$t("AwesomeTable.more"))+"\n                  ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("top-more-actions"),e._v(" "),e.actions&&e.actions.export?i("button",{staticClass:"btn btn-sm btn-success btn-simple btn-block",on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                      "+e._s(e.$t("common.buttons.excel"))+"\n                    ")]):e._e(),e._v(" "),i("button",{staticClass:"btn btn-sm btn-default btn-simple btn-block",on:{click:e.exportCurrentArrayToExcel}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                      "+e._s(e.$t("common.buttons.excel-currentpage"))+"\n                    ")])],2)]):e._e(),e._v(" "),e.actions.filter&&e.actions.advancedFiltering?i("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v("\n                  "+e._s(e.$t("AwesomeTable.buttons.filters"))+"\n                  "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+"\n                ")]):e._e()],1)],2)],2),e._v(" "),i("p",{staticClass:"card-category"},[e._t("list-subtitle")],2)]),e._v(" "),i("div",{staticClass:"col-12 col-md-4"},[e.actions.search?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control aw-search-input",attrs:{type:"text",placeholder:"Rechercher"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()]),e._v(" "),i("div",{staticClass:"col-12"},[e.displayAwFilter?i("awesome-filter",{staticClass:"pl-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),e.actions.filter?i("awesome-filter",{attrs:{"display-filters":"",fields:e._filterableColumns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e()],1)])],1):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e._t("list-empty-state",(function(){return[e._paginatedItems&&e._paginatedItems.length?e._e():[i("div",{staticClass:"text-center"},[e.isRefreshing?i("i",{staticClass:"fa fa-spinner fa-spin fa-3x"}):[e._v("\n              "+e._s(e.$t("AwesomeTable.empty"))+"\n              "),i("br"),e._v(" "),i("i",{staticClass:"fa fa-file-o fa-4x"}),i("br"),e._v(" "),e._actions.create?i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.$emit("create")}}},[e._v("\n                "+e._s(e.$t("AwesomeTable.createFirstItem"))+" "),i("i",{staticClass:"fa fa-plus text-primary"})]):e._e()]],2)]]}),{isRefreshing:e.isRefreshing,items:e._paginatedItems}),e._v(" "),e._t("list-items",(function(){return[e._paginatedItems?i("Draggable",{staticClass:"draggable-list w-100 list-responsive",class:e.styles.listWrapperClasses,attrs:{"ghost-class":"moving-card",group:"awesomeList",delay:300,disabled:!e._isDraggable,"delay-on-touch-only":!0},model:{value:e._paginatedItems,callback:function(t){e._paginatedItems=t},expression:"_paginatedItems"}},[e._l(e._paginatedItems,(function(t,s){return[i("div",{key:s,staticClass:"pointer d-flex",class:e.itemWrapperClasses,on:{click:function(i){return e.handleItemClick(i,t)}}},[e._t("list-item",(function(){return[i("div",{staticClass:"card mb-3 aw-list-item flex-fill",class:e.itemClasses,style:{"flex-direction":e.itemsPerRow<2?"row":"column",height:e._itemHeight}},[e._isDraggable?i("i",{staticClass:"draggable-icon fa fa-list"}):e._e(),e._v(" "),e.imageField&&e.getItemProperty(t,e.imageField)?i("img",{staticClass:"card-img-top",class:e.imageClasses,style:e.imageStyles,attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e.getItemProperty(t,e.titleField)?i("h4",{staticClass:"card-title aw-list-item-title",domProps:{innerHTML:e._s(e.getItemProperty(t,e.titleField))}}):e._e(),e._v(" "),e.getItemProperty(t,e.subtitleField)?i("h6",{staticClass:"card-title aw-list-item-subtitle"},[i("AwesomeDisplay",e._b({attrs:{value:e.getItemProperty(t,e.subtitleField),model:t,schema:e.getField(e.subtitleField)}},"AwesomeDisplay",e.getField(e.subtitleField),!1))],1):e._e(),e._v(" "),!e._useClassicLayout&&e._modelDisplayField&&t[e._modelDisplayField]?i("h3",{staticClass:"card-title aw-list-item-title"},[e._v("\n                      "+e._s(t[e._modelDisplayField])+"\n                    ")]):e._e(),e._v(" "),e.getItemProperty(t,e.descriptionField)?i("p",{staticClass:"card-text aw-list-item-description"},[i("AwesomeDisplay",e._b({attrs:{value:e.getItemProperty(t,e.descriptionField),model:t,schema:e.getField(e.subtitleField)}},"AwesomeDisplay",e.getField(e.descriptionField),!1))],1):e._e(),e._v(" "),e.getLabelsProperty(t,e.labelsField)?i("div",{staticClass:"pull-right tags-field"},e._l(e.getItemProperty(t,e.labelsField),(function(t,s){return i("small",{key:s,staticClass:"badge badge-primary list-item-label"},[e._v(e._s(t))])})),0):e._e(),e._v(" "),e.columns&&e.columns.length&&!e._useClassicLayout?e._l(e.getAllowedFields(t),(function(s,a){return i("div",{key:a},[i("small",{staticClass:"aw-list-item-field-label text-info"},[e._v(e._s(e.getField(a).label||a))]),i("br"),e._v(" "),i("AwesomeDisplay",e._b({attrs:{value:s,relation:e.getField(a).relation,"relation-label":e.getField(a).relationLabel,"relation-url":e.getField(a).relationUrl,"relation-key":e.getField(a).relationKey,model:t,schema:e.getField(e.subtitleField)}},"AwesomeDisplay",e.getField(a),!1))],1)})):e._e(),e._v(" "),e.actions.itemButton?i("div",{staticClass:"aw-list-item-action pl-3 pr-3"},[i("button",{staticClass:"btn btn-primary btn-sm",class:e.itemsPerRow>1?"btn-block":"",on:{click:function(i){return e.handleItemButtonClick(i,t)}}},[e._v("\n                        "+e._s(e.$t("AwesomeList.buttons.itemAction"))+"\n                      ")])]):e._e()],2)])]}),{item:t,itemsPerRow:e.itemsPerRow,index:s})],2)]}))],2):e._e()]}),{items:e._paginatedItems,itemsPerRow:e.itemsPerRow,columns:e.columns}),e._v(" "),null==e.actions.pagination||e.actions.pagination?i("hr"):e._e(),e._v(" "),null==e.actions.pagination||e.actions.pagination?i("nav",{staticClass:"text-center"},[i("paginate",{attrs:{"page-count":e._pageCount,"page-range":3,"margin-pages":2,"click-handler":e.onPaginationChange,"prev-text":"<< ","next-text":" >>","container-class":"pagination","page-class":"page-item","prev-class":"page-item","page-link-class":"page-link","prev-link-class":"page-link","next-link-class":"page-link"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e()],2)])])}),[],!1,null,null,null);t.a=A.exports},369:function(e,t,i){},370:function(e,t,i){},371:function(e,t,i){},372:function(e,t,i){},373:function(e,t,i){},374:function(e,t,i){},375:function(e,t,i){},376:function(e,t,i){},377:function(e,t,i){},378:function(e,t,i){},379:function(e,t,i){"use strict";i(364);var s=i(308),a=i(576),n={name:"AwesomeLayout",components:{},mixins:[s.a],props:{layout:{type:Array,required:!0},editMode:{type:Boolean,default:function(){return!1}},fieldsList:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"}},watch:{layout:"layoutWatch"},data:function(){return{internalLayout:[],verticalCompact:!0,height:2,newBlock:{x:0,y:0,w:6,h:6,maxW:12,minH:2,fields:[]}}},methods:{layoutWatch:function(e,t){e!=t&&(this.internalLayout=e)},onLayoutUpdated:function(e){this.$emit("layout-updated",e)},fieldChanged:function(e){this.$emit("layout-fields-updated",e)},addItemToGrid:function(){var e=Object.assign([],this.internalLayout);e.push({x:3*this.internalLayout.length%12,y:this.internalLayout.length+12,w:3,h:3,i:"aw-layout-item-".concat(Object(a.a)()),fields:[]}),this.internalLayout=e,this.$emit("layout-updated",e)},removeItemFromGrid:function(e){var t=Object.assign([],this.internalLayout);t[e]&&t[e].fields&&t[e].fields.length?this.$awNotify({title:this.$t("AwesomeLayout.messages.emptyBlockBeforeDelete"),type:"warning"}):(t.splice(e,1),this.$emit("layout-updated",t))}},computed:{isDraggable:function(){return this.editMode},isResizable:function(){return this.editMode}},created:function(){this.$root.$options.components.draggable||console.error("`Draggable` is missing. Please download vuedraggable and register the component globally!"),this.$root.$options.components.GridLayout||console.error("`GridLayout` is missing. Please download vue-grid-layout and register the component globally!"),this.$root.$options.components.GridItem||console.error("`GridItem` is missing. Please download vue-grid-layout and register the component globally!")},mounted:function(){}},o=(i(394),i(42)),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-layout"},[i("grid-layout",{attrs:{layout:e.internalLayout,"col-num":12,"row-height":80,"is-draggable":e.isDraggable,"is-resizable":e.isResizable,"vertical-compact":e.verticalCompact,margin:[10,10],"use-css-transforms":!0},on:{"update:layout":function(t){e.internalLayout=t},"layout-updated":e.onLayoutUpdated}},e._l(e.internalLayout,(function(t,s){return i("grid-item",{key:t.i,staticClass:"item",attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i||s,maxW:12,minH:3,dragIgnoreFrom:"a, button, .form-element, .draggable-item"}},[i("div",{class:e.editMode?"awesome-layout-list card card-primary p-0":"p-0"},[t.legend||e.editMode?i("div",{staticClass:"draggable-header bg-primary"},[i("div",{staticClass:"legend"},[e.editMode?i("i",{staticClass:"fa fa-pencil"}):e._e(),e._v(" "),e.editMode?i("input",{directives:[{name:"model",rawName:"v-model",value:t.legend,expression:"item.legend"}],staticClass:"form-control ml-2 aw-layout-legend-input",attrs:{type:"text"},domProps:{value:t.legend},on:{input:function(i){i.target.composing||e.$set(t,"legend",i.target.value)}}}):i("p",[e._v(e._s(t.legend))])]),e._v(" "),e.editMode?i("a",{on:{click:function(t){return e.removeItemFromGrid(s)}}},[i("i",{staticClass:"fa fa-trash"})]):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"item-draggable"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:t.fields,group:"fields",disabled:!e.editMode,"ghost-class":"moving-card"},on:{change:e.fieldChanged}},[e.editMode?e._l(t.fields,(function(t,s){return i("div",{key:s},[i("div",{class:e.editMode?"draggable-item card":""},[i("div",{class:e.editMode?"card-body p-2":""},[e._t("field",(function(){return[e._v(e._s(t))]}),{field:t})],2)])])})):e._e(),e._v(" "),e.editMode?e._e():[e._t("fields",(function(){return[e._v("\n                "+e._s(t.fields)+"\n              ")]}),{fields:t.fields})]],2),e._v(" "),t.layout?i("div",[i("AwesomeLayout",{attrs:{"edit-mode":e.editMode,layout:t.layout},on:{"update:layout":function(i){return e.$set(t,"layout",i)},"layout-updated":e.onLayoutUpdated,change:e.fieldChanged},scopedSlots:e._u([{key:"field",fn:function(t){var s=t.field;return i("div",{},[!e.editMode&&s?e._t("field",(function(){return[e._v("\n                  "+e._s(s)+"\n                ")]}),{fields:s}):e._e()],2)}},{key:"fields",fn:function(t){var s=t.fields;return i("div",{},[!e.editMode&&s?[e._t("fields",(function(){return[e._v("\n                    "+e._s(s)+"\n                  ")]}),{fields:s})]:e._e()],2)}}],null,!0)})],1):e._e()],1)])])})),1),e._v(" "),e.editMode?i("section",{staticClass:"awesome-layout-actions"},[i("button",{staticClass:"btn btn-primary btn-add-item ",attrs:{type:"button"},on:{click:function(t){return e.addItemToGrid()}}},[i("i",{staticClass:"fa fa-plus"})]),e._v(" "),i("Draggable",{staticClass:"draggable-list",attrs:{group:"fields","ghost-class":"moving-card",list:e.fieldsList},on:{change:e.fieldChanged}},e._l(e.fieldsList,(function(t,s){return i("div",{key:s},[i("div",{staticClass:"draggable-item card"},[i("div",{staticClass:"card-body p-2"},[e._v("\n            "+e._s(t.model||t.label||t.title||t)+"\n          ")])])])})),0)],1):e._e()],1)}),[],!1,null,"1d1454e0",null);t.a=r.exports},387:function(e,t,i){"use strict";var s=i(332);i.n(s).a},389:function(e,t,i){"use strict";var s=i(333);i.n(s).a},390:function(e,t,i){"use strict";var s=i(334);i.n(s).a},391:function(e,t,i){"use strict";var s=i(335);i.n(s).a},392:function(e,t,i){"use strict";var s=i(336);i.n(s).a},393:function(e,t,i){"use strict";var s=i(337);i.n(s).a},394:function(e,t,i){"use strict";var s=i(338);i.n(s).a},395:function(e,t,i){"use strict";var s=i(339);i.n(s).a},454:function(e,t,i){"use strict";var s=i(369);i.n(s).a},455:function(e,t,i){"use strict";var s=i(370);i.n(s).a},456:function(e,t,i){"use strict";var s=i(371);i.n(s).a},457:function(e,t,i){"use strict";var s=i(372);i.n(s).a},458:function(e,t,i){"use strict";var s=i(373);i.n(s).a},459:function(e,t,i){"use strict";var s=i(374);i.n(s).a},460:function(e,t,i){"use strict";var s=i(375);i.n(s).a},461:function(e,t,i){"use strict";var s=i(376);i.n(s).a},462:function(e,t,i){"use strict";var s=i(377);i.n(s).a},463:function(e,t,i){"use strict";var s=i(378);i.n(s).a},567:function(e,t,i){"use strict";i.r(t),i.d(t,"abstractField",(function(){return a.a})),i.d(t,"apiErrorsMixin",(function(){return H.a})),i.d(t,"AutoProps",(function(){return O})),i.d(t,"AwesomeForm",(function(){return C.default})),i.d(t,"EnyoCrudComponent",(function(){return v.default})),i.d(t,"CrudComponent",(function(){return v.default})),i.d(t,"AwesomeCrud",(function(){return v.default})),i.d(t,"AwesomeKanban",(function(){return U.a})),i.d(t,"AwesomeList",(function(){return q.a})),i.d(t,"AwesomeTable",(function(){return M.a})),i.d(t,"AjaxTable",(function(){return M.a})),i.d(t,"AwesomeDisplay",(function(){return K.a})),i.d(t,"EnyoCard",(function(){return B})),i.d(t,"EnyoCrudStatsSection",(function(){return V.a})),i.d(t,"EnyoSelect",(function(){return D})),i.d(t,"FieldEnyoSelect",(function(){return l})),i.d(t,"FieldFileInput",(function(){return g})),i.d(t,"FieldJsonTextarea",(function(){return b})),i.d(t,"FieldJson",(function(){return b})),i.d(t,"install",(function(){return we})),i.d(t,"LiveEdit",(function(){return N})),i.d(t,"rolesMixin",(function(){return z.a})),i.d(t,"TableAndChartsCard",(function(){return S})),i.d(t,"UploadButton",(function(){return T})),i.d(t,"VueEnyoComponents",(function(){return Ae})),i.d(t,"VueAwesomeComponents",(function(){return Ae})),i.d(t,"FormGenerator",(function(){return a.b})),i.d(t,"notificationsMixin",(function(){return G.a})),i.d(t,"AwesomeActionList",(function(){return W.a})),i.d(t,"AwesomeAction",(function(){return J.a})),i.d(t,"AwesomeFilter",(function(){return Q.a})),i.d(t,"AwesomeFilterValue",(function(){return Y.a})),i.d(t,"AwesomeFilterOperator",(function(){return X.a}));i(24),i(310),i(169),i(69),i(10),i(29),i(100);var s=i(44),a=i(311),n=i(365),o={mixins:[n.a,a.b.abstractField],props:[],data:function(){return{myModel:""}},computed:{fieldOptions:function(){return this.schema&&this.schema.fieldOptions||{}},internalOptions:function(){return this.apiOptions||this.schema.fieldOptions.values||this.schema.fieldOptions.options||this.schema.values},customLabel:function(){if(void 0!==this.schema.fieldOptions&&void 0!==this.schema.fieldOptions.customLabel&&"function"==typeof this.schema.fieldOptions.customLabel)return this.schema.fieldOptions.customLabel},dataUrl:function(){return this.url||this.fieldOptions.url},_trackBy:function(){return this.$props.trackBy||this.fieldOptions.trackBy||this.schema.foreignKey}},watch:{vModelValue:function(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)},value:function(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)}},created:function(){var e=this;this.apiRequestDebounced=_.debounce((function(t){return console.warn("","DEBOUNCED",e),e.loadRemoteEntities(t)}),2e3)},methods:{addTag:function(e,t){var i=this.fieldOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},setIncomingValue:function(e,t,i){var a=this;return Object(s.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e!==t){s.next=5;break}return console.warn("[WARN] ","SAME VALUE",e),s.abrupt("return");case 5:console.warn("[WARN] ","NEW VALUE => setIncomingValue",t,i);case 6:if(console.warn("","INCOMING VALUE REQUESTED IN setIncomingValue SELECT",e,t),!a.dataUrl||a.internalOptions&&!(a.internalOptions.length<1)||i){s.next=11;break}return console.warn("","list is empty i'm going to search more options"),s.next=11,a.apiRequestDebounced(e);case 11:if(!Array.isArray(e)){s.next=14;break}return a.internalValue=a.internalOptions&&a.internalOptions.filter((function(t){var i="string"==typeof t?t:t[a._trackBy];return e.indexOf(i)>-1})),s.abrupt("return");case 14:if(a.internalValue=a.internalOptions&&a.internalOptions.find((function(t){return("string"==typeof t?t:t[a._trackBy])==e})),console.warn("incoming value ",e,a.dataUrl,a.internalValue),a.internalValue||!a.dataUrl||i){s.next=22;break}return console.warn("[fieldES]","remote load",e),s.next=20,a.apiRequestDebounced(e);case 20:s.sent&&(console.warn("","take 2",e,a.internalOptions.length),a.setIncomingValue(e,null,!0));case 22:case"end":return s.stop()}}),s)})))()},updateSelected:function(e){var t=this;if(this.internalValue=e,e&&"string"!=typeof e&&"number"!=typeof e)if(Array.isArray(e)){var i=e.map((function(e){return t._trackBy&&e[t._trackBy]?e[t._trackBy]:e}));this.$emit("input",i),this.value=i}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},onSearchChange:function(e,t){var i=this.fieldOptions.onSearch;console.warn("onSearch",e),"function"==typeof i?i(e,t,this.options):this.apiRequestDebounced(e)},onSelect:function(){},onRemove:function(){},onOpen:function(){},onClose:function(){}}},r=i(42),l=Object(r.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("enyo-select",{attrs:{id:e.fieldOptions.id,options:e.internalOptions,value:e.internalValue,multiple:e.fieldOptions.multiple,"track-by":e._trackBy||null,label:e.fieldOptions.label||null,max:e.schema.max||e.fieldOptions.max||null,searchable:e.schema.searchable||e.fieldOptions.searchable||!0,"internal-search":e.schema.internalSearch||e.fieldOptions.internalSearch||!e.dataUrl,disabled:e.disabled,url:e.dataUrl},on:{"search-change":e.apiRequestDebounced,input:e.updateSelected},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null).exports,d=i(45),c=(i(171),i(70),i(43),i(312),i(72)),u={name:"Base64Upload",props:{imageSrc:[String,Object],inputClass:String,disabled:[String,Boolean],readonly:[String,Boolean],imageStyle:Object,type:{type:String,default:"text"},placeholder:{type:String,default:"Drag and drop a file (or click here)"},accept:{type:String,default:""}},data:function(){return{src:this.imageSrc,name:""}},computed:{isImage:function(){return this.src&&this.type&&0===this.type.indexOf("image")||this.src&&this.src.type&&0===this.src.type.indexOf("image")},srcComputed:function(){var e=this.src||this.imageSrc;return e?e&&e.base64?0===(e=e&&e.base64?e.base64:e).indexOf("data:")?e:"data:".concat(this.type,";base64,").concat(e):e:""},nameComputed:function(){return this.name?this.name:this.src&&this.src.name||this.imageSrc&&this.imageSrc.name||""}},methods:{onChange:function(e){var t=this;if(e.target.files&&e.target.files[0]){var i=e.target.files[0],s=new FileReader;s.addEventListener("load",(function(e){t.src=e.target.result;var s=t.src.split(","),a=Object(c.a)(s,2)[1];t.name=i.name||t.src&&t.src.name,t.$forceUpdate(),t.$emit("change",{size:i.size,type:i.type,name:i.name,base64:a})})),s.readAsDataURL(i)}}}},m=(i(454),Object(r.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"base64-upload"},[i("i",{staticClass:"fa fa-upload text-primary upload-icon"}),e._v(" "),e.isImage?i("img",{style:e.imageStyle,attrs:{src:e.srcComputed}}):e._e(),e._v(" "),e.isImage?e._e():i("p",{staticClass:"form-control",class:e.inputClass},[e._v(e._s(e.name||e.nameComputed||e.placeholder))]),e._v(" "),i("input",{attrs:{type:"file",disabled:e.disabled||e.readonly,accept:e.isImage?"image/*":"*"},on:{change:e.onChange}})])}),[],!1,null,"b1f28fe4",null).exports),p={name:"UploadButtonToggle",props:{value:Boolean},data:function(){return{}},methods:{onClick:function(){this.$emit("input",!this.value),this.$emit("change",!this.value)}}},h=Object(r.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("small",{staticClass:"text-right",on:{click:e.onClick}},[i("i",{staticClass:"fa text-primary",class:{"fa-upload":!e.value,"fa-link":e.value}}),e._v("\n  "+e._s(e.value?e.$t("AwesomeForm.labels.provideFileInstead"):e.$t("AwesomeForm.labels.provideUrlInstead"))+"\n")])}),[],!1,null,null,null).exports,f={name:"field-filePicker",components:{Base64Upload:m,UploadButtonToggle:h},mixins:[a.b.abstractField],data:function(){return{refresh:Date.now(),type:this.schema&&this.schema.fieldOptions&&(this.schema.fieldOptions.type||this.schema.fieldOptions.inputType),inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass,urlFieldIsVisible:!1}},computed:{placeholderComputed:function(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder},valueIsNotObject:function(){return!this.value||"object"!==Object(d.a)(this.value)}},watch:{value:function(e,t){e!==t&&(this.refresh=Date.now())}},mounted:function(){this.oldValue=this.value},beforeDestroy:function(){},methods:{onChangeImage:function(e){e&&e.type.indexOf("image")>-1&&(this.type=e.type),this.value=e}}},g=(i(455),Object(r.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group field-file-input"},[i("div",{staticClass:"d-flex"},[e.urlFieldIsVisible?e._e():i("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}})],1),e._v(" "),i("div",{staticClass:"d-flex p-0 mt-1"},[e.urlFieldIsVisible&&e.valueIsNotObject?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control mt-1 p-1",attrs:{type:"text",placeholder:"Paste and url here"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e()]),e._v(" "),i("UploadButtonToggle",{model:{value:e.urlFieldIsVisible,callback:function(t){e.urlFieldIsVisible=t},expression:"urlFieldIsVisible"}})],1)}),[],!1,null,null,null).exports),y={name:"field-json-textarea",mixins:[a.b.abstractField],data:function(){return{innerValue:"",warning:"",typing:!1,debounce:null}},computed:{},watch:{value:function(e,t){e!==t&&(this.innerValue=JSON.stringify(e,null,2))}},beforeDestroy:function(){},methods:{saveJson:function(e){var t=this;this.typing=!0,clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.warning="",t.typing=null,t.innerValue=e.target.value;try{t.innerValue&&(t.value=JSON.parse(t.innerValue))}catch(e){t.warning="common.messages.invalid_json"}}),300)}}},b=(i(456),Object(r.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-json-text-editor"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control field-json-textarea",attrs:{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.innerValue},on:{input:[function(t){t.target.composing||(e.innerValue=t.target.value)},e.saveJson]}}),e._v(" "),i("div",{staticClass:"text-right"},[e.warning?i("div",{staticClass:"text-danger"},[i("i",{staticClass:"fa fa-exclamation-circle"}),e._v("\n      "+e._s(e.$t(e.warning))+"\n    ")]):e._e(),e._v(" "),e.warning||e.typing||!this.innerValue?e._e():i("div",{staticClass:"text-success"},[i("i",{staticClass:"fa fa-check"})]),e._v(" "),e.typing?i("div",{staticClass:"text-info"},[e._v("\n      ...\n    ")]):e._e()])])}),[],!1,null,null,null).exports),v=i(319),C=i(342);i(97),i(170),i(173),i(177),i(46),i(174),i(99),i(324),i(101),i(172),i(323),i(71),i(320),i(98);function w(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var A={name:"AutoProps",model:{prop:"componentProps",event:"input"},props:{component:{type:[Object,String],required:!0},documentation:{type:Object},ignoreMixins:{type:Boolean,default:!1},skipProps:{type:Array,default:function(){return[]}},docked:{type:Boolean,default:!0},folded:{type:Boolean,default:!1},componentProps:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{merged:this.process(this.component,this.documentation),typesForCodeTag:["array","object","function"],defaultProps:{},inputedProps:{},debug:!1,isDocked:void 0,isFolded:void 0}},mounted:function(){this.merged.props&&(this.defaultProps=this.getDefaultProps(),this.inputedProps=Object.assign({},this.defaultProps,this.componentProps),this.updateModel()),this.dockedComputed&&document.body.classList.add("docked-auto-props")},getDoc:function(e,t,i){return this.methods.process(e,t,i)},beforeDestroy:function(){document.body.classList.remove("docked-auto-props")},watch:{dockedComputed:function(){this.dockedComputed?document.body.classList.add("docked-auto-props"):document.body.classList.remove("docked-auto-props")}},computed:{mergedProps:function(){try{return Object.assign({},this.defaultProps,this.componentProps,this.inputedProps)}catch(e){return console.warn("[mergedProps] erroror while merging",e),{}}},rowDisplayMode:function(){return this.docked&&!this.debug?"div":"tr"},colDisplayMode:function(){return this.docked&&!this.debug?"div":"td"},dockedComputed:function(){return void 0!==this.isDocked&&null!==this.isDocked?this.isDocked:this.docked},foldedComputed:function(){return void 0!==this.isFolded&&null!==this.isFolded?this.isFolded:this.folded}},methods:{getDefaultProps:function(){var e=this,t={};return Object.keys(this.merged.props).forEach((function(i){var s=e.merged.props[i];if(!e.componentProps[i]&&s.default&&"undefined"!==s.default){var a=s.default;-1===["function"].indexOf(s.type)&&"function"==typeof a&&(a=a());try{a=JSON.parse(a)}catch(e){console.warn("[getDefaultProps] try catch error",i,a,s.type,e.message,e)}t[i]=a}})),t},process:function(e,t,i){var s=this.merge(e,t);return i||this.ignoreMixins||s.mixins&&(s.props=this.merge(this.getPropsFromMixins(s.mixins),s.props)),s.props&&(s.props=this.processProps(s.props)),s},sanitize:function(e){var t=(e=e.trim()).match(/^[ \t]*(?=\S)/gm);if(!t)return e;var i=Math.min.apply(Math,t.map((function(e){return e.length}))),s=new RegExp("^[ \\t]{".concat(i,"}"),"gm");return i>0?e.replace(s,""):e},getPropsFromMixins:function(e){return e.reduce((function(e,t){return Object.assign(e,t.props),e}),{})},processProps:function(e){var t=this;return(Array.isArray(e)?e:Object.keys(e)).reduce((function(i,s){var a=new Proxy(e[s]||{},t.basicArrayProxy),n={};return n=Object.assign(n,{type:t.getType(a.type),required:a.required||!1,values:a.values,default:t.getDefault(a.default,a.type,n),note:a.note||""}),i[s]=n,i}),{})},basicArrayProxy:function(e,t){return t in e?e[t]:void 0},getDefault:function(e,t,i){var s=this.getType(t),a=w(e);if(void 0===e)return"undefined";if("function"===a){if(["array","object"].some((function(e){return s.includes(e)}))&&!s.includes("function")){var n=e();return i.defaultTypeStr=w(n),JSON.stringify(n,null,2)}return i.defaultTypeStr="function",e.toString()}return i.defaultTypeStr=a,JSON.stringify(e)},getType:function(e){return null==e?"any":"function"===w(e)?w(e()):Array.isArray(e)?e.map(this.getType).join("|"):w(e)},merge:function(e,t){return Object.assign({},e,t)},hasMixins:function(e){return void 0!==e.mixins},updateModel:function(){this.$emit("input",this.mergedProps)},setProp:function(e,t,i){this.$set(this.inputedProps,t,i),"TEXTAREA"===e.target.nodeName&&this.$set(this.inputedProps,t,JSON.parse(e.target.value))}}},O=(i(457),Object(r.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.merged?i("article",{staticClass:"propdoc aw-auto-props"},[i("div",[e._t("default",(function(){return[i(e.component,e._b({tag:"div"},"div",e.mergedProps,!1))]}),{userProps:e.mergedProps})],2),e._v(" "),e.merged.props?i("section",{staticClass:"props prop-section-docked",class:{"prop-section-folded":e.foldedComputed}},[i(e.dockedComputed&&!e.debug?"div":"table",{tag:"table"},[i("thead",[i(e.rowDisplayMode,{tag:"tr",staticClass:"proprow props-header"},[e.dockedComputed?i("div",{staticClass:"component-name",on:{click:function(t){e.isFolded=!e.foldedComputed}}},[e._v("\n            "+e._s(e.merged.name)+" "),i("i",{staticClass:"fa",class:e.foldedComputed?"fa-plus":"fa-times"})]):e._e(),e._v(" "),i(e.colDisplayMode,{tag:"td",staticClass:"propcol name"},[e._v("\n            Name\n          ")]),e._v(" "),i(e.colDisplayMode,{tag:"td",staticClass:"propcol default"},[e._v("\n            Config\n          ")]),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol default"},[e._v("\n            Type\n          ")]):e._e(),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol default"},[e._v("\n            Value\n          ")]):e._e(),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol notes"},[e._v("\n            notes\n          ")]):e._e()],1)],1),e._v(" "),e.foldedComputed?e._e():i("tbody",[e._l(e.merged.props,(function(t,s){return[-1===e.skipProps.indexOf(s)?i(e.rowDisplayMode,{key:s,tag:"tr",staticClass:"proprow"},[i(e.colDisplayMode,{tag:"td",staticClass:"propcol name",class:{required:t.required}},[i("span",[e._v(e._s(s))])]),e._v(" "),i(e.dockedComputed&&!e.debug?"div":"tr",{tag:"td",staticClass:"propcol default"},["string"===t.type?[t.values&&Array.isArray(t.values)?[i("select",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.inputedProps,s,t.target.multiple?i:i[0])}}},e._l(t.values,(function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]:e._e(),e._v(" "),t.values?e._e():[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control input-xs",attrs:{type:"text"},domProps:{value:e.inputedProps[s]},on:{input:[function(t){t.target.composing||e.$set(e.inputedProps,s,t.target.value)},e.updateModel]}})]]:"object"===t.type||"array"===t.type?[i("textarea",{staticClass:"form-control input-xs",attrs:{rows:"10",type:"text"},domProps:{value:JSON.stringify(e.mergedProps[s],null,2)},on:{input:function(t){return e.setProp(t,s,e.mergedProps[s])}}})]:"boolean"==t.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.inputedProps[s])?e._i(e.inputedProps[s],"1")>-1:e.inputedProps[s]},on:{input:e.updateModel,change:function(t){var i=e.inputedProps[s],a=t.target,n=!!a.checked;if(Array.isArray(i)){var o=e._i(i,"1");a.checked?o<0&&e.$set(e.inputedProps,s,i.concat(["1"])):o>-1&&e.$set(e.inputedProps,s,i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.inputedProps,s,n)}}})]:"number"==t.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control input-xs",attrs:{type:"number"},domProps:{value:e.inputedProps[s]},on:{change:e.updateModel,input:function(t){t.target.composing||e.$set(e.inputedProps,s,t.target.value)}}})]:[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control input-xs",attrs:{type:"text"},domProps:{value:e.inputedProps[s]},on:{input:[function(t){t.target.composing||e.$set(e.inputedProps,s,t.target.value)},e.updateModel]}})]],2),e._v(" "),e.debug?i(e.rowDisplayMode,{tag:"td",staticClass:"propcol type"},[e._v("\n              "+e._s(t.type)+"\n              "+e._s(t.defaultTypeStr)+"\n            ")]):e._e(),e._v(" "),e.debug?i(e.rowDisplayMode,{tag:"td",staticClass:"propcol value"},[e._v("\n              default:\n              "),i("pre",[e._v(e._s(e.defaultProps[s]))]),e._v(" "),i("br"),e._v("\n              inputed:\n              "),i("pre",[e._v(e._s(e.inputedProps[s]))]),e._v(" "),i("br"),e._v("\n              merged:\n              "),i("pre",[e._v(e._s(e.mergedProps[s]))]),e._v(" "),i("br")]):e._e(),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol notes"},[e._v("\n              "+e._s(t.note)+"\n            ")]):e._e()],1):e._e()]}))],2)])],1):e._e()]):e._e()}),[],!1,null,"7cd975f4",null).exports),k=(i(307),i(309)),F={name:"EnyoChartCard",components:{},props:{classes:String,headerClasses:String,chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:function(){return{}}},chartData:{type:Object,default:function(){return{labels:[],series:[]}}},responsiveOptions:[Object,Array],graphNeedsRefresh:{type:Boolean,default:!1}},data:function(){return{chartist:null,chartId:"no-id",chart:null,animationsClasses:""}},computed:{chartClasses:function(){return"".concat(this.class||""," ").concat(this.animationsClasses," ")},$Chartist:function(){return this.chartist}},watch:{graphNeedsRefresh:"initChart",chartData:"initChart",chartOptions:"initChart"},mounted:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(63).then(i.t.bind(null,568,7));case 2:e.chartist=t.sent,e.updateChartId(),setTimeout((function(){e.initChart()}),100);case 6:case"end":return t.stop()}}),t)})))()},methods:{initChart:function(){var e="#".concat(this.chartId),t={},i={},s={};if(this.$Chartist){switch(this.chartType){case"Pie":t={series:this.chartData.series[0],labels:this.chartData.labels},i=Object(k.a)(Object(k.a)({},this.chartOptions),{},{labelInterpolationFnc:function(e,i){return"".concat(e," (").concat(Math.round(t.series[i]/t.series.reduce((function(e,t){return e+t}))*100),"%)")}}),this.chart=this.$Chartist[this.chartType](e,t,i,this.responsiveOptions);break;case"Line":s=Object(k.a)(Object(k.a)({},this.chartOptions),{},{plugins:[this.$Chartist.plugins.ctPointLabels({textAnchor:"middle"})]}),this.chart=this.$Chartist[this.chartType](e,this.chartData,s,this.responsiveOptions);break;case"Bar":this.chart=this.$Chartist[this.chartType](e,this.chartData,this.chartOptions,this.responsiveOptions)}if(this.$emit("initialized",this.chart),this.$emit("update:graphNeedsRefresh",!1),window.matchMedia)if(window.matchMedia("print").matches)return;"Line"===this.chartType&&this.animateLineChart(),"Bar"===this.chartType&&this.animateBarChart(),"Pie"===this.chartType&&this.animatePieChart()}},updateChartId:function(){var e=(new Date).getTime().toString(),t=this.getRandomInt(0,e);this.chartId="div_".concat(t)},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},animateLineChart:function(){var e=this,t=0;this.chart&&(this.chart.on("draw",(function(i){"line"===i.type||"area"===i.type?i.element.animate({d:{begin:600,dur:700,from:i.path.clone().scale(1,0).translate(0,i.chartRect.height()).stringify(),to:i.path.clone().stringify(),easing:e.$Chartist.Svg.Easing.easeOutQuint}}):"point"===i.type&&(t++,i.element.animate({opacity:{begin:80*t,dur:500,from:0,to:1,easing:"ease"}}))})),t=0)},animateBarChart:function(){var e=0;this.chart&&this.chart.on("draw",(function(t){"bar"===t.type&&(e++,t.element.animate({opacity:{begin:80*e,dur:500,from:0,to:1,easing:"ease"}}))}))},animatePieChart:function(){var e=0;this.chart&&this.chart.on("draw",(function(t){"slice"===t.type&&(e++,t.element.animate({opacity:{begin:80*e,dur:150,from:0,to:1,easing:"ease"}}))}))}}},$=Object(r.a)(F,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card",class:e.chartClasses},[e.$slots.header?i("div",{staticClass:"card-header",class:e.headerClasses},[e._t("header")],2):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[i("div",{staticClass:"ct-chart",attrs:{id:e.chartId}})]),e._v(" "),e.$slots.footer?i("div",{staticClass:"card-footer"},[e._t("footer")],2):e._e()])}),[],!1,null,null,null).exports,M=i(322),P=i(306),I=i.n(P),x={name:"TableAndChartsCard",introduction:"A component that display graphs to go along an ajaxTable list",token:"\n  <table-and-charts-card\n  :title=\"'Visites par ' + $t('common.labels.' + activeTab)\"\n  :table-columns=\"[{field: activeTab, type:'date'}, {field:'value', label:'#'}]\"\n  :data-source=\"performanceStats.user_visit[activeTab].list\"\n  :needs-refresh.sync=\"tableNeedsRefresh\"\n  :table-options=\"{headerStyle: 'primary', actions:{noActions: true, filter: false, refresh: false} }\"\n  :chart-options=\"{headerStyle: 'primary' }\"\n  :chart-col-key=\"activeTab\"\n\n  ></table-and-charts-card>",description:"",components:{EnyoChartCard:$,AwesomeTable:M.a},props:{tableColumns:{type:Array,required:!0},title:String,initialState:{type:String,default:"table"},identity:{type:[String,Number],default:function(){return Date.now()}},chartOptions:{type:Object,default:function(){return{headerStyle:"primary"}}},tableOptions:{type:Object,default:function(){return{headerStyle:"primary"}}},tableActions:{type:Object,default:function(){return{noActions:!0,filter:!1}}},chartRowKey:{type:String,default:function(){return"value"}},chartColKey:{type:String,default:function(){return"date"}},dataSource:{type:Array,required:!0},className:String,needsRefresh:Boolean},data:function(){return{currentState:this.initialState,internalRefreshRequested:!1,fullscreen:!1,pieResponsiveOptions:[["screen and (min-width: 640px)",{chartPadding:30,labelOffset:100,labelDirection:"explode"}],["screen and (min-width: 1024px)",{labelOffset:80,chartPadding:20}]]}},methods:{selectProp:function(e,t){return e.map((function(e){return I.a.get(e,t)}))},setTab:function(e){this.currentState=e},toggleFullscreen:function(){var e=this;this.fullscreen=!this.fullscreen,this.internalRefreshRequested=!0,setTimeout((function(){e.internalRefreshRequested=!1}),200)}}},S=(i(458),Object(r.a)(x,(function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"card-table-and-chart",class:(e={"card-stats-fullscreen":t.fullscreen},e[t.className]=t.className,e)},["table"===t.currentState?s("AwesomeTable",{attrs:{identity:t.identity,title:t.title,columns:t.tableColumns,rows:t.dataSource,"table-needs-refresh":t.needsRefresh||t.internalRefreshRequested,perPage:t.tableOptions?t.tableOptions.perPage:"",options:t.tableOptions,actions:t.tableActions}},[s("template",{slot:"table-top-actions"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v("\n        Barres\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v("\n        Graphe\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v("\n        Camembert\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])],2):t._e(),t._v(" "),"bar"===t.currentState?s("enyo-chart-card",{attrs:{identity:t.identity,"chart-type":"Bar","chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v("\n        "+t._s(t.title)+"\n        "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v("\n            Liste\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v("\n            Graphe\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v("\n            Camembert\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),t._v(" "),"line"===t.currentState?s("enyo-chart-card",{attrs:{"chart-type":"Line",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v("\n        "+t._s(t.title)+"\n        "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v("\n            Liste\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v("\n            Barres\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v("\n            Camembert\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),t._v(" "),"pie"===t.currentState?s("enyo-chart-card",{attrs:{"chart-type":"Pie",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"responsive-options":t.pieResponsiveOptions,"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v("\n        "+t._s(t.title)+"\n        "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v("\n            Liste\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v("\n            Barres\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v("\n            Graphe\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e()],1)}),[],!1,null,null,null).exports),R={name:"EnyoSelect",components:{},props:{options:{type:Array,default:function(){return[]}},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],internalSearch:[Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},mixins:[n.a],data:function(){return{isLoading:!1,apiOptions:!1}},watch:{},computed:{filteredProps:function(){var e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e}},methods:{},created:function(){this.$root.$options.components.multiselect||console.error("`vue-multiselect` is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},D=(i(459),Object(r.a)(R,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("multiselect",e._b({attrs:{value:e.internalValue||e.value,searchable:e.searchable,"internal-search":e.internalSearch,loading:e.isLoading,options:e.internalOptions,label:e.label},on:{input:e.updateSelected,"search-change":e.loadRemoteEntities}},"multiselect",e.filteredProps,!1),[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("\n      "+e._s(e.noResult)+"\n    ")])])],1)}),[],!1,null,null,null).exports),L=(i(110),i(26),{name:"UploadButton",inheritAttrs:!1,props:{name:String,options:Object},computed:{},mounted:function(){this.reset()},methods:{reset:function(){var e=this.$refs.inputButton;e&&(e.value="")},buttonClick:function(e){var t=this.$refs.inputButton;t&&t.click()},filesChange:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var i=t[0];if(this.options.maxSize){var s=i.size&&i.size/Math.pow(1e3,2);if(s>this.options.maxSize)return void this.$awNotify({message:"Upload ".concat(s," size exceeding"),type:"warning"})}this.options.upload&&this.uploadFiles(e),this.options.base64&&this.base64(e,i)}},uploadFiles:function(e){var t=this,i=new FormData,s=e.target.name,a=e.target.files;Array.from(Array(a.length).keys()).map((function(e){i.append(s,a[e],a[e].name)})),this.options.targetUrl?this.options.method?this.$awApi[this.options.method.toLowerCase()](this.options.targetUrl,i,{timeout:6e4}).then((function(e){t.$emit("uploaded",e.data)})).catch((function(e){t.$emit("upload-failed",e.response?e.response.data:e)})).finally((function(){setTimeout((function(){t.reset()}),300)})):this.$awNotify({message:"Upload Method is Required",type:"warning"}):this.$awNotify({message:"The Upload Url is Required",type:"warning"})},base64:function(e,t){var i=this,s=new FileReader;s.onload=function(e){var t=e.target.result;t&&i.$emit("base64",t)},s.readAsDataURL(t)}}}),T=Object(r.a)(L,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"clearfix"},[t("button",{class:this.options.class||"btn btn-info",attrs:{type:"button"},on:{click:this.buttonClick}},[t("i",{staticClass:"fa fa-file-excel"}),this._v(" "+this._s(this.options.label||"Upload")+"\n  ")]),this._v(" "),t("input",{ref:"inputButton",staticStyle:{display:"none"},attrs:{type:"file",name:"file",visbility:"hidden"},on:{change:this.filesChange}})])}),[],!1,null,null,null).exports,E={name:"LiveEdit",props:{value:{type:[Number,String,Object],required:!1},type:{type:String,default:"text",values:["text","checkbox","date","select","number","textarea"]},editClass:{type:String,default:""},selectValues:{type:Array,default:function(){return[]}},selectOptions:{type:Object,default:function(){return{value:"value",label:"label",multiple:!1}}},placeholder:{type:String,required:!1,default:""}},data:function(){return{isEditable:!1,originalValue:this.value,modelvalue:this.value}},computed:{_selectValues:function(){var e=this;return this.selectValues?this.selectValues.map((function(t){return"object"===Object(d.a)(t)?{value:t[e.selectOptions.value],label:t[e.selectOptions.label]}:{value:t,label:t}})):[]}},watch:{modelvalue:function(e){this.$emit("input",e)},value:function(e,t){e!==t&&(this.modelvalue=e)}},methods:{saveEdit:function(){this.isEditable=!1,this.$emit("input",this.modelvalue),this.$emit("change",this.modelvalue)},clearEdit:function(){this.isEditable=!1,this.modelvalue=this.originalValue,this.$emit("change",this.modelvalue)}}},N=(i(460),Object(r.a)(E,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isEditable?["text"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),"number"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"number",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),"checkbox"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"checkbox",placeholder:e.placeholder},domProps:{value:!0,checked:Array.isArray(e.modelvalue)?e._i(e.modelvalue,!0)>-1:e.modelvalue},on:{change:function(t){var i=e.modelvalue,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=e._i(i,!0);s.checked?n<0&&(e.modelvalue=i.concat([!0])):n>-1&&(e.modelvalue=i.slice(0,n).concat(i.slice(n+1)))}else e.modelvalue=a}}})]:e._e(),e._v(" "),"date"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"date",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),"select"===e.type?[i("select",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{placeholder:e.placeholder,multiple:e.selectOptions.multiple},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelvalue=t.target.multiple?i:i[0]}}},e._l(e._selectValues,(function(t,s){return i("option",{key:s,domProps:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0)]:e._e(),e._v(" "),"textarea"===e.type?[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),i("button",{staticClass:"btn-edit",attrs:{title:"Save"},on:{click:function(t){return e.saveEdit()}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA2ElEQVQokX3RMUpEQRAE0DcfkUWWRQzFQA/hBgZewUA8iRgabmSgVzARTDXZVIy8gJEYiYGRGGywfH4bbCvjX7VgmKanq7qoKSEUpcEaGj/RhpjVjZW893GMITrM8m1elEvchGhrwjbucIYnHGCMUdbDolyFaPsWuhTZxAZecYJd7Ol5/sAFpjjEDh5DvOE+XXxbgnec9kTaDKT76teEdUwyrRq3tUhNGOWZoM3eFo7w8BuhsYjzpSI0ObO04dkivgGueyKruekcSvXTA3+jwzxEV0L8M7eMTwFuNUa403LOAAAAAElFTkSuQmCC"}})]),e._v(" "),i("button",{staticClass:"btn-edit",attrs:{title:"Clear / reset"},on:{click:function(t){return e.clearEdit()}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA60lEQVQokY3RPUpDQRQF4O89HhaP+CoJIYWluIBgYSFWggg2WroCNyFWQayyBAtXIGgpYp1S0rqFGLVRMzZ3zJTOFAP3nsP5GUmCBh3WktVFix7qPKsCvIsTPOM+SZ+VaoAzrOMGr0lawhCPSJgFqI9rzPGBS/SSpME33rHENi5wiOOw84ZF7GX/IzzgJ5S+4l2E0uAvV4SrsYdpADPpFv2yiDpUNnCELavTYAcHlaot5jqMI2C2MS3szXCaK4dNvMRyjquwV2aaoMuEFudBGkeldRRxhyfsoylDt6HUFb/cBHmYwUlSZZn/nl8EkGJCLlPUYQAAAABJRU5ErkJggg=="}})])]:[i("span",{domProps:{innerHTML:e._s(e.modelvalue||e.placeholder)}}),e._v(" "),i("button",{staticClass:"btn-edit",attrs:{title:"Edit"},on:{click:function(t){e.isEditable=!0}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA0ElEQVQokX3SoU4DURCF4e82G0I2TdMgKgh9A0QVD1BBeIkaLLpVGCSSJ0BUIUlwhARVh0KAQZAUDIZUIJmaS1N2u51xkzPn/jNzUwhNkaQSRYjFqhgNiQ6uMEVvVW8Qt3GKZwRu0A2h2ICxhzGOcJdf2keJ76pziUs84AvvmOCwhpSdLrL4I6O8YPDPNIt3cY6nNfEbhtX5Whn9BH3M0cMnRniszvjX0MUBrvGKsxCzEL+142SkY9zjFkO0mu6TQkhSgZ1s8FNzXV/7tq+xKZYdlHQTgFOznwAAAABJRU5ErkJggg=="}})])]],2)}),[],!1,null,"544c2cea",null).exports),j={name:"EnyoCard",props:{className:String,headerClass:String,bodyClass:String,footerClass:String}},B=Object(r.a)(j,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"card "+e.className},[e.$slots.image?i("div",{staticClass:"card-image"},[e._t("image")],2):e._e(),e._v(" "),e.$slots.header?i("div",{staticClass:"card-header",class:e.headerClass},[e._t("header")],2):e._e(),e._v(" "),i("div",{staticClass:"card-body",class:e.bodyClass},[e._t("default")],2),e._v(" "),e.$slots.footer?i("div",{staticClass:"card-footer",class:e.footerClass},[i("hr"),e._v(" "),e._t("footer")],2):e._e()])}),[],!1,null,null,null).exports,V=i(343),U=i(340),q=i(344),K=i(327),H=i(314),G=i(359),z=i(363),W=i(341),J=i(398),Q=i(328),Y=i(397),X=i(385),Z=i(421),ee=i.n(Z),te=i(477),ie=i.n(te),se=i(405),ae=i(346),ne=i.n(ae),oe=i(402),re=i.n(oe),le=i(399),de=i.n(le);i(400);ne.a.extend(re.a);var ce={mixins:[a.b.abstractField],components:{DateRangePicker:de.a},props:{},mounted:function(){this.inputId=I.a.uniqueId("datetime_")},computed:{fieldOptions:function(){var e=this.schema&&this.schema.fieldOptions?this.schema&&this.schema.fieldOptions:{};return I.a.merge({timePicker:!0,datePicker:!0,autoApply:!1,showDropdowns:!0,timePickerIncrement:5,showWeekNumbers:!1},e)},isTimepickerOnly:function(){return this.fieldOptions.timePicker&&!this.fieldOptions.datePicker},formatValue:function(){return this.value?this.value instanceof Date?{startDate:this.value.toISOString?this.value.toISOString():this.value||""}:"object"===Object(d.a)(this.value)&&this.value.startDate?this.value:{startDate:this.value.toISOString?this.value.toISOString():this.value||""}:{startDate:""}},getDateFormat:function(){return this.fieldOptions.format?this.fieldOptions.format:"DD.MM.YYYY HH:mm"},formatValueForDisplay:function(){return this.value?ne()(this.value).format(this.getDateFormat):this.value}},data:function(){return{inputId:"",dateRange:{startDate:new Date,endDate:new Date},dateRangePickerConfig:{startDate:(new Date).toISOString(),locale:{direction:"ltr",separator:" - ",applyLabel:"Select",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:ne.a.weekdaysMin(),monthNames:ne.a.monthsShort(),firstDay:1}}}},methods:{getDefaultInputFormat:function(){return"DD.MM.YYYY HH:mm"},onDateSelected:function(e){e&&e.startDate?this.value=e.startDate:this.value=""}},beforeDestroy:function(){}},ue=(i(461),Object(r.a)(ce,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group"},[i("DateRangePicker",e._b({class:{"date-range-timepicker-only":e.isTimepickerOnly,readonly:e.schema.readonly,disabled:e.schema.disabled},attrs:{"input-id":e.inputId,open:"auto","single-date-picker":!0,"date-range":e.formatValue,"locale-data":e.dateRangePickerConfig.locale,disabled:e.schema.disabled||e.schema.readonly,readonly:e.schema.readonly,ranges:!1,opens:"center"},on:{update:e.onDateSelected}},"DateRangePicker",e.fieldOptions,!1),[i("template",{slot:"input"},[i("span",{staticClass:"text-truncate"},[e._v(e._s(e.formatValueForDisplay))]),e._v(" "),i("i",{staticClass:"fa fa-calendar picker-icon"})])],2)],1)}),[],!1,null,"62d9d73a",null).exports),me=i(464),pe={components:{Base64Upload:m,UploadButtonToggle:h},mixins:[a.b.abstractField],data:function(){return{refresh:Date.now(),type:"image",inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass,urlFieldIsVisible:!1}},computed:{placeholderComputed:function(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder},valueIsNotObject:function(){return!this.value||"object"!==Object(d.a)(this.value)}},watch:{value:function(e,t){e!==t&&(this.refresh=Date.now())}},mounted:function(){this.oldValue=this.value},beforeDestroy:function(){},methods:{openImageInTab:function(){window.open(this.value,"_blank")},removeImage:function(){this.value=""},onChangeImage:function(e){e&&-1!==!e.type.indexOf("image")&&(this.value=e)}}},he=(i(462),Object(r.a)(pe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group field-file-input aw-form-field-image-picker"},[i("div",{staticClass:"d-flex m-0 p-0"},[e.urlFieldIsVisible?e._e():i("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}})],1),e._v(" "),e.value?i("div",{staticClass:"image-picker-actions"},[i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openImageInTab.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-external-link"})]),e._v(" "),i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.removeImage.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-trash"})])]):e._e(),e._v(" "),i("div",{staticClass:"col-12 mt-1 p-0"},[e.urlFieldIsVisible&&e.valueIsNotObject?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control image-picker-input p-1 m-0 mt-1",attrs:{placeholder:"Paste an url here",type:"text"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e()]),e._v(" "),i("UploadButtonToggle",{model:{value:e.urlFieldIsVisible,callback:function(t){e.urlFieldIsVisible=t},expression:"urlFieldIsVisible"}})],1)}),[],!1,null,null,null).exports),fe={name:"field-array",mixins:[a.b.abstractField],components:{},data:function(){return{warning:"",internalValue:[]}},computed:{schemaComputed:function(){return Object(k.a)(Object(k.a)({},this.schema),{},{model:"",fieldOptions:Object(k.a)(Object(k.a)({},this.schema.fieldOptions),{},{inputType:null})})},inputType:function(){var e=this.schema.itemsSchema,t=e.type,i=e.format;if(Array.isArray(t))for(var s=["string","number","boolean"],a=0;a<s.length;a++)if(t.indexOf(s[a])>-1){t=s[a];break}switch(t){case"string":switch(i){case"email":return"email";case"date-time":case"datetime":return"date-time";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return t}}},watch:{value:function(e,t){e&&Array.isArray(e)&&(this.internalValue=e)}},mounted:function(){this.value&&Array.isArray(this.value)&&(this.internalValue=this.value)},beforeDestroy:function(){},methods:{addItem:function(){var e;switch(this.saveItem(),this.schema.itemsSchema.type){case"object":e={};break;case"array":e=[];break;case"number":e=0;break;default:e=""}this.internalValue.push(e),this.$forceUpdate()},removeItem:function(e){this.$delete(this.internalValue,e),this.$forceUpdate()},saveItem:function(){this.value=this.internalValue}}},ge=(i(463),Object(r.a)(fe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-field-array"},[e._l(e.internalValue,(function(t,s){return i("div",{key:s,staticClass:"env-row row"},[void 0!==t?[i("button",{staticClass:"btn btn-danger btn-sm btn-delete pull-right",attrs:{type:"button"},on:{click:function(t){return e.removeItem(s)}}},[i("i",{staticClass:"fa fa-trash"})]),e._v(" "),i("div",{staticClass:"col-12"},[e.schema.itemsSchema&&"object"===e.schema.itemsSchema.type?[i("div",{staticClass:"form-group"},[i("awesome-form",{attrs:{mode:"edit",displayMode:"page",item:e.internalValue[s],"v-model":e.internalValue[s],identity:s+"",schema:e.schema.itemsSchema,displayHeader:!1,displayFooter:!1}})],1)]:[i("div",{staticClass:"form-group"},["checkbox"===e.inputType?i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"checkbox"},domProps:{checked:Array.isArray(e.internalValue[s])?e._i(e.internalValue[s],null)>-1:e.internalValue[s]},on:{change:[function(t){var i=e.internalValue[s],a=t.target,n=!!a.checked;if(Array.isArray(i)){var o=e._i(i,null);a.checked?o<0&&e.$set(e.internalValue,s,i.concat([null])):o>-1&&e.$set(e.internalValue,s,i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.internalValue,s,n)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):"radio"===e.inputType?i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"radio"},domProps:{checked:e._q(e.internalValue[s],null)},on:{change:[function(t){return e.$set(e.internalValue,s,null)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:e.inputType},domProps:{value:e.internalValue[s]},on:{change:function(t){e.schemaComputed.onChange},blur:function(t){return e.saveItem()},input:function(t){t.target.composing||e.$set(e.internalValue,s,t.target.value)}}})])]],2)]:e._e()],2)})),e._v(" "),i("button",{staticClass:"float-right btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){return e.addItem()}}},[i("i",{staticClass:"fa fa-plus"})])],2)}),[],!1,null,"139b53a9",null).exports),ye={name:"FieldComponent",mixins:[a.b.abstractField],mounted:function(){},computed:{},methods:{},beforeDestroy:function(){}},be=Object(r.a)(ye,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-custom-component"},[i(e.schema.component,e._g(e._b({tag:"component",model:{value:e.model[e.schema.model],callback:function(t){e.$set(e.model,e.schema.model,t)},expression:"model[schema.model]"}},"component",e.$props,!1),e.$listeners))],1)}),[],!1,null,null,null).exports,ve=i(379),Ce={name:"EnyoStatsCard",components:{EnyoCard:B},props:{className:String}},_e=Object(r.a)(Ce,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("enyo-card",{staticClass:"card-stats",class:e.className},[i("div",{staticClass:"row"},[e.$slots.header?i("div",{staticClass:"col-5"},[i("div",{staticClass:"icon-big text-center"},[e._t("header")],2)]):e._e(),e._v(" "),e.$slots.content?i("div",{staticClass:"col-7"},[i("div",{staticClass:"numbers"},[e._t("content")],2)]):e._e()]),e._v(" "),e.$slots.footer?i("div",{staticClass:"stats",attrs:{slot:"footer"},slot:"footer"},[e._t("footer")],2):e._e()])}),[],!1,null,null,null).exports,we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(e.prototype.awComponentsConfig={displayLabelsCache:{},relationsAreClickable:!0,primaryKey:"id",modelsStorePath:"",rolesStorePath:"",extendedRolesStorePath:"",hideIdsInSelect:!1},t.config&&(e.prototype.awComponentsConfig=I.a.merge(e.prototype.awComponentsConfig,t.config)),t.AwesomeCrud&&t.AwesomeCrud.props&&(v.default.props=I.a.merge(v.default.props,t.AwesomeCrud.props)),t.AwesomeForm&&t.AwesomeForm.props&&(C.default.props=I.a.merge(C.default.props,t.AwesomeForm.props)),t.AwesomeList&&t.AwesomeList.props&&(q.a.props=I.a.merge(q.a.props,t.AwesomeList.props)),t.AwesomeTable&&t.AwesomeTable.props&&(M.a.props=I.a.merge(M.a.props,t.AwesomeTable.props)),t.FieldVSelect&&t.FieldVSelect.props&&(me.a.props=I.a.merge(me.a.props,t.FieldVSelect.props))),e.use(ie.a),e.use(a.b,{fields:I.a.values(a.b.fieldsLoader),options:t}),e.component("enyo-card",B),e.component("enyo-stats-card",_e),e.component("enyo-stats",V.a),e.component("enyo-table-and-charts-card",S),e.component("upload-button",T),e.component("enyo-select",D),e.component("live-edit",N),e.component("fieldDateTime",ue),e.component("fieldEnyoSelect",l),e.component("fieldVSelect",me.a),e.component("fieldFileInput",g),e.component("fieldFilePicker",g),e.component("fieldJsonTextarea",b),e.component("field-textarea",se.a),e.component("field-json-textarea",b),e.component("field-json",b),e.component("fieldImagePicker",he),e.component("fieldComponent",be),e.component("field-array",ge),e.component("ajax-table",M.a),e.component("enyo-ajax-table",M.a),e.component("AwesomeTable",M.a),e.component("AwesomeList",q.a),e.component("AwesomeLayout",ve.a),e.component("AwesomeForm",C.default),e.component("crud-component",v.default),e.component("awesome-crud",v.default),e.component("awesome-kanban",U.a),e.prototype.$awEventBus||(e.prototype.$awEventBus=new e),e.prototype.$awApi||(t&&t.$awApi?e.prototype.$awApi=t.$awApi:e.prototype.$http?e.prototype.$awApi=e.prototype.$http:e.prototype.$awApi=ee.a.create({})),e.mixin(G.a)},Ae={AjaxTable:M.a,apiErrorsMixin:H.a,AutoProps:O,AwesomeForm:C.default,AwesomeTable:M.a,AwesomeList:q.a,AwesomeKanban:U.a,AwesomeCrud:v.default,AwesomeDisplay:K.a,EnyoCard:B,EnyoCrudComponent:v.default,CrudComponent:v.default,EnyoCrudStatsSection:V.a,EnyoSelect:D,FieldEnyoSelect:l,FieldFileInput:g,FieldJsonTextarea:b,FieldJson:b,install:we,LiveEdit:N,rolesMixin:z.a,TableAndChartsCard:S,UploadButton:T,FormGenerator:a.b,abstractField:a.a,notificationsMixin:G.a,AwesomeFilter:Q.a,AwesomeFilterValue:Y.a,AwesomeFilterOperator:X.a};t.default=Ae}}]);